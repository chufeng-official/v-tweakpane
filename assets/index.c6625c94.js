function Hu(i,o){for(var c=0;c<o.length;c++){const d=o[c];if(typeof d!="string"&&!Array.isArray(d)){for(const h in d)if(h!=="default"&&!(h in i)){const f=Object.getOwnPropertyDescriptor(d,h);f&&Object.defineProperty(i,h,f.get?f:{enumerable:!0,get:()=>d[h]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function c(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerpolicy&&(f.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?f.credentials="include":h.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(h){if(h.ep)return;h.ep=!0;const f=c(h);fetch(h.href,f)}})();function Po(i,o){const c=Object.create(null),d=i.split(",");for(let h=0;h<d.length;h++)c[d[h]]=!0;return o?h=>!!c[h.toLowerCase()]:h=>!!c[h]}const qu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gu=Po(qu);function la(i){return!!i||i===""}function ji(i){if(nt(i)){const o={};for(let c=0;c<i.length;c++){const d=i[c],h=Dt(d)?Xu(d):ji(d);if(h)for(const f in h)o[f]=h[f]}return o}else{if(Dt(i))return i;if(kt(i))return i}}const Yu=/;(?![^(]*\))/g,Wu=/:(.+)/;function Xu(i){const o={};return i.split(Yu).forEach(c=>{if(c){const d=c.split(Wu);d.length>1&&(o[d[0].trim()]=d[1].trim())}}),o}function ko(i){let o="";if(Dt(i))o=i;else if(nt(i))for(let c=0;c<i.length;c++){const d=ko(i[c]);d&&(o+=d+" ")}else if(kt(i))for(const c in i)i[c]&&(o+=c+" ");return o.trim()}const vt={},Yn=[],me=()=>{},Ju=()=>!1,Zu=/^on[^a-z]/,Ns=i=>Zu.test(i),Vo=i=>i.startsWith("onUpdate:"),jt=Object.assign,Mo=(i,o)=>{const c=i.indexOf(o);c>-1&&i.splice(c,1)},Qu=Object.prototype.hasOwnProperty,rt=(i,o)=>Qu.call(i,o),nt=Array.isArray,zi=i=>Rs(i)==="[object Map]",tp=i=>Rs(i)==="[object Set]",et=i=>typeof i=="function",Dt=i=>typeof i=="string",Lo=i=>typeof i=="symbol",kt=i=>i!==null&&typeof i=="object",aa=i=>kt(i)&&et(i.then)&&et(i.catch),ep=Object.prototype.toString,Rs=i=>ep.call(i),np=i=>Rs(i).slice(8,-1),ip=i=>Rs(i)==="[object Object]",To=i=>Dt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Ps=Po(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Is=i=>{const o=Object.create(null);return c=>o[c]||(o[c]=i(c))},sp=/-(\w)/g,Le=Is(i=>i.replace(sp,(o,c)=>c?c.toUpperCase():"")),rp=/\B([A-Z])/g,ei=Is(i=>i.replace(rp,"-$1").toLowerCase()),Ds=Is(i=>i.charAt(0).toUpperCase()+i.slice(1)),io=Is(i=>i?`on${Ds(i)}`:""),$i=(i,o)=>!Object.is(i,o),so=(i,o)=>{for(let c=0;c<i.length;c++)i[c](o)},Ms=(i,o,c)=>{Object.defineProperty(i,o,{configurable:!0,enumerable:!1,value:c})},op=i=>{const o=parseFloat(i);return isNaN(o)?i:o};let Sl;const lp=()=>Sl||(Sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ee;class ap{constructor(o=!1){this.detached=o,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ee,!o&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}run(o){if(this.active){const c=Ee;try{return Ee=this,o()}finally{Ee=c}}}on(){Ee=this}off(){Ee=this.parent}stop(o){if(this.active){let c,d;for(c=0,d=this.effects.length;c<d;c++)this.effects[c].stop();for(c=0,d=this.cleanups.length;c<d;c++)this.cleanups[c]();if(this.scopes)for(c=0,d=this.scopes.length;c<d;c++)this.scopes[c].stop(!0);if(!this.detached&&this.parent&&!o){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0,this.active=!1}}}function cp(i,o=Ee){o&&o.active&&o.effects.push(i)}const So=i=>{const o=new Set(i);return o.w=0,o.n=0,o},ca=i=>(i.w&cn)>0,ua=i=>(i.n&cn)>0,up=({deps:i})=>{if(i.length)for(let o=0;o<i.length;o++)i[o].w|=cn},pp=i=>{const{deps:o}=i;if(o.length){let c=0;for(let d=0;d<o.length;d++){const h=o[d];ca(h)&&!ua(h)?h.delete(i):o[c++]=h,h.w&=~cn,h.n&=~cn}o.length=c}},po=new WeakMap;let Di=0,cn=1;const ho=30;let fe;const Ln=Symbol(""),fo=Symbol("");class Ao{constructor(o,c=null,d){this.fn=o,this.scheduler=c,this.active=!0,this.deps=[],this.parent=void 0,cp(this,d)}run(){if(!this.active)return this.fn();let o=fe,c=ln;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=fe,fe=this,ln=!0,cn=1<<++Di,Di<=ho?up(this):Al(this),this.fn()}finally{Di<=ho&&pp(this),cn=1<<--Di,fe=this.parent,ln=c,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fe===this?this.deferStop=!0:this.active&&(Al(this),this.onStop&&this.onStop(),this.active=!1)}}function Al(i){const{deps:o}=i;if(o.length){for(let c=0;c<o.length;c++)o[c].delete(i);o.length=0}}let ln=!0;const pa=[];function ni(){pa.push(ln),ln=!1}function ii(){const i=pa.pop();ln=i===void 0?!0:i}function Qt(i,o,c){if(ln&&fe){let d=po.get(i);d||po.set(i,d=new Map);let h=d.get(c);h||d.set(c,h=So()),da(h)}}function da(i,o){let c=!1;Di<=ho?ua(i)||(i.n|=cn,c=!ca(i)):c=!i.has(fe),c&&(i.add(fe),fe.deps.push(i))}function je(i,o,c,d,h,f){const b=po.get(i);if(!b)return;let g=[];if(o==="clear")g=[...b.values()];else if(c==="length"&&nt(i))b.forEach((y,k)=>{(k==="length"||k>=d)&&g.push(y)});else switch(c!==void 0&&g.push(b.get(c)),o){case"add":nt(i)?To(c)&&g.push(b.get("length")):(g.push(b.get(Ln)),zi(i)&&g.push(b.get(fo)));break;case"delete":nt(i)||(g.push(b.get(Ln)),zi(i)&&g.push(b.get(fo)));break;case"set":zi(i)&&g.push(b.get(Ln));break}if(g.length===1)g[0]&&vo(g[0]);else{const y=[];for(const k of g)k&&y.push(...k);vo(So(y))}}function vo(i,o){const c=nt(i)?i:[...i];for(const d of c)d.computed&&Ol(d);for(const d of c)d.computed||Ol(d)}function Ol(i,o){(i!==fe||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const dp=Po("__proto__,__v_isRef,__isVue"),ha=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Lo)),hp=Oo(),fp=Oo(!1,!0),vp=Oo(!0),Nl=mp();function mp(){const i={};return["includes","indexOf","lastIndexOf"].forEach(o=>{i[o]=function(...c){const d=dt(this);for(let f=0,b=this.length;f<b;f++)Qt(d,"get",f+"");const h=d[o](...c);return h===-1||h===!1?d[o](...c.map(dt)):h}}),["push","pop","shift","unshift","splice"].forEach(o=>{i[o]=function(...c){ni();const d=dt(this)[o].apply(this,c);return ii(),d}}),i}function Oo(i=!1,o=!1){return function(d,h,f){if(h==="__v_isReactive")return!i;if(h==="__v_isReadonly")return i;if(h==="__v_isShallow")return o;if(h==="__v_raw"&&f===(i?o?Ap:_a:o?ba:ma).get(d))return d;const b=nt(d);if(!i&&b&&rt(Nl,h))return Reflect.get(Nl,h,f);const g=Reflect.get(d,h,f);return(Lo(h)?ha.has(h):dp(h))||(i||Qt(d,"get",h),o)?g:It(g)?b&&To(h)?g:g.value:kt(g)?i?ga(g):Io(g):g}}const bp=fa(),_p=fa(!0);function fa(i=!1){return function(c,d,h,f){let b=c[d];if(Zn(b)&&It(b)&&!It(h))return!1;if(!i&&(!Ls(h)&&!Zn(h)&&(b=dt(b),h=dt(h)),!nt(c)&&It(b)&&!It(h)))return b.value=h,!0;const g=nt(c)&&To(d)?Number(d)<c.length:rt(c,d),y=Reflect.set(c,d,h,f);return c===dt(f)&&(g?$i(h,b)&&je(c,"set",d,h):je(c,"add",d,h)),y}}function gp(i,o){const c=rt(i,o);i[o];const d=Reflect.deleteProperty(i,o);return d&&c&&je(i,"delete",o,void 0),d}function wp(i,o){const c=Reflect.has(i,o);return(!Lo(o)||!ha.has(o))&&Qt(i,"has",o),c}function xp(i){return Qt(i,"iterate",nt(i)?"length":Ln),Reflect.ownKeys(i)}const va={get:hp,set:bp,deleteProperty:gp,has:wp,ownKeys:xp},Cp={get:vp,set(i,o){return!0},deleteProperty(i,o){return!0}},yp=jt({},va,{get:fp,set:_p}),No=i=>i,zs=i=>Reflect.getPrototypeOf(i);function ws(i,o,c=!1,d=!1){i=i.__v_raw;const h=dt(i),f=dt(o);c||(o!==f&&Qt(h,"get",o),Qt(h,"get",f));const{has:b}=zs(h),g=d?No:c?zo:Ki;if(b.call(h,o))return g(i.get(o));if(b.call(h,f))return g(i.get(f));i!==h&&i.get(o)}function xs(i,o=!1){const c=this.__v_raw,d=dt(c),h=dt(i);return o||(i!==h&&Qt(d,"has",i),Qt(d,"has",h)),i===h?c.has(i):c.has(i)||c.has(h)}function Cs(i,o=!1){return i=i.__v_raw,!o&&Qt(dt(i),"iterate",Ln),Reflect.get(i,"size",i)}function Rl(i){i=dt(i);const o=dt(this);return zs(o).has.call(o,i)||(o.add(i),je(o,"add",i,i)),this}function Il(i,o){o=dt(o);const c=dt(this),{has:d,get:h}=zs(c);let f=d.call(c,i);f||(i=dt(i),f=d.call(c,i));const b=h.call(c,i);return c.set(i,o),f?$i(o,b)&&je(c,"set",i,o):je(c,"add",i,o),this}function Dl(i){const o=dt(this),{has:c,get:d}=zs(o);let h=c.call(o,i);h||(i=dt(i),h=c.call(o,i)),d&&d.call(o,i);const f=o.delete(i);return h&&je(o,"delete",i,void 0),f}function zl(){const i=dt(this),o=i.size!==0,c=i.clear();return o&&je(i,"clear",void 0,void 0),c}function ys(i,o){return function(d,h){const f=this,b=f.__v_raw,g=dt(b),y=o?No:i?zo:Ki;return!i&&Qt(g,"iterate",Ln),b.forEach((k,S)=>d.call(h,y(k),y(S),f))}}function Es(i,o,c){return function(...d){const h=this.__v_raw,f=dt(h),b=zi(f),g=i==="entries"||i===Symbol.iterator&&b,y=i==="keys"&&b,k=h[i](...d),S=c?No:o?zo:Ki;return!o&&Qt(f,"iterate",y?fo:Ln),{next(){const{value:A,done:D}=k.next();return D?{value:A,done:D}:{value:g?[S(A[0]),S(A[1])]:S(A),done:D}},[Symbol.iterator](){return this}}}}function rn(i){return function(...o){return i==="delete"?!1:this}}function Ep(){const i={get(f){return ws(this,f)},get size(){return Cs(this)},has:xs,add:Rl,set:Il,delete:Dl,clear:zl,forEach:ys(!1,!1)},o={get(f){return ws(this,f,!1,!0)},get size(){return Cs(this)},has:xs,add:Rl,set:Il,delete:Dl,clear:zl,forEach:ys(!1,!0)},c={get(f){return ws(this,f,!0)},get size(){return Cs(this,!0)},has(f){return xs.call(this,f,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:ys(!0,!1)},d={get(f){return ws(this,f,!0,!0)},get size(){return Cs(this,!0)},has(f){return xs.call(this,f,!0)},add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear"),forEach:ys(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{i[f]=Es(f,!1,!1),c[f]=Es(f,!0,!1),o[f]=Es(f,!1,!0),d[f]=Es(f,!0,!0)}),[i,c,o,d]}const[Pp,kp,Vp,Mp]=Ep();function Ro(i,o){const c=o?i?Mp:Vp:i?kp:Pp;return(d,h,f)=>h==="__v_isReactive"?!i:h==="__v_isReadonly"?i:h==="__v_raw"?d:Reflect.get(rt(c,h)&&h in d?c:d,h,f)}const Lp={get:Ro(!1,!1)},Tp={get:Ro(!1,!0)},Sp={get:Ro(!0,!1)},ma=new WeakMap,ba=new WeakMap,_a=new WeakMap,Ap=new WeakMap;function Op(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Np(i){return i.__v_skip||!Object.isExtensible(i)?0:Op(np(i))}function Io(i){return Zn(i)?i:Do(i,!1,va,Lp,ma)}function Rp(i){return Do(i,!1,yp,Tp,ba)}function ga(i){return Do(i,!0,Cp,Sp,_a)}function Do(i,o,c,d,h){if(!kt(i)||i.__v_raw&&!(o&&i.__v_isReactive))return i;const f=h.get(i);if(f)return f;const b=Np(i);if(b===0)return i;const g=new Proxy(i,b===2?d:c);return h.set(i,g),g}function Wn(i){return Zn(i)?Wn(i.__v_raw):!!(i&&i.__v_isReactive)}function Zn(i){return!!(i&&i.__v_isReadonly)}function Ls(i){return!!(i&&i.__v_isShallow)}function wa(i){return Wn(i)||Zn(i)}function dt(i){const o=i&&i.__v_raw;return o?dt(o):i}function xa(i){return Ms(i,"__v_skip",!0),i}const Ki=i=>kt(i)?Io(i):i,zo=i=>kt(i)?ga(i):i;function Ca(i){ln&&fe&&(i=dt(i),da(i.dep||(i.dep=So())))}function ya(i,o){i=dt(i),i.dep&&vo(i.dep)}function It(i){return!!(i&&i.__v_isRef===!0)}function mo(i){return Ip(i,!1)}function Ip(i,o){return It(i)?i:new Dp(i,o)}class Dp{constructor(o,c){this.__v_isShallow=c,this.dep=void 0,this.__v_isRef=!0,this._rawValue=c?o:dt(o),this._value=c?o:Ki(o)}get value(){return Ca(this),this._value}set value(o){const c=this.__v_isShallow||Ls(o)||Zn(o);o=c?o:dt(o),$i(o,this._rawValue)&&(this._rawValue=o,this._value=c?o:Ki(o),ya(this))}}function zp(i){return It(i)?i.value:i}const Bp={get:(i,o,c)=>zp(Reflect.get(i,o,c)),set:(i,o,c,d)=>{const h=i[o];return It(h)&&!It(c)?(h.value=c,!0):Reflect.set(i,o,c,d)}};function Ea(i){return Wn(i)?i:new Proxy(i,Bp)}var Pa;class Fp{constructor(o,c,d,h){this._setter=c,this.dep=void 0,this.__v_isRef=!0,this[Pa]=!1,this._dirty=!0,this.effect=new Ao(o,()=>{this._dirty||(this._dirty=!0,ya(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!h,this.__v_isReadonly=d}get value(){const o=dt(this);return Ca(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}Pa="__v_isReadonly";function jp(i,o,c=!1){let d,h;const f=et(i);return f?(d=i,h=me):(d=i.get,h=i.set),new Fp(d,h,f||!h,c)}function an(i,o,c,d){let h;try{h=d?i(...d):i()}catch(f){Bs(f,o,c)}return h}function be(i,o,c,d){if(et(i)){const f=an(i,o,c,d);return f&&aa(f)&&f.catch(b=>{Bs(b,o,c)}),f}const h=[];for(let f=0;f<i.length;f++)h.push(be(i[f],o,c,d));return h}function Bs(i,o,c,d=!0){const h=o?o.vnode:null;if(o){let f=o.parent;const b=o.proxy,g=c;for(;f;){const k=f.ec;if(k){for(let S=0;S<k.length;S++)if(k[S](i,b,g)===!1)return}f=f.parent}const y=o.appContext.config.errorHandler;if(y){an(y,null,10,[i,b,g]);return}}$p(i,c,h,d)}function $p(i,o,c,d=!0){console.error(i)}let Ui=!1,bo=!1;const Rt=[];let Ve=0;const Xn=[];let Fe=null,Vn=0;const ka=Promise.resolve();let Bo=null;function Va(i){const o=Bo||ka;return i?o.then(this?i.bind(this):i):o}function Kp(i){let o=Ve+1,c=Rt.length;for(;o<c;){const d=o+c>>>1;Hi(Rt[d])<i?o=d+1:c=d}return o}function Fo(i){(!Rt.length||!Rt.includes(i,Ui&&i.allowRecurse?Ve+1:Ve))&&(i.id==null?Rt.push(i):Rt.splice(Kp(i.id),0,i),Ma())}function Ma(){!Ui&&!bo&&(bo=!0,Bo=ka.then(Ta))}function Up(i){const o=Rt.indexOf(i);o>Ve&&Rt.splice(o,1)}function Hp(i){nt(i)?Xn.push(...i):(!Fe||!Fe.includes(i,i.allowRecurse?Vn+1:Vn))&&Xn.push(i),Ma()}function Bl(i,o=Ui?Ve+1:0){for(;o<Rt.length;o++){const c=Rt[o];c&&c.pre&&(Rt.splice(o,1),o--,c())}}function La(i){if(Xn.length){const o=[...new Set(Xn)];if(Xn.length=0,Fe){Fe.push(...o);return}for(Fe=o,Fe.sort((c,d)=>Hi(c)-Hi(d)),Vn=0;Vn<Fe.length;Vn++)Fe[Vn]();Fe=null,Vn=0}}const Hi=i=>i.id==null?1/0:i.id,qp=(i,o)=>{const c=Hi(i)-Hi(o);if(c===0){if(i.pre&&!o.pre)return-1;if(o.pre&&!i.pre)return 1}return c};function Ta(i){bo=!1,Ui=!0,Rt.sort(qp);const o=me;try{for(Ve=0;Ve<Rt.length;Ve++){const c=Rt[Ve];c&&c.active!==!1&&an(c,null,14)}}finally{Ve=0,Rt.length=0,La(),Ui=!1,Bo=null,(Rt.length||Xn.length)&&Ta()}}function Gp(i,o,...c){if(i.isUnmounted)return;const d=i.vnode.props||vt;let h=c;const f=o.startsWith("update:"),b=f&&o.slice(7);if(b&&b in d){const S=`${b==="modelValue"?"model":b}Modifiers`,{number:A,trim:D}=d[S]||vt;D&&(h=c.map(X=>X.trim())),A&&(h=c.map(op))}let g,y=d[g=io(o)]||d[g=io(Le(o))];!y&&f&&(y=d[g=io(ei(o))]),y&&be(y,i,6,h);const k=d[g+"Once"];if(k){if(!i.emitted)i.emitted={};else if(i.emitted[g])return;i.emitted[g]=!0,be(k,i,6,h)}}function Sa(i,o,c=!1){const d=o.emitsCache,h=d.get(i);if(h!==void 0)return h;const f=i.emits;let b={},g=!1;if(!et(i)){const y=k=>{const S=Sa(k,o,!0);S&&(g=!0,jt(b,S))};!c&&o.mixins.length&&o.mixins.forEach(y),i.extends&&y(i.extends),i.mixins&&i.mixins.forEach(y)}return!f&&!g?(kt(i)&&d.set(i,null),null):(nt(f)?f.forEach(y=>b[y]=null):jt(b,f),kt(i)&&d.set(i,b),b)}function Fs(i,o){return!i||!Ns(o)?!1:(o=o.slice(2).replace(/Once$/,""),rt(i,o[0].toLowerCase()+o.slice(1))||rt(i,ei(o))||rt(i,o))}let Me=null,js=null;function Ts(i){const o=Me;return Me=i,js=i&&i.type.__scopeId||null,o}function Yp(i){js=i}function Wp(){js=null}function Xp(i,o=Me,c){if(!o||i._n)return i;const d=(...h)=>{d._d&&Xl(-1);const f=Ts(o);let b;try{b=i(...h)}finally{Ts(f),d._d&&Xl(1)}return b};return d._n=!0,d._c=!0,d._d=!0,d}function ro(i){const{type:o,vnode:c,proxy:d,withProxy:h,props:f,propsOptions:[b],slots:g,attrs:y,emit:k,render:S,renderCache:A,data:D,setupState:X,ctx:K,inheritAttrs:J}=i;let ot,q;const $t=Ts(i);try{if(c.shapeFlag&4){const _t=h||d;ot=ke(S.call(_t,_t,A,f,X,D,K)),q=y}else{const _t=o;ot=ke(_t.length>1?_t(f,{attrs:y,slots:g,emit:k}):_t(f,null)),q=o.props?y:Jp(y)}}catch(_t){Bi.length=0,Bs(_t,i,1),ot=Xt(Sn)}let G=ot;if(q&&J!==!1){const _t=Object.keys(q),{shapeFlag:_e}=G;_t.length&&_e&7&&(b&&_t.some(Vo)&&(q=Zp(q,b)),G=Qn(G,q))}return c.dirs&&(G=Qn(G),G.dirs=G.dirs?G.dirs.concat(c.dirs):c.dirs),c.transition&&(G.transition=c.transition),ot=G,Ts($t),ot}const Jp=i=>{let o;for(const c in i)(c==="class"||c==="style"||Ns(c))&&((o||(o={}))[c]=i[c]);return o},Zp=(i,o)=>{const c={};for(const d in i)(!Vo(d)||!(d.slice(9)in o))&&(c[d]=i[d]);return c};function Qp(i,o,c){const{props:d,children:h,component:f}=i,{props:b,children:g,patchFlag:y}=o,k=f.emitsOptions;if(o.dirs||o.transition)return!0;if(c&&y>=0){if(y&1024)return!0;if(y&16)return d?Fl(d,b,k):!!b;if(y&8){const S=o.dynamicProps;for(let A=0;A<S.length;A++){const D=S[A];if(b[D]!==d[D]&&!Fs(k,D))return!0}}}else return(h||g)&&(!g||!g.$stable)?!0:d===b?!1:d?b?Fl(d,b,k):!0:!!b;return!1}function Fl(i,o,c){const d=Object.keys(o);if(d.length!==Object.keys(i).length)return!0;for(let h=0;h<d.length;h++){const f=d[h];if(o[f]!==i[f]&&!Fs(c,f))return!0}return!1}function td({vnode:i,parent:o},c){for(;o&&o.subTree===i;)(i=o.vnode).el=c,o=o.parent}const ed=i=>i.__isSuspense;function nd(i,o){o&&o.pendingBranch?nt(i)?o.effects.push(...i):o.effects.push(i):Hp(i)}function id(i,o){if(St){let c=St.provides;const d=St.parent&&St.parent.provides;d===c&&(c=St.provides=Object.create(d)),c[i]=o}}function oo(i,o,c=!1){const d=St||Me;if(d){const h=d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides;if(h&&i in h)return h[i];if(arguments.length>1)return c&&et(o)?o.call(d.proxy):o}}const jl={};function lo(i,o,c){return Aa(i,o,c)}function Aa(i,o,{immediate:c,deep:d,flush:h,onTrack:f,onTrigger:b}=vt){const g=St;let y,k=!1,S=!1;if(It(i)?(y=()=>i.value,k=Ls(i)):Wn(i)?(y=()=>i,d=!0):nt(i)?(S=!0,k=i.some(q=>Wn(q)||Ls(q)),y=()=>i.map(q=>{if(It(q))return q.value;if(Wn(q))return Gn(q);if(et(q))return an(q,g,2)})):et(i)?o?y=()=>an(i,g,2):y=()=>{if(!(g&&g.isUnmounted))return A&&A(),be(i,g,3,[D])}:y=me,o&&d){const q=y;y=()=>Gn(q())}let A,D=q=>{A=ot.onStop=()=>{an(q,g,4)}};if(Gi)return D=me,o?c&&be(o,g,3,[y(),S?[]:void 0,D]):y(),me;let X=S?[]:jl;const K=()=>{if(!!ot.active)if(o){const q=ot.run();(d||k||(S?q.some(($t,G)=>$i($t,X[G])):$i(q,X)))&&(A&&A(),be(o,g,3,[q,X===jl?void 0:X,D]),X=q)}else ot.run()};K.allowRecurse=!!o;let J;h==="sync"?J=K:h==="post"?J=()=>Wt(K,g&&g.suspense):(K.pre=!0,g&&(K.id=g.uid),J=()=>Fo(K));const ot=new Ao(y,J);return o?c?K():X=ot.run():h==="post"?Wt(ot.run.bind(ot),g&&g.suspense):ot.run(),()=>{ot.stop(),g&&g.scope&&Mo(g.scope.effects,ot)}}function sd(i,o,c){const d=this.proxy,h=Dt(i)?i.includes(".")?Oa(d,i):()=>d[i]:i.bind(d,d);let f;et(o)?f=o:(f=o.handler,c=o);const b=St;ti(this);const g=Aa(h,f.bind(d),c);return b?ti(b):Tn(),g}function Oa(i,o){const c=o.split(".");return()=>{let d=i;for(let h=0;h<c.length&&d;h++)d=d[c[h]];return d}}function Gn(i,o){if(!kt(i)||i.__v_skip||(o=o||new Set,o.has(i)))return i;if(o.add(i),It(i))Gn(i.value,o);else if(nt(i))for(let c=0;c<i.length;c++)Gn(i[c],o);else if(tp(i)||zi(i))i.forEach(c=>{Gn(c,o)});else if(ip(i))for(const c in i)Gn(i[c],o);return i}function jo(i){return et(i)?{setup:i,name:i.name}:i}const ks=i=>!!i.type.__asyncLoader,Na=i=>i.type.__isKeepAlive;function rd(i,o){Ra(i,"a",o)}function od(i,o){Ra(i,"da",o)}function Ra(i,o,c=St){const d=i.__wdc||(i.__wdc=()=>{let h=c;for(;h;){if(h.isDeactivated)return;h=h.parent}return i()});if($s(o,d,c),c){let h=c.parent;for(;h&&h.parent;)Na(h.parent.vnode)&&ld(d,o,c,h),h=h.parent}}function ld(i,o,c,d){const h=$s(o,i,d,!0);Da(()=>{Mo(d[o],h)},c)}function $s(i,o,c=St,d=!1){if(c){const h=c[i]||(c[i]=[]),f=o.__weh||(o.__weh=(...b)=>{if(c.isUnmounted)return;ni(),ti(c);const g=be(o,c,i,b);return Tn(),ii(),g});return d?h.unshift(f):h.push(f),f}}const $e=i=>(o,c=St)=>(!Gi||i==="sp")&&$s(i,(...d)=>o(...d),c),ad=$e("bm"),Ia=$e("m"),cd=$e("bu"),ud=$e("u"),pd=$e("bum"),Da=$e("um"),dd=$e("sp"),hd=$e("rtg"),fd=$e("rtc");function vd(i,o=St){$s("ec",i,o)}function En(i,o,c,d){const h=i.dirs,f=o&&o.dirs;for(let b=0;b<h.length;b++){const g=h[b];f&&(g.oldValue=f[b].value);let y=g.dir[d];y&&(ni(),be(y,c,8,[i.el,g,i,o]),ii())}}const za="components";function $l(i,o){return bd(za,i,!0,o)||i}const md=Symbol();function bd(i,o,c=!0,d=!1){const h=Me||St;if(h){const f=h.type;if(i===za){const g=Wd(f,!1);if(g&&(g===o||g===Le(o)||g===Ds(Le(o))))return f}const b=Kl(h[i]||f[i],o)||Kl(h.appContext[i],o);return!b&&d?f:b}}function Kl(i,o){return i&&(i[o]||i[Le(o)]||i[Ds(Le(o))])}const _o=i=>i?Wa(i)?qo(i)||i.proxy:_o(i.parent):null,Ss=jt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>_o(i.parent),$root:i=>_o(i.root),$emit:i=>i.emit,$options:i=>$o(i),$forceUpdate:i=>i.f||(i.f=()=>Fo(i.update)),$nextTick:i=>i.n||(i.n=Va.bind(i.proxy)),$watch:i=>sd.bind(i)}),_d={get({_:i},o){const{ctx:c,setupState:d,data:h,props:f,accessCache:b,type:g,appContext:y}=i;let k;if(o[0]!=="$"){const X=b[o];if(X!==void 0)switch(X){case 1:return d[o];case 2:return h[o];case 4:return c[o];case 3:return f[o]}else{if(d!==vt&&rt(d,o))return b[o]=1,d[o];if(h!==vt&&rt(h,o))return b[o]=2,h[o];if((k=i.propsOptions[0])&&rt(k,o))return b[o]=3,f[o];if(c!==vt&&rt(c,o))return b[o]=4,c[o];go&&(b[o]=0)}}const S=Ss[o];let A,D;if(S)return o==="$attrs"&&Qt(i,"get",o),S(i);if((A=g.__cssModules)&&(A=A[o]))return A;if(c!==vt&&rt(c,o))return b[o]=4,c[o];if(D=y.config.globalProperties,rt(D,o))return D[o]},set({_:i},o,c){const{data:d,setupState:h,ctx:f}=i;return h!==vt&&rt(h,o)?(h[o]=c,!0):d!==vt&&rt(d,o)?(d[o]=c,!0):rt(i.props,o)||o[0]==="$"&&o.slice(1)in i?!1:(f[o]=c,!0)},has({_:{data:i,setupState:o,accessCache:c,ctx:d,appContext:h,propsOptions:f}},b){let g;return!!c[b]||i!==vt&&rt(i,b)||o!==vt&&rt(o,b)||(g=f[0])&&rt(g,b)||rt(d,b)||rt(Ss,b)||rt(h.config.globalProperties,b)},defineProperty(i,o,c){return c.get!=null?i._.accessCache[o]=0:rt(c,"value")&&this.set(i,o,c.value,null),Reflect.defineProperty(i,o,c)}};let go=!0;function gd(i){const o=$o(i),c=i.proxy,d=i.ctx;go=!1,o.beforeCreate&&Ul(o.beforeCreate,i,"bc");const{data:h,computed:f,methods:b,watch:g,provide:y,inject:k,created:S,beforeMount:A,mounted:D,beforeUpdate:X,updated:K,activated:J,deactivated:ot,beforeDestroy:q,beforeUnmount:$t,destroyed:G,unmounted:_t,render:_e,renderTracked:te,renderTriggered:xt,errorCaptured:ie,serverPrefetch:Ct,expose:ht,inheritAttrs:se,components:Ke,directives:Te,filters:zt}=o;if(k&&wd(k,d,null,i.appContext.config.unwrapInjectedRef),b)for(const F in b){const ut=b[F];et(ut)&&(d[F]=ut.bind(c))}if(h){const F=h.call(c,c);kt(F)&&(i.data=Io(F))}if(go=!0,f)for(const F in f){const ut=f[F],re=et(ut)?ut.bind(c,c):et(ut.get)?ut.get.bind(c,c):me,Se=!et(ut)&&et(ut.set)?ut.set.bind(c):me,yt=Jd({get:re,set:Se});Object.defineProperty(d,F,{enumerable:!0,configurable:!0,get:()=>yt.value,set:At=>yt.value=At})}if(g)for(const F in g)Ba(g[F],d,c,F);if(y){const F=et(y)?y.call(c):y;Reflect.ownKeys(F).forEach(ut=>{id(ut,F[ut])})}S&&Ul(S,i,"c");function tt(F,ut){nt(ut)?ut.forEach(re=>F(re.bind(c))):ut&&F(ut.bind(c))}if(tt(ad,A),tt(Ia,D),tt(cd,X),tt(ud,K),tt(rd,J),tt(od,ot),tt(vd,ie),tt(fd,te),tt(hd,xt),tt(pd,$t),tt(Da,_t),tt(dd,Ct),nt(ht))if(ht.length){const F=i.exposed||(i.exposed={});ht.forEach(ut=>{Object.defineProperty(F,ut,{get:()=>c[ut],set:re=>c[ut]=re})})}else i.exposed||(i.exposed={});_e&&i.render===me&&(i.render=_e),se!=null&&(i.inheritAttrs=se),Ke&&(i.components=Ke),Te&&(i.directives=Te)}function wd(i,o,c=me,d=!1){nt(i)&&(i=wo(i));for(const h in i){const f=i[h];let b;kt(f)?"default"in f?b=oo(f.from||h,f.default,!0):b=oo(f.from||h):b=oo(f),It(b)&&d?Object.defineProperty(o,h,{enumerable:!0,configurable:!0,get:()=>b.value,set:g=>b.value=g}):o[h]=b}}function Ul(i,o,c){be(nt(i)?i.map(d=>d.bind(o.proxy)):i.bind(o.proxy),o,c)}function Ba(i,o,c,d){const h=d.includes(".")?Oa(c,d):()=>c[d];if(Dt(i)){const f=o[i];et(f)&&lo(h,f)}else if(et(i))lo(h,i.bind(c));else if(kt(i))if(nt(i))i.forEach(f=>Ba(f,o,c,d));else{const f=et(i.handler)?i.handler.bind(c):o[i.handler];et(f)&&lo(h,f,i)}}function $o(i){const o=i.type,{mixins:c,extends:d}=o,{mixins:h,optionsCache:f,config:{optionMergeStrategies:b}}=i.appContext,g=f.get(o);let y;return g?y=g:!h.length&&!c&&!d?y=o:(y={},h.length&&h.forEach(k=>As(y,k,b,!0)),As(y,o,b)),kt(o)&&f.set(o,y),y}function As(i,o,c,d=!1){const{mixins:h,extends:f}=o;f&&As(i,f,c,!0),h&&h.forEach(b=>As(i,b,c,!0));for(const b in o)if(!(d&&b==="expose")){const g=xd[b]||c&&c[b];i[b]=g?g(i[b],o[b]):o[b]}return i}const xd={data:Hl,props:kn,emits:kn,methods:kn,computed:kn,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:kn,directives:kn,watch:yd,provide:Hl,inject:Cd};function Hl(i,o){return o?i?function(){return jt(et(i)?i.call(this,this):i,et(o)?o.call(this,this):o)}:o:i}function Cd(i,o){return kn(wo(i),wo(o))}function wo(i){if(nt(i)){const o={};for(let c=0;c<i.length;c++)o[i[c]]=i[c];return o}return i}function Ft(i,o){return i?[...new Set([].concat(i,o))]:o}function kn(i,o){return i?jt(jt(Object.create(null),i),o):o}function yd(i,o){if(!i)return o;if(!o)return i;const c=jt(Object.create(null),i);for(const d in o)c[d]=Ft(i[d],o[d]);return c}function Ed(i,o,c,d=!1){const h={},f={};Ms(f,Ks,1),i.propsDefaults=Object.create(null),Fa(i,o,h,f);for(const b in i.propsOptions[0])b in h||(h[b]=void 0);c?i.props=d?h:Rp(h):i.type.props?i.props=h:i.props=f,i.attrs=f}function Pd(i,o,c,d){const{props:h,attrs:f,vnode:{patchFlag:b}}=i,g=dt(h),[y]=i.propsOptions;let k=!1;if((d||b>0)&&!(b&16)){if(b&8){const S=i.vnode.dynamicProps;for(let A=0;A<S.length;A++){let D=S[A];if(Fs(i.emitsOptions,D))continue;const X=o[D];if(y)if(rt(f,D))X!==f[D]&&(f[D]=X,k=!0);else{const K=Le(D);h[K]=xo(y,g,K,X,i,!1)}else X!==f[D]&&(f[D]=X,k=!0)}}}else{Fa(i,o,h,f)&&(k=!0);let S;for(const A in g)(!o||!rt(o,A)&&((S=ei(A))===A||!rt(o,S)))&&(y?c&&(c[A]!==void 0||c[S]!==void 0)&&(h[A]=xo(y,g,A,void 0,i,!0)):delete h[A]);if(f!==g)for(const A in f)(!o||!rt(o,A)&&!0)&&(delete f[A],k=!0)}k&&je(i,"set","$attrs")}function Fa(i,o,c,d){const[h,f]=i.propsOptions;let b=!1,g;if(o)for(let y in o){if(Ps(y))continue;const k=o[y];let S;h&&rt(h,S=Le(y))?!f||!f.includes(S)?c[S]=k:(g||(g={}))[S]=k:Fs(i.emitsOptions,y)||(!(y in d)||k!==d[y])&&(d[y]=k,b=!0)}if(f){const y=dt(c),k=g||vt;for(let S=0;S<f.length;S++){const A=f[S];c[A]=xo(h,y,A,k[A],i,!rt(k,A))}}return b}function xo(i,o,c,d,h,f){const b=i[c];if(b!=null){const g=rt(b,"default");if(g&&d===void 0){const y=b.default;if(b.type!==Function&&et(y)){const{propsDefaults:k}=h;c in k?d=k[c]:(ti(h),d=k[c]=y.call(null,o),Tn())}else d=y}b[0]&&(f&&!g?d=!1:b[1]&&(d===""||d===ei(c))&&(d=!0))}return d}function ja(i,o,c=!1){const d=o.propsCache,h=d.get(i);if(h)return h;const f=i.props,b={},g=[];let y=!1;if(!et(i)){const S=A=>{y=!0;const[D,X]=ja(A,o,!0);jt(b,D),X&&g.push(...X)};!c&&o.mixins.length&&o.mixins.forEach(S),i.extends&&S(i.extends),i.mixins&&i.mixins.forEach(S)}if(!f&&!y)return kt(i)&&d.set(i,Yn),Yn;if(nt(f))for(let S=0;S<f.length;S++){const A=Le(f[S]);ql(A)&&(b[A]=vt)}else if(f)for(const S in f){const A=Le(S);if(ql(A)){const D=f[S],X=b[A]=nt(D)||et(D)?{type:D}:D;if(X){const K=Wl(Boolean,X.type),J=Wl(String,X.type);X[0]=K>-1,X[1]=J<0||K<J,(K>-1||rt(X,"default"))&&g.push(A)}}}const k=[b,g];return kt(i)&&d.set(i,k),k}function ql(i){return i[0]!=="$"}function Gl(i){const o=i&&i.toString().match(/^\s*function (\w+)/);return o?o[1]:i===null?"null":""}function Yl(i,o){return Gl(i)===Gl(o)}function Wl(i,o){return nt(o)?o.findIndex(c=>Yl(c,i)):et(o)&&Yl(o,i)?0:-1}const $a=i=>i[0]==="_"||i==="$stable",Ko=i=>nt(i)?i.map(ke):[ke(i)],kd=(i,o,c)=>{if(o._n)return o;const d=Xp((...h)=>Ko(o(...h)),c);return d._c=!1,d},Ka=(i,o,c)=>{const d=i._ctx;for(const h in i){if($a(h))continue;const f=i[h];if(et(f))o[h]=kd(h,f,d);else if(f!=null){const b=Ko(f);o[h]=()=>b}}},Ua=(i,o)=>{const c=Ko(o);i.slots.default=()=>c},Vd=(i,o)=>{if(i.vnode.shapeFlag&32){const c=o._;c?(i.slots=dt(o),Ms(o,"_",c)):Ka(o,i.slots={})}else i.slots={},o&&Ua(i,o);Ms(i.slots,Ks,1)},Md=(i,o,c)=>{const{vnode:d,slots:h}=i;let f=!0,b=vt;if(d.shapeFlag&32){const g=o._;g?c&&g===1?f=!1:(jt(h,o),!c&&g===1&&delete h._):(f=!o.$stable,Ka(o,h)),b=o}else o&&(Ua(i,o),b={default:1});if(f)for(const g in h)!$a(g)&&!(g in b)&&delete h[g]};function Ha(){return{app:null,config:{isNativeTag:Ju,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ld=0;function Td(i,o){return function(d,h=null){et(d)||(d=Object.assign({},d)),h!=null&&!kt(h)&&(h=null);const f=Ha(),b=new Set;let g=!1;const y=f.app={_uid:Ld++,_component:d,_props:h,_container:null,_context:f,_instance:null,version:Zd,get config(){return f.config},set config(k){},use(k,...S){return b.has(k)||(k&&et(k.install)?(b.add(k),k.install(y,...S)):et(k)&&(b.add(k),k(y,...S))),y},mixin(k){return f.mixins.includes(k)||f.mixins.push(k),y},component(k,S){return S?(f.components[k]=S,y):f.components[k]},directive(k,S){return S?(f.directives[k]=S,y):f.directives[k]},mount(k,S,A){if(!g){const D=Xt(d,h);return D.appContext=f,S&&o?o(D,k):i(D,k,A),g=!0,y._container=k,k.__vue_app__=y,qo(D.component)||D.component.proxy}},unmount(){g&&(i(null,y._container),delete y._container.__vue_app__)},provide(k,S){return f.provides[k]=S,y}};return y}}function Co(i,o,c,d,h=!1){if(nt(i)){i.forEach((D,X)=>Co(D,o&&(nt(o)?o[X]:o),c,d,h));return}if(ks(d)&&!h)return;const f=d.shapeFlag&4?qo(d.component)||d.component.proxy:d.el,b=h?null:f,{i:g,r:y}=i,k=o&&o.r,S=g.refs===vt?g.refs={}:g.refs,A=g.setupState;if(k!=null&&k!==y&&(Dt(k)?(S[k]=null,rt(A,k)&&(A[k]=null)):It(k)&&(k.value=null)),et(y))an(y,g,12,[b,S]);else{const D=Dt(y),X=It(y);if(D||X){const K=()=>{if(i.f){const J=D?rt(A,y)?A[y]:S[y]:y.value;h?nt(J)&&Mo(J,f):nt(J)?J.includes(f)||J.push(f):D?(S[y]=[f],rt(A,y)&&(A[y]=S[y])):(y.value=[f],i.k&&(S[i.k]=y.value))}else D?(S[y]=b,rt(A,y)&&(A[y]=b)):X&&(y.value=b,i.k&&(S[i.k]=b))};b?(K.id=-1,Wt(K,c)):K()}}}const Wt=nd;function Sd(i){return Ad(i)}function Ad(i,o){const c=lp();c.__VUE__=!0;const{insert:d,remove:h,patchProp:f,createElement:b,createText:g,createComment:y,setText:k,setElementText:S,parentNode:A,nextSibling:D,setScopeId:X=me,insertStaticContent:K}=i,J=(_,w,P,M=null,V=null,N=null,z=!1,O=null,R=!!w.dynamicChildren)=>{if(_===w)return;_&&!Ii(_,w)&&(M=Ae(_),At(_,V,N,!0),_=null),w.patchFlag===-2&&(R=!1,w.dynamicChildren=null);const{type:L,ref:U,shapeFlag:B}=w;switch(L){case Uo:ot(_,w,P,M);break;case Sn:q(_,w,P,M);break;case ao:_==null&&$t(w,P,M,z);break;case Pe:Ke(_,w,P,M,V,N,z,O,R);break;default:B&1?_e(_,w,P,M,V,N,z,O,R):B&6?Te(_,w,P,M,V,N,z,O,R):(B&64||B&128)&&L.process(_,w,P,M,V,N,z,O,R,Mt)}U!=null&&V&&Co(U,_&&_.ref,N,w||_,!w)},ot=(_,w,P,M)=>{if(_==null)d(w.el=g(w.children),P,M);else{const V=w.el=_.el;w.children!==_.children&&k(V,w.children)}},q=(_,w,P,M)=>{_==null?d(w.el=y(w.children||""),P,M):w.el=_.el},$t=(_,w,P,M)=>{[_.el,_.anchor]=K(_.children,w,P,M,_.el,_.anchor)},G=({el:_,anchor:w},P,M)=>{let V;for(;_&&_!==w;)V=D(_),d(_,P,M),_=V;d(w,P,M)},_t=({el:_,anchor:w})=>{let P;for(;_&&_!==w;)P=D(_),h(_),_=P;h(w)},_e=(_,w,P,M,V,N,z,O,R)=>{z=z||w.type==="svg",_==null?te(w,P,M,V,N,z,O,R):Ct(_,w,V,N,z,O,R)},te=(_,w,P,M,V,N,z,O)=>{let R,L;const{type:U,props:B,shapeFlag:$,transition:Y,dirs:Z}=_;if(R=_.el=b(_.type,N,B&&B.is,B),$&8?S(R,_.children):$&16&&ie(_.children,R,null,M,V,N&&U!=="foreignObject",z,O),Z&&En(_,null,M,"created"),B){for(const st in B)st!=="value"&&!Ps(st)&&f(R,st,null,B[st],N,_.children,M,V,Kt);"value"in B&&f(R,"value",null,B.value),(L=B.onVnodeBeforeMount)&&ye(L,M,_)}xt(R,_,_.scopeId,z,M),Z&&En(_,null,M,"beforeMount");const it=(!V||V&&!V.pendingBranch)&&Y&&!Y.persisted;it&&Y.beforeEnter(R),d(R,w,P),((L=B&&B.onVnodeMounted)||it||Z)&&Wt(()=>{L&&ye(L,M,_),it&&Y.enter(R),Z&&En(_,null,M,"mounted")},V)},xt=(_,w,P,M,V)=>{if(P&&X(_,P),M)for(let N=0;N<M.length;N++)X(_,M[N]);if(V){let N=V.subTree;if(w===N){const z=V.vnode;xt(_,z,z.scopeId,z.slotScopeIds,V.parent)}}},ie=(_,w,P,M,V,N,z,O,R=0)=>{for(let L=R;L<_.length;L++){const U=_[L]=O?on(_[L]):ke(_[L]);J(null,U,w,P,M,V,N,z,O)}},Ct=(_,w,P,M,V,N,z)=>{const O=w.el=_.el;let{patchFlag:R,dynamicChildren:L,dirs:U}=w;R|=_.patchFlag&16;const B=_.props||vt,$=w.props||vt;let Y;P&&Pn(P,!1),(Y=$.onVnodeBeforeUpdate)&&ye(Y,P,w,_),U&&En(w,_,P,"beforeUpdate"),P&&Pn(P,!0);const Z=V&&w.type!=="foreignObject";if(L?ht(_.dynamicChildren,L,O,P,M,Z,N):z||ut(_,w,O,null,P,M,Z,N,!1),R>0){if(R&16)se(O,w,B,$,P,M,V);else if(R&2&&B.class!==$.class&&f(O,"class",null,$.class,V),R&4&&f(O,"style",B.style,$.style,V),R&8){const it=w.dynamicProps;for(let st=0;st<it.length;st++){const lt=it[st],Et=B[lt],Ut=$[lt];(Ut!==Et||lt==="value")&&f(O,lt,Et,Ut,V,_.children,P,M,Kt)}}R&1&&_.children!==w.children&&S(O,w.children)}else!z&&L==null&&se(O,w,B,$,P,M,V);((Y=$.onVnodeUpdated)||U)&&Wt(()=>{Y&&ye(Y,P,w,_),U&&En(w,_,P,"updated")},M)},ht=(_,w,P,M,V,N,z)=>{for(let O=0;O<w.length;O++){const R=_[O],L=w[O],U=R.el&&(R.type===Pe||!Ii(R,L)||R.shapeFlag&70)?A(R.el):P;J(R,L,U,null,M,V,N,z,!0)}},se=(_,w,P,M,V,N,z)=>{if(P!==M){if(P!==vt)for(const O in P)!Ps(O)&&!(O in M)&&f(_,O,P[O],null,z,w.children,V,N,Kt);for(const O in M){if(Ps(O))continue;const R=M[O],L=P[O];R!==L&&O!=="value"&&f(_,O,L,R,z,w.children,V,N,Kt)}"value"in M&&f(_,"value",P.value,M.value)}},Ke=(_,w,P,M,V,N,z,O,R)=>{const L=w.el=_?_.el:g(""),U=w.anchor=_?_.anchor:g("");let{patchFlag:B,dynamicChildren:$,slotScopeIds:Y}=w;Y&&(O=O?O.concat(Y):Y),_==null?(d(L,P,M),d(U,P,M),ie(w.children,P,U,V,N,z,O,R)):B>0&&B&64&&$&&_.dynamicChildren?(ht(_.dynamicChildren,$,P,V,N,z,O),(w.key!=null||V&&w===V.subTree)&&qa(_,w,!0)):ut(_,w,P,U,V,N,z,O,R)},Te=(_,w,P,M,V,N,z,O,R)=>{w.slotScopeIds=O,_==null?w.shapeFlag&512?V.ctx.activate(w,P,M,z,R):zt(w,P,M,V,N,z,R):un(_,w,R)},zt=(_,w,P,M,V,N,z)=>{const O=_.component=Ud(_,M,V);if(Na(_)&&(O.ctx.renderer=Mt),Hd(O),O.asyncDep){if(V&&V.registerDep(O,tt),!_.el){const R=O.subTree=Xt(Sn);q(null,R,w,P)}return}tt(O,_,w,P,V,N,z)},un=(_,w,P)=>{const M=w.component=_.component;if(Qp(_,w,P))if(M.asyncDep&&!M.asyncResolved){F(M,w,P);return}else M.next=w,Up(M.update),M.update();else w.el=_.el,M.vnode=w},tt=(_,w,P,M,V,N,z)=>{const O=()=>{if(_.isMounted){let{next:U,bu:B,u:$,parent:Y,vnode:Z}=_,it=U,st;Pn(_,!1),U?(U.el=Z.el,F(_,U,z)):U=Z,B&&so(B),(st=U.props&&U.props.onVnodeBeforeUpdate)&&ye(st,Y,U,Z),Pn(_,!0);const lt=ro(_),Et=_.subTree;_.subTree=lt,J(Et,lt,A(Et.el),Ae(Et),_,V,N),U.el=lt.el,it===null&&td(_,lt.el),$&&Wt($,V),(st=U.props&&U.props.onVnodeUpdated)&&Wt(()=>ye(st,Y,U,Z),V)}else{let U;const{el:B,props:$}=w,{bm:Y,m:Z,parent:it}=_,st=ks(w);if(Pn(_,!1),Y&&so(Y),!st&&(U=$&&$.onVnodeBeforeMount)&&ye(U,it,w),Pn(_,!0),B&&oe){const lt=()=>{_.subTree=ro(_),oe(B,_.subTree,_,V,null)};st?w.type.__asyncLoader().then(()=>!_.isUnmounted&&lt()):lt()}else{const lt=_.subTree=ro(_);J(null,lt,P,M,_,V,N),w.el=lt.el}if(Z&&Wt(Z,V),!st&&(U=$&&$.onVnodeMounted)){const lt=w;Wt(()=>ye(U,it,lt),V)}(w.shapeFlag&256||it&&ks(it.vnode)&&it.vnode.shapeFlag&256)&&_.a&&Wt(_.a,V),_.isMounted=!0,w=P=M=null}},R=_.effect=new Ao(O,()=>Fo(L),_.scope),L=_.update=()=>R.run();L.id=_.uid,Pn(_,!0),L()},F=(_,w,P)=>{w.component=_;const M=_.vnode.props;_.vnode=w,_.next=null,Pd(_,w.props,M,P),Md(_,w.children,P),ni(),Bl(),ii()},ut=(_,w,P,M,V,N,z,O,R=!1)=>{const L=_&&_.children,U=_?_.shapeFlag:0,B=w.children,{patchFlag:$,shapeFlag:Y}=w;if($>0){if($&128){Se(L,B,P,M,V,N,z,O,R);return}else if($&256){re(L,B,P,M,V,N,z,O,R);return}}Y&8?(U&16&&Kt(L,V,N),B!==L&&S(P,B)):U&16?Y&16?Se(L,B,P,M,V,N,z,O,R):Kt(L,V,N,!0):(U&8&&S(P,""),Y&16&&ie(B,P,M,V,N,z,O,R))},re=(_,w,P,M,V,N,z,O,R)=>{_=_||Yn,w=w||Yn;const L=_.length,U=w.length,B=Math.min(L,U);let $;for($=0;$<B;$++){const Y=w[$]=R?on(w[$]):ke(w[$]);J(_[$],Y,P,null,V,N,z,O,R)}L>U?Kt(_,V,N,!0,!1,B):ie(w,P,M,V,N,z,O,R,B)},Se=(_,w,P,M,V,N,z,O,R)=>{let L=0;const U=w.length;let B=_.length-1,$=U-1;for(;L<=B&&L<=$;){const Y=_[L],Z=w[L]=R?on(w[L]):ke(w[L]);if(Ii(Y,Z))J(Y,Z,P,null,V,N,z,O,R);else break;L++}for(;L<=B&&L<=$;){const Y=_[B],Z=w[$]=R?on(w[$]):ke(w[$]);if(Ii(Y,Z))J(Y,Z,P,null,V,N,z,O,R);else break;B--,$--}if(L>B){if(L<=$){const Y=$+1,Z=Y<U?w[Y].el:M;for(;L<=$;)J(null,w[L]=R?on(w[L]):ke(w[L]),P,Z,V,N,z,O,R),L++}}else if(L>$)for(;L<=B;)At(_[L],V,N,!0),L++;else{const Y=L,Z=L,it=new Map;for(L=Z;L<=$;L++){const Vt=w[L]=R?on(w[L]):ke(w[L]);Vt.key!=null&&it.set(Vt.key,L)}let st,lt=0;const Et=$-Z+1;let Ut=!1,An=0;const le=new Array(Et);for(L=0;L<Et;L++)le[L]=0;for(L=Y;L<=B;L++){const Vt=_[L];if(lt>=Et){At(Vt,V,N,!0);continue}let Ht;if(Vt.key!=null)Ht=it.get(Vt.key);else for(st=Z;st<=$;st++)if(le[st-Z]===0&&Ii(Vt,w[st])){Ht=st;break}Ht===void 0?At(Vt,V,N,!0):(le[Ht-Z]=L+1,Ht>=An?An=Ht:Ut=!0,J(Vt,w[Ht],P,null,V,N,z,O,R),lt++)}const Ue=Ut?Od(le):Yn;for(st=Ue.length-1,L=Et-1;L>=0;L--){const Vt=Z+L,Ht=w[Vt],On=Vt+1<U?w[Vt+1].el:M;le[L]===0?J(null,Ht,P,On,V,N,z,O,R):Ut&&(st<0||L!==Ue[st]?yt(Ht,P,On,2):st--)}}},yt=(_,w,P,M,V=null)=>{const{el:N,type:z,transition:O,children:R,shapeFlag:L}=_;if(L&6){yt(_.component.subTree,w,P,M);return}if(L&128){_.suspense.move(w,P,M);return}if(L&64){z.move(_,w,P,Mt);return}if(z===Pe){d(N,w,P);for(let B=0;B<R.length;B++)yt(R[B],w,P,M);d(_.anchor,w,P);return}if(z===ao){G(_,w,P);return}if(M!==2&&L&1&&O)if(M===0)O.beforeEnter(N),d(N,w,P),Wt(()=>O.enter(N),V);else{const{leave:B,delayLeave:$,afterLeave:Y}=O,Z=()=>d(N,w,P),it=()=>{B(N,()=>{Z(),Y&&Y()})};$?$(N,Z,it):it()}else d(N,w,P)},At=(_,w,P,M=!1,V=!1)=>{const{type:N,props:z,ref:O,children:R,dynamicChildren:L,shapeFlag:U,patchFlag:B,dirs:$}=_;if(O!=null&&Co(O,null,P,_,!0),U&256){w.ctx.deactivate(_);return}const Y=U&1&&$,Z=!ks(_);let it;if(Z&&(it=z&&z.onVnodeBeforeUnmount)&&ye(it,w,_),U&6)ri(_.component,P,M);else{if(U&128){_.suspense.unmount(P,M);return}Y&&En(_,null,w,"beforeUnmount"),U&64?_.type.remove(_,w,P,V,Mt,M):L&&(N!==Pe||B>0&&B&64)?Kt(L,w,P,!1,!0):(N===Pe&&B&384||!V&&U&16)&&Kt(R,w,P),M&&Q(_)}(Z&&(it=z&&z.onVnodeUnmounted)||Y)&&Wt(()=>{it&&ye(it,w,_),Y&&En(_,null,w,"unmounted")},P)},Q=_=>{const{type:w,el:P,anchor:M,transition:V}=_;if(w===Pe){bt(P,M);return}if(w===ao){_t(_);return}const N=()=>{h(P),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(_.shapeFlag&1&&V&&!V.persisted){const{leave:z,delayLeave:O}=V,R=()=>z(P,N);O?O(_.el,N,R):R()}else N()},bt=(_,w)=>{let P;for(;_!==w;)P=D(_),h(_),_=P;h(w)},ri=(_,w,P)=>{const{bum:M,scope:V,update:N,subTree:z,um:O}=_;M&&so(M),V.stop(),N&&(N.active=!1,At(z,_,w,P)),O&&Wt(O,w),Wt(()=>{_.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Kt=(_,w,P,M=!1,V=!1,N=0)=>{for(let z=N;z<_.length;z++)At(_[z],w,P,M,V)},Ae=_=>_.shapeFlag&6?Ae(_.component.subTree):_.shapeFlag&128?_.suspense.next():D(_.anchor||_.el),pn=(_,w,P)=>{_==null?w._vnode&&At(w._vnode,null,null,!0):J(w._vnode||null,_,w,null,null,null,P),Bl(),La(),w._vnode=_},Mt={p:J,um:At,m:yt,r:Q,mt:zt,mc:ie,pc:ut,pbc:ht,n:Ae,o:i};let Ot,oe;return o&&([Ot,oe]=o(Mt)),{render:pn,hydrate:Ot,createApp:Td(pn,Ot)}}function Pn({effect:i,update:o},c){i.allowRecurse=o.allowRecurse=c}function qa(i,o,c=!1){const d=i.children,h=o.children;if(nt(d)&&nt(h))for(let f=0;f<d.length;f++){const b=d[f];let g=h[f];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=h[f]=on(h[f]),g.el=b.el),c||qa(b,g))}}function Od(i){const o=i.slice(),c=[0];let d,h,f,b,g;const y=i.length;for(d=0;d<y;d++){const k=i[d];if(k!==0){if(h=c[c.length-1],i[h]<k){o[d]=h,c.push(d);continue}for(f=0,b=c.length-1;f<b;)g=f+b>>1,i[c[g]]<k?f=g+1:b=g;k<i[c[f]]&&(f>0&&(o[d]=c[f-1]),c[f]=d)}}for(f=c.length,b=c[f-1];f-- >0;)c[f]=b,b=o[b];return c}const Nd=i=>i.__isTeleport,Pe=Symbol(void 0),Uo=Symbol(void 0),Sn=Symbol(void 0),ao=Symbol(void 0),Bi=[];let ve=null;function Jn(i=!1){Bi.push(ve=i?null:[])}function Rd(){Bi.pop(),ve=Bi[Bi.length-1]||null}let qi=1;function Xl(i){qi+=i}function Ga(i){return i.dynamicChildren=qi>0?ve||Yn:null,Rd(),qi>0&&ve&&ve.push(i),i}function Fi(i,o,c,d,h,f){return Ga(Zt(i,o,c,d,h,f,!0))}function Id(i,o,c,d,h){return Ga(Xt(i,o,c,d,h,!0))}function Dd(i){return i?i.__v_isVNode===!0:!1}function Ii(i,o){return i.type===o.type&&i.key===o.key}const Ks="__vInternal",Ya=({key:i})=>i!=null?i:null,Vs=({ref:i,ref_key:o,ref_for:c})=>i!=null?Dt(i)||It(i)||et(i)?{i:Me,r:i,k:o,f:!!c}:i:null;function Zt(i,o=null,c=null,d=0,h=null,f=i===Pe?0:1,b=!1,g=!1){const y={__v_isVNode:!0,__v_skip:!0,type:i,props:o,key:o&&Ya(o),ref:o&&Vs(o),scopeId:js,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:d,dynamicProps:h,dynamicChildren:null,appContext:null};return g?(Ho(y,c),f&128&&i.normalize(y)):c&&(y.shapeFlag|=Dt(c)?8:16),qi>0&&!b&&ve&&(y.patchFlag>0||f&6)&&y.patchFlag!==32&&ve.push(y),y}const Xt=zd;function zd(i,o=null,c=null,d=0,h=null,f=!1){if((!i||i===md)&&(i=Sn),Dd(i)){const g=Qn(i,o,!0);return c&&Ho(g,c),qi>0&&!f&&ve&&(g.shapeFlag&6?ve[ve.indexOf(i)]=g:ve.push(g)),g.patchFlag|=-2,g}if(Xd(i)&&(i=i.__vccOpts),o){o=Bd(o);let{class:g,style:y}=o;g&&!Dt(g)&&(o.class=ko(g)),kt(y)&&(wa(y)&&!nt(y)&&(y=jt({},y)),o.style=ji(y))}const b=Dt(i)?1:ed(i)?128:Nd(i)?64:kt(i)?4:et(i)?2:0;return Zt(i,o,c,d,h,b,f,!0)}function Bd(i){return i?wa(i)||Ks in i?jt({},i):i:null}function Qn(i,o,c=!1){const{props:d,ref:h,patchFlag:f,children:b}=i,g=o?jd(d||{},o):d;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:g,key:g&&Ya(g),ref:o&&o.ref?c&&h?nt(h)?h.concat(Vs(o)):[h,Vs(o)]:Vs(o):h,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:b,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:o&&i.type!==Pe?f===-1?16:f|16:f,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Qn(i.ssContent),ssFallback:i.ssFallback&&Qn(i.ssFallback),el:i.el,anchor:i.anchor}}function Fd(i=" ",o=0){return Xt(Uo,null,i,o)}function Jl(i="",o=!1){return o?(Jn(),Id(Sn,null,i)):Xt(Sn,null,i)}function ke(i){return i==null||typeof i=="boolean"?Xt(Sn):nt(i)?Xt(Pe,null,i.slice()):typeof i=="object"?on(i):Xt(Uo,null,String(i))}function on(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Qn(i)}function Ho(i,o){let c=0;const{shapeFlag:d}=i;if(o==null)o=null;else if(nt(o))c=16;else if(typeof o=="object")if(d&65){const h=o.default;h&&(h._c&&(h._d=!1),Ho(i,h()),h._c&&(h._d=!0));return}else{c=32;const h=o._;!h&&!(Ks in o)?o._ctx=Me:h===3&&Me&&(Me.slots._===1?o._=1:(o._=2,i.patchFlag|=1024))}else et(o)?(o={default:o,_ctx:Me},c=32):(o=String(o),d&64?(c=16,o=[Fd(o)]):c=8);i.children=o,i.shapeFlag|=c}function jd(...i){const o={};for(let c=0;c<i.length;c++){const d=i[c];for(const h in d)if(h==="class")o.class!==d.class&&(o.class=ko([o.class,d.class]));else if(h==="style")o.style=ji([o.style,d.style]);else if(Ns(h)){const f=o[h],b=d[h];b&&f!==b&&!(nt(f)&&f.includes(b))&&(o[h]=f?[].concat(f,b):b)}else h!==""&&(o[h]=d[h])}return o}function ye(i,o,c,d=null){be(i,o,7,[c,d])}const $d=Ha();let Kd=0;function Ud(i,o,c){const d=i.type,h=(o?o.appContext:i.appContext)||$d,f={uid:Kd++,vnode:i,type:d,parent:o,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,scope:new ap(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(h.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ja(d,h),emitsOptions:Sa(d,h),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:d.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=o?o.root:f,f.emit=Gp.bind(null,f),i.ce&&i.ce(f),f}let St=null;const ti=i=>{St=i,i.scope.on()},Tn=()=>{St&&St.scope.off(),St=null};function Wa(i){return i.vnode.shapeFlag&4}let Gi=!1;function Hd(i,o=!1){Gi=o;const{props:c,children:d}=i.vnode,h=Wa(i);Ed(i,c,h,o),Vd(i,d);const f=h?qd(i,o):void 0;return Gi=!1,f}function qd(i,o){const c=i.type;i.accessCache=Object.create(null),i.proxy=xa(new Proxy(i.ctx,_d));const{setup:d}=c;if(d){const h=i.setupContext=d.length>1?Yd(i):null;ti(i),ni();const f=an(d,i,0,[i.props,h]);if(ii(),Tn(),aa(f)){if(f.then(Tn,Tn),o)return f.then(b=>{Zl(i,b,o)}).catch(b=>{Bs(b,i,0)});i.asyncDep=f}else Zl(i,f,o)}else Xa(i,o)}function Zl(i,o,c){et(o)?i.type.__ssrInlineRender?i.ssrRender=o:i.render=o:kt(o)&&(i.setupState=Ea(o)),Xa(i,c)}let Ql;function Xa(i,o,c){const d=i.type;if(!i.render){if(!o&&Ql&&!d.render){const h=d.template||$o(i).template;if(h){const{isCustomElement:f,compilerOptions:b}=i.appContext.config,{delimiters:g,compilerOptions:y}=d,k=jt(jt({isCustomElement:f,delimiters:g},b),y);d.render=Ql(h,k)}}i.render=d.render||me}ti(i),ni(),gd(i),ii(),Tn()}function Gd(i){return new Proxy(i.attrs,{get(o,c){return Qt(i,"get","$attrs"),o[c]}})}function Yd(i){const o=d=>{i.exposed=d||{}};let c;return{get attrs(){return c||(c=Gd(i))},slots:i.slots,emit:i.emit,expose:o}}function qo(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Ea(xa(i.exposed)),{get(o,c){if(c in o)return o[c];if(c in Ss)return Ss[c](i)}}))}function Wd(i,o=!0){return et(i)?i.displayName||i.name:i.name||o&&i.__name}function Xd(i){return et(i)&&"__vccOpts"in i}const Jd=(i,o)=>jp(i,o,Gi),Zd="3.2.41",Qd="http://www.w3.org/2000/svg",Mn=typeof document<"u"?document:null,ta=Mn&&Mn.createElement("template"),th={insert:(i,o,c)=>{o.insertBefore(i,c||null)},remove:i=>{const o=i.parentNode;o&&o.removeChild(i)},createElement:(i,o,c,d)=>{const h=o?Mn.createElementNS(Qd,i):Mn.createElement(i,c?{is:c}:void 0);return i==="select"&&d&&d.multiple!=null&&h.setAttribute("multiple",d.multiple),h},createText:i=>Mn.createTextNode(i),createComment:i=>Mn.createComment(i),setText:(i,o)=>{i.nodeValue=o},setElementText:(i,o)=>{i.textContent=o},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Mn.querySelector(i),setScopeId(i,o){i.setAttribute(o,"")},insertStaticContent(i,o,c,d,h,f){const b=c?c.previousSibling:o.lastChild;if(h&&(h===f||h.nextSibling))for(;o.insertBefore(h.cloneNode(!0),c),!(h===f||!(h=h.nextSibling)););else{ta.innerHTML=d?`<svg>${i}</svg>`:i;const g=ta.content;if(d){const y=g.firstChild;for(;y.firstChild;)g.appendChild(y.firstChild);g.removeChild(y)}o.insertBefore(g,c)}return[b?b.nextSibling:o.firstChild,c?c.previousSibling:o.lastChild]}};function eh(i,o,c){const d=i._vtc;d&&(o=(o?[o,...d]:[...d]).join(" ")),o==null?i.removeAttribute("class"):c?i.setAttribute("class",o):i.className=o}function nh(i,o,c){const d=i.style,h=Dt(c);if(c&&!h){for(const f in c)yo(d,f,c[f]);if(o&&!Dt(o))for(const f in o)c[f]==null&&yo(d,f,"")}else{const f=d.display;h?o!==c&&(d.cssText=c):o&&i.removeAttribute("style"),"_vod"in i&&(d.display=f)}}const ea=/\s*!important$/;function yo(i,o,c){if(nt(c))c.forEach(d=>yo(i,o,d));else if(c==null&&(c=""),o.startsWith("--"))i.setProperty(o,c);else{const d=ih(i,o);ea.test(c)?i.setProperty(ei(d),c.replace(ea,""),"important"):i[d]=c}}const na=["Webkit","Moz","ms"],co={};function ih(i,o){const c=co[o];if(c)return c;let d=Le(o);if(d!=="filter"&&d in i)return co[o]=d;d=Ds(d);for(let h=0;h<na.length;h++){const f=na[h]+d;if(f in i)return co[o]=f}return o}const ia="http://www.w3.org/1999/xlink";function sh(i,o,c,d,h){if(d&&o.startsWith("xlink:"))c==null?i.removeAttributeNS(ia,o.slice(6,o.length)):i.setAttributeNS(ia,o,c);else{const f=Gu(o);c==null||f&&!la(c)?i.removeAttribute(o):i.setAttribute(o,f?"":c)}}function rh(i,o,c,d,h,f,b){if(o==="innerHTML"||o==="textContent"){d&&b(d,h,f),i[o]=c==null?"":c;return}if(o==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=c;const y=c==null?"":c;(i.value!==y||i.tagName==="OPTION")&&(i.value=y),c==null&&i.removeAttribute(o);return}let g=!1;if(c===""||c==null){const y=typeof i[o];y==="boolean"?c=la(c):c==null&&y==="string"?(c="",g=!0):y==="number"&&(c=0,g=!0)}try{i[o]=c}catch{}g&&i.removeAttribute(o)}function oh(i,o,c,d){i.addEventListener(o,c,d)}function lh(i,o,c,d){i.removeEventListener(o,c,d)}function ah(i,o,c,d,h=null){const f=i._vei||(i._vei={}),b=f[o];if(d&&b)b.value=d;else{const[g,y]=ch(o);if(d){const k=f[o]=dh(d,h);oh(i,g,k,y)}else b&&(lh(i,g,b,y),f[o]=void 0)}}const sa=/(?:Once|Passive|Capture)$/;function ch(i){let o;if(sa.test(i)){o={};let d;for(;d=i.match(sa);)i=i.slice(0,i.length-d[0].length),o[d[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):ei(i.slice(2)),o]}let uo=0;const uh=Promise.resolve(),ph=()=>uo||(uh.then(()=>uo=0),uo=Date.now());function dh(i,o){const c=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=c.attached)return;be(hh(d,c.value),o,5,[d])};return c.value=i,c.attached=ph(),c}function hh(i,o){if(nt(o)){const c=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{c.call(i),i._stopped=!0},o.map(d=>h=>!h._stopped&&d&&d(h))}else return o}const ra=/^on[a-z]/,fh=(i,o,c,d,h=!1,f,b,g,y)=>{o==="class"?eh(i,d,h):o==="style"?nh(i,c,d):Ns(o)?Vo(o)||ah(i,o,c,d,b):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):vh(i,o,d,h))?rh(i,o,d,f,b,g,y):(o==="true-value"?i._trueValue=d:o==="false-value"&&(i._falseValue=d),sh(i,o,d,h))};function vh(i,o,c,d){return d?!!(o==="innerHTML"||o==="textContent"||o in i&&ra.test(o)&&et(c)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&i.tagName==="INPUT"||o==="type"&&i.tagName==="TEXTAREA"||ra.test(o)&&Dt(c)?!1:o in i}const mh=jt({patchProp:fh},th);let oa;function bh(){return oa||(oa=Sd(mh))}const _h=(...i)=>{const o=bh().createApp(...i),{mount:c}=o;return o.mount=d=>{const h=gh(d);if(!h)return;const f=o._component;!et(f)&&!f.render&&!f.template&&(f.template=h.innerHTML),h.innerHTML="";const b=c(h,!1,h instanceof SVGElement);return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),b},o};function gh(i){return Dt(i)?document.querySelector(i):i}/*!
 * v-github-icon v3.0.1
 * (c) 2022 Vinayak Kulkarni
 * @license MIT
 */const wh=jo({name:"VGithubIcon",props:{url:{type:String,required:!0,default:""},position:{type:String,required:!1,default:"top-right"},bgColor:{type:String,required:!1,default:"#FFFFFF"},fillColor:{type:String,required:!1,default:"#151513"}}}),xh=(i,o)=>{const c=i.__vccOpts||i;for(const[d,h]of o)c[d]=h;return c},si=i=>(Yp("data-v-6c7dc248"),i=i(),Wp(),i),Ch=["href"],yh=si(()=>Zt("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),Eh=si(()=>Zt("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),Ph=si(()=>Zt("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),kh=[yh,Eh,Ph],Vh=si(()=>Zt("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1)),Mh=si(()=>Zt("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1)),Lh=si(()=>Zt("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1)),Th=[Vh,Mh,Lh];function Sh(i,o,c,d,h,f){return Jn(),Fi("a",{href:i.url,class:"github-corner","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer"},[i.position==="top-left"?(Jn(),Fi("svg",{key:0,width:"80",height:"80",viewBox:"0 0 250 250",style:ji([{fill:i.fillColor,color:i.bgColor},{position:"absolute",top:"0",border:"0",left:"0",transform:"scale(-1, 1)"}]),"aria-hidden":"true"},kh,4)):Jl("",!0),i.position==="top-right"?(Jn(),Fi("svg",{key:1,width:"80",height:"80",viewBox:"0 0 250 250",style:ji([{fill:i.fillColor,color:i.bgColor},{position:"absolute",top:"0",border:"0",right:"0"}]),"aria-hidden":"true"},Th,4)):Jl("",!0)],8,Ch)}const Ah=xh(wh,[["render",Sh],["__scopeId","data-v-6c7dc248"]]);var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Eo={exports:{}};/*! Tweakpane 3.1.0 (c) 2016 cocopon, licensed under the MIT license. */(function(i,o){(function(c,d){d(o)})(Ja,function(c){class d{constructor(t){const[e,r]=t.split("-"),p=e.split(".");this.major=parseInt(p[0],10),this.minor=parseInt(p[1],10),this.patch=parseInt(p[2],10),this.prerelease=r!=null?r:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class h{constructor(t){this.controller_=t}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class f{constructor(t){this.target=t}}class b extends f{constructor(t,e,r,p){super(t),this.value=e,this.presetKey=r,this.last=p!=null?p:!0}}class g extends f{constructor(t,e,r){super(t),this.value=e,this.presetKey=r}}class y extends f{constructor(t,e){super(t),this.expanded=e}}class k extends f{constructor(t,e){super(t),this.index=e}}function S(n){return n}function A(n){return n==null}function D(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}const X={alreadydisposed:()=>"View has been already disposed",invalidparams:n=>`Invalid parameters for '${n.name}'`,nomatchingcontroller:n=>`No matching controller for '${n.key}'`,nomatchingview:n=>`No matching view for '${JSON.stringify(n.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:n=>`Property '${n.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class K{constructor(t){var e;this.message=(e=X[t.type](t.context))!==null&&e!==void 0?e:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}static alreadyDisposed(){return new K({type:"alreadydisposed"})}static notBindable(){return new K({type:"notbindable"})}static propertyNotFound(t){return new K({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new K({type:"shouldneverhappen"})}}class J{constructor(t,e,r){this.obj_=t,this.key_=e,this.presetKey_=r!=null?r:e}static isBindable(t){return!(t===null||typeof t!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,e){const r=this.read();if(!J.isBindable(r))throw K.notBindable();if(!(t in r))throw K.propertyNotFound(t);r[t]=e}}class ot extends h{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,e){const r=e.bind(this);return this.controller_.valueController.emitter.on(t,()=>{r(new f(this))}),this}}class q{constructor(){this.observers_={}}on(t,e){let r=this.observers_[t];return r||(r=this.observers_[t]=[]),r.push({handler:e}),this}off(t,e){const r=this.observers_[t];return r&&(this.observers_[t]=r.filter(p=>p.handler!==e)),this}emit(t,e){const r=this.observers_[t];!r||r.forEach(p=>{p.handler(e)})}}const $t="tp";function G(n){return(e,r)=>[$t,"-",n,"v",e?`_${e}`:"",r?`-${r}`:""].join("")}function _t(n,t){return e=>t(n(e))}function _e(n){return n.rawValue}function te(n,t){n.emitter.on("change",_t(_e,t)),t(n.rawValue)}function xt(n,t,e){te(n.value(t),e)}function ie(n,t,e){e?n.classList.add(t):n.classList.remove(t)}function Ct(n,t){return e=>{ie(n,t,e)}}function ht(n,t){te(n,e=>{t.textContent=e!=null?e:""})}const se=G("btn");class Ke{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(se()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("button");r.classList.add(se("b")),e.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const p=t.createElement("div");p.classList.add(se("t")),ht(e.props.value("title"),p),this.buttonElement.appendChild(p)}}class Te{constructor(t,e){this.emitter=new q,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new Ke(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class zt{constructor(t,e){var r;this.constraint_=e==null?void 0:e.constraint,this.equals_=(r=e==null?void 0:e.equals)!==null&&r!==void 0?r:(p,m)=>p===m,this.emitter=new q,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,e){const r=e!=null?e:{forceEmit:!1,last:!0},p=this.constraint_?this.constraint_.constrain(t):t;!!this.equals_(this.rawValue_,p)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=p,this.emitter.emit("change",{options:r,rawValue:p,sender:this}))}}class un{constructor(t){this.emitter=new q,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,e){const r=e!=null?e:{forceEmit:!1,last:!0};this.value_===t&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:r,rawValue:this.value_,sender:this}))}}function tt(n,t){const e=t==null?void 0:t.constraint,r=t==null?void 0:t.equals;return!e&&!r?new un(n):new zt(n,t)}class F{constructor(t){this.emitter=new q,this.valMap_=t;for(const e in this.valMap_)this.valMap_[e].emitter.on("change",()=>{this.emitter.emit("change",{key:e,sender:this})})}static createCore(t){return Object.keys(t).reduce((r,p)=>Object.assign(r,{[p]:tt(t[p])}),{})}static fromObject(t){const e=this.createCore(t);return new F(e)}get(t){return this.valMap_[t].rawValue}set(t,e){this.valMap_[t].rawValue=e}value(t){return this.valMap_[t]}}function ut(n,t){const r=Object.keys(t).reduce((p,m)=>{if(p===void 0)return;const C=t[m],T=C(n[m]);return T.succeeded?Object.assign(Object.assign({},p),{[m]:T.value}):void 0},{});return r}function re(n,t){return n.reduce((e,r)=>{if(e===void 0)return;const p=t(r);if(!(!p.succeeded||p.value===void 0))return[...e,p.value]},[])}function Se(n){return n===null?!1:typeof n=="object"}function yt(n){return t=>e=>{if(!t&&e===void 0)return{succeeded:!1,value:void 0};if(t&&e===void 0)return{succeeded:!0,value:void 0};const r=n(e);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function At(n){return{custom:t=>yt(t)(n),boolean:yt(t=>typeof t=="boolean"?t:void 0)(n),number:yt(t=>typeof t=="number"?t:void 0)(n),string:yt(t=>typeof t=="string"?t:void 0)(n),function:yt(t=>typeof t=="function"?t:void 0)(n),constant:t=>yt(e=>e===t?t:void 0)(n),raw:yt(t=>t)(n),object:t=>yt(e=>{if(!!Se(e))return ut(e,t)})(n),array:t=>yt(e=>{if(!!Array.isArray(e))return re(e,t)})(n)}}const Q={optional:At(!0),required:At(!1)};function bt(n,t){const e=Q.required.object(t)(n);return e.succeeded?e.value:void 0}function ri(n){return n&&n.parentElement&&n.parentElement.removeChild(n),null}function Kt(){return["veryfirst","first","last","verylast"]}const Ae=G(""),pn={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Mt{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const e=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Kt().forEach(r=>{e.classList.remove(Ae(void 0,pn[r]))}),this.blade.get("positions").forEach(r=>{e.classList.add(Ae(void 0,pn[r]))})}),this.viewProps.handleDispose(()=>{ri(e)})}get parent(){return this.parent_}}const Ot="http://www.w3.org/2000/svg";function oe(n){n.offsetHeight}function _(n,t){const e=n.style.transition;n.style.transition="none",t(),n.style.transition=e}function w(n){return n.ontouchstart!==void 0}function P(){return new Function("return this")()}function M(){return P().document}function V(n){const t=n.ownerDocument.defaultView;return t&&"document"in t?n.getContext("2d"):null}const N={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function z(n,t){const e=n.createElementNS(Ot,"svg");return e.innerHTML=N[t],e}function O(n,t,e){n.insertBefore(t,n.children[e])}function R(n){n.parentElement&&n.parentElement.removeChild(n)}function L(n){for(;n.children.length>0;)n.removeChild(n.children[0])}function U(n){for(;n.childNodes.length>0;)n.removeChild(n.childNodes[0])}function B(n){return n.relatedTarget?n.relatedTarget:"explicitOriginalTarget"in n?n.explicitOriginalTarget:null}const $=G("lbl");function Y(n,t){const e=n.createDocumentFragment();return t.split(`
`).map(p=>n.createTextNode(p)).forEach((p,m)=>{m>0&&e.appendChild(n.createElement("br")),e.appendChild(p)}),e}class Z{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add($()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add($("l")),xt(e.props,"label",m=>{A(m)?this.element.classList.add($(void 0,"nol")):(this.element.classList.remove($(void 0,"nol")),U(r),r.appendChild(Y(t,m)))}),this.element.appendChild(r),this.labelElement=r;const p=t.createElement("div");p.classList.add($("v")),this.element.appendChild(p),this.valueElement=p}}class it extends Mt{constructor(t,e){const r=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{view:new Z(t,{props:e.props,viewProps:r}),viewProps:r})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const st={id:"button",type:"blade",accept(n){const t=Q,e=bt(n,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return e?{params:e}:null},controller(n){return new it(n.document,{blade:n.blade,props:F.fromObject({label:n.params.label}),valueController:new Te(n.document,{props:F.fromObject({title:n.params.title}),viewProps:n.viewProps})})},api(n){return!(n.controller instanceof it)||!(n.controller.valueController instanceof Te)?null:new ot(n.controller)}};class lt extends Mt{constructor(t){super(t),this.value=t.value}}function Et(){return new F({positions:tt([],{equals:D})})}class Ut extends F{constructor(t){super(t)}static create(t){const e={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=F.createCore(e);return new Ut(r)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!A(t)?`${t}px`:"auto"}bindExpandedClass(t,e){const r=()=>{this.styleExpanded?t.classList.add(e):t.classList.remove(e)};xt(this,"expanded",r),xt(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function An(n,t){let e=0;return _(t,()=>{n.set("expandedHeight",null),n.set("temporaryExpanded",!0),oe(t),e=t.clientHeight,n.set("temporaryExpanded",null),oe(t)}),e}function le(n,t){t.style.height=n.styleHeight}function Ue(n,t){n.value("expanded").emitter.on("beforechange",()=>{n.set("completed",!1),A(n.get("expandedHeight"))&&n.set("expandedHeight",An(n,t)),n.set("shouldFixHeight",!0),oe(t)}),n.emitter.on("change",()=>{le(n,t)}),le(n,t),t.addEventListener("transitionend",e=>{e.propertyName==="height"&&n.cleanUpTransition()})}class Vt extends h{constructor(t,e){super(t),this.rackApi_=e}}function Ht(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function On(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function Us(n,t){const e=t!=null?t:{};return n.addBlade(Object.assign(Object.assign({},e),{view:"separator"}))}function Hs(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class oi{constructor(t){this.emitter=new q,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const e of this.allItems())if(t(e))return e;return null}includes(t){return this.cache_.has(t)}add(t,e){if(this.includes(t))throw K.shouldNeverHappen();const r=e!==void 0?e:this.items_.length;this.items_.splice(r,0,t),this.cache_.add(t);const p=this.extract_(t);p&&(p.emitter.on("add",this.onSubListAdd_),p.emitter.on("remove",this.onSubListRemove_),p.allItems().forEach(m=>{this.cache_.add(m)})),this.emitter.emit("add",{index:r,item:t,root:this,target:this})}remove(t){const e=this.items_.indexOf(t);if(e<0)return;this.items_.splice(e,1),this.cache_.delete(t);const r=this.extract_(t);r&&(r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class li extends h{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new q,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const e=t.sender.target.read();this.emitter_.emit("change",{event:new b(this,e,this.controller_.binding.target.presetKey,t.options.last)})}}class qt extends it{constructor(t,e){super(t,e),this.binding=e.binding}}class Oe extends h{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new q,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const e=t.sender.target.read();this.emitter_.emit("update",{event:new g(this,e,this.controller_.binding.target.presetKey)})}}class ge extends it{constructor(t,e){super(t,e),this.binding=e.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function dn(n){return n instanceof fn?n.apiSet_:n instanceof Vt?n.rackApi_.apiSet_:null}function hn(n,t){const e=n.find(r=>r.controller_===t);if(!e)throw K.shouldNeverHappen();return e}function Nn(n,t,e){if(!J.isBindable(n))throw K.notBindable();return new J(n,t,e)}class fn extends h{constructor(t,e){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new q,this.apiSet_=new oi(dn),this.pool_=e;const r=this.controller_.rack;r.emitter.on("add",this.onRackAdd_),r.emitter.on("remove",this.onRackRemove_),r.emitter.on("inputchange",this.onRackInputChange_),r.emitter.on("monitorupdate",this.onRackMonitorUpdate_),r.children.forEach(p=>{this.setUpApi_(p)})}get children(){return this.controller_.rack.children.map(t=>hn(this.apiSet_,t))}addInput(t,e,r){const p=r!=null?r:{},m=this.controller_.view.element.ownerDocument,C=this.pool_.createInput(m,Nn(t,e,p.presetKey),p),T=new li(C);return this.add(T,p.index)}addMonitor(t,e,r){const p=r!=null?r:{},m=this.controller_.view.element.ownerDocument,C=this.pool_.createMonitor(m,Nn(t,e),p),T=new Oe(C);return this.add(T,p.index)}addFolder(t){return On(this,t)}addButton(t){return Ht(this,t)}addSeparator(t){return Us(this,t)}addTab(t){return Hs(this,t)}add(t,e){this.controller_.rack.add(t.controller_,e);const r=this.apiSet_.find(p=>p.controller_===t.controller_);return r&&this.apiSet_.remove(r),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const e=this.controller_.view.element.ownerDocument,r=this.pool_.createBlade(e,t),p=this.pool_.createBladeApi(r);return this.add(p,t.index)}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}setUpApi_(t){this.apiSet_.find(r=>r.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const e=hn(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}}onRackInputChange_(t){const e=t.bladeController;if(e instanceof qt){const r=hn(this.apiSet_,e),p=e.binding;this.emitter_.emit("change",{event:new b(r,p.target.read(),p.target.presetKey,t.options.last)})}else if(e instanceof lt){const r=hn(this.apiSet_,e);this.emitter_.emit("change",{event:new b(r,e.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof ge))throw K.shouldNeverHappen();const e=hn(this.apiSet_,t.bladeController),r=t.bladeController.binding;this.emitter_.emit("update",{event:new g(e,r.target.read(),r.target.presetKey)})}}class ai extends Vt{constructor(t,e){super(t,new fn(t.rackController,e)),this.emitter_=new q,this.controller_.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",{event:new y(this,r.sender.rawValue)})}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",{event:r})}),this.rackApi_.on("update",r=>{this.emitter_.emit("update",{event:r})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,e,r){return this.rackApi_.addInput(t,e,r)}addMonitor(t,e,r){return this.rackApi_.addMonitor(t,e,r)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){return this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}}class ci extends Mt{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class qs{constructor(t,e){const r=G(e.viewName);this.element=t.createElement("div"),this.element.classList.add(r()),e.viewProps.bindClassModifiers(this.element)}}function Gs(n,t){for(let e=0;e<n.length;e++){const r=n[e];if(r instanceof qt&&r.binding===t)return r}return null}function Ys(n,t){for(let e=0;e<n.length;e++){const r=n[e];if(r instanceof ge&&r.binding===t)return r}return null}function Ws(n,t){for(let e=0;e<n.length;e++){const r=n[e];if(r instanceof lt&&r.value===t)return r}return null}function ui(n){return n instanceof vn?n.rack:n instanceof ci?n.rackController.rack:null}function Xs(n){const t=ui(n);return t?t.bcSet_:null}class Js{constructor(t){var e;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new q,this.blade_=t!=null?t:null,(e=this.blade_)===null||e===void 0||e.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new oi(Xs),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,e){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,e)}remove(t){t.parent_=null,this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(e=>e instanceof t)}onSetAdd_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),!e)return;const r=t.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),r instanceof qt)r.binding.emitter.on("change",this.onChildInputChange_);else if(r instanceof ge)r.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(r instanceof lt)r.value.emitter.on("change",this.onChildValueChange_);else{const p=ui(r);if(p){const m=p.emitter;m.on("layout",this.onDescendantLayout_),m.on("inputchange",this.onDescendantInputChange_),m.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),!e)return;const r=t.item;if(r instanceof qt)r.binding.emitter.off("change",this.onChildInputChange_);else if(r instanceof ge)r.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(r instanceof lt)r.value.emitter.off("change",this.onChildValueChange_);else{const p=ui(r);if(p){const m=p.emitter;m.off("layout",this.onDescendantLayout_),m.off("inputchange",this.onDescendantInputChange_),m.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(p=>!p.viewProps.get("hidden")),e=t[0],r=t[t.length-1];this.bcSet_.items.forEach(p=>{const m=[];p===e&&(m.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&m.push("veryfirst")),p===r&&(m.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&m.push("verylast")),p.blade.set("positions",m)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(e=>e.viewProps.get("disposed")).forEach(e=>{this.bcSet_.remove(e)})}onChildInputChange_(t){const e=Gs(this.find(qt),t.sender);if(!e)throw K.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}onChildMonitorUpdate_(t){const e=Ys(this.find(ge),t.sender);if(!e)throw K.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:e,sender:this})}onChildValueChange_(t){const e=Ws(this.find(lt),t.sender);if(!e)throw K.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class vn extends Mt{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new qs(t,{viewName:"brk",viewProps:e.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const r=new Js(e.root?void 0:e.blade);r.emitter.on("add",this.onRackAdd_),r.emitter.on("remove",this.onRackRemove_),this.rack=r,this.viewProps.handleDispose(()=>{for(let p=this.rack.children.length-1;p>=0;p--)this.rack.children[p].viewProps.set("disposed",!0)})}onRackAdd_(t){!t.isRoot||O(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){!t.isRoot||R(t.bladeController.view.element)}}const Yi=G("cnt");class Zs{constructor(t,e){var r;this.className_=G((r=e.viewName)!==null&&r!==void 0?r:"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),Yi()),e.viewProps.bindClassModifiers(this.element),this.foldable_=e.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),xt(this.foldable_,"completed",Ct(this.element,this.className_(void 0,"cpl")));const p=t.createElement("button");p.classList.add(this.className_("b")),xt(e.props,"title",H=>{A(H)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),e.viewProps.bindDisabled(p),this.element.appendChild(p),this.buttonElement=p;const m=t.createElement("div");m.classList.add(this.className_("t")),ht(e.props.value("title"),m),this.buttonElement.appendChild(m),this.titleElement=m;const C=t.createElement("div");C.classList.add(this.className_("m")),this.buttonElement.appendChild(C);const T=e.containerElement;T.classList.add(this.className_("c")),this.element.appendChild(T),this.containerElement=T}}class pi extends ci{constructor(t,e){var r;const p=Ut.create((r=e.expanded)!==null&&r!==void 0?r:!0),m=new vn(t,{blade:e.blade,root:e.root,viewProps:e.viewProps});super(Object.assign(Object.assign({},e),{rackController:m,view:new Zs(t,{containerElement:m.view.element,foldable:p,props:e.props,viewName:e.root?"rot":void 0,viewProps:e.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=e.props,this.foldable=p,Ue(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Qs={id:"folder",type:"blade",accept(n){const t=Q,e=bt(n,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return e?{params:e}:null},controller(n){return new pi(n.document,{blade:n.blade,expanded:n.params.expanded,props:F.fromObject({title:n.params.title}),viewProps:n.viewProps})},api(n){return n.controller instanceof pi?new ai(n.controller,n.pool):null}};class He extends lt{constructor(t,e){const r=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{value:e.valueController.value,view:new Z(t,{props:e.props,viewProps:r}),viewProps:r})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class di extends h{}const Wi=G("spr");class tr{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Wi()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("hr");r.classList.add(Wi("r")),this.element.appendChild(r)}}class Xi extends Mt{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new tr(t,{viewProps:e.viewProps})}))}}const Ji={id:"separator",type:"blade",accept(n){const e=bt(n,{view:Q.required.constant("separator")});return e?{params:e}:null},controller(n){return new Xi(n.document,{blade:n.blade,viewProps:n.viewProps})},api(n){return n.controller instanceof Xi?new di(n.controller):null}},er=G("");function mn(n,t){return Ct(n,er(void 0,t))}class we extends F{constructor(t){super(t)}static create(t){var e,r;const p=t!=null?t:{},m={disabled:(e=p.disabled)!==null&&e!==void 0?e:!1,disposed:!1,hidden:(r=p.hidden)!==null&&r!==void 0?r:!1},C=F.createCore(m);return new we(C)}bindClassModifiers(t){xt(this,"disabled",mn(t,"disabled")),xt(this,"hidden",mn(t,"hidden"))}bindDisabled(t){xt(this,"disabled",e=>{t.disabled=e})}bindTabIndex(t){xt(this,"disabled",e=>{t.tabIndex=e?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",e=>{e&&t()})}}const Pt=G("tbi");class nr{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Pt()),e.viewProps.bindClassModifiers(this.element),xt(e.props,"selected",m=>{m?this.element.classList.add(Pt(void 0,"sel")):this.element.classList.remove(Pt(void 0,"sel"))});const r=t.createElement("button");r.classList.add(Pt("b")),e.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const p=t.createElement("div");p.classList.add(Pt("t")),ht(e.props.value("title"),p),this.buttonElement.appendChild(p),this.titleElement=p}}class Rn{constructor(t,e){this.emitter=new q,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new nr(t,{props:e.props,viewProps:e.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Zi{constructor(t,e){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Rn(t,{props:e.itemProps,viewProps:we.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new vn(t,{blade:Et(),viewProps:we.create()}),this.props=e.props,xt(this.props,"selected",r=>{this.itemController.props.set("selected",r),this.contentController.viewProps.set("hidden",!r)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class hi{constructor(t,e){this.controller_=t,this.rackApi_=e}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addInput(t,e,r){return this.rackApi_.addInput(t,e,r)}addMonitor(t,e,r){return this.rackApi_.addMonitor(t,e,r)}addBlade(t){return this.rackApi_.addBlade(t)}}class Qi extends Vt{constructor(t,e){super(t,new fn(t.rackController,e)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new q,this.pageApiMap_=new Map,this.rackApi_.on("change",r=>{this.emitter_.emit("change",{event:r})}),this.rackApi_.on("update",r=>{this.emitter_.emit("update",{event:r})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(r=>{this.setUpPageApi_(r)})}get pages(){return this.controller_.pageSet.items.map(t=>{const e=this.pageApiMap_.get(t);if(!e)throw K.shouldNeverHappen();return e})}addPage(t){const e=this.controller_.view.element.ownerDocument,r=new Zi(e,{itemProps:F.fromObject({selected:!1,title:t.title}),props:F.fromObject({selected:!1})});this.controller_.add(r,t.index);const p=this.pageApiMap_.get(r);if(!p)throw K.shouldNeverHappen();return p}removePage(t){this.controller_.remove(t)}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}setUpPageApi_(t){const e=this.rackApi_.apiSet_.find(p=>p.controller_===t.contentController);if(!e)throw K.shouldNeverHappen();const r=new hi(t,e);this.pageApiMap_.set(t,r)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw K.shouldNeverHappen();this.pageApiMap_.delete(t.item)}onSelect_(t){this.emitter_.emit("select",{event:new k(this,t.rawValue)})}}const ts=-1;class ir{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=tt(!0),this.selectedIndex=tt(ts),this.items_=[]}add(t,e){const r=e!=null?e:this.items_.length;this.items_.splice(r,0,t),t.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(t){const e=this.items_.indexOf(t);e<0||(this.items_.splice(e,1),t.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=ts,this.empty.rawValue=!0;return}const t=this.items_.findIndex(e=>e.rawValue);t<0?(this.items_.forEach((e,r)=>{e.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((e,r)=>{e.rawValue=r===t}),this.selectedIndex.rawValue=t),this.empty.rawValue=!1}onItemSelectedChange_(t){if(t.rawValue){const e=this.items_.findIndex(r=>r===t.sender);this.items_.forEach((r,p)=>{r.rawValue=p===e}),this.selectedIndex.rawValue=e}else this.keepSelection_()}}const bn=G("tab");class qe{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(bn(),Yi()),e.viewProps.bindClassModifiers(this.element),te(e.empty,Ct(this.element,bn(void 0,"nop")));const r=t.createElement("div");r.classList.add(bn("i")),this.element.appendChild(r),this.itemsElement=r;const p=e.contentsElement;p.classList.add(bn("c")),this.element.appendChild(p),this.contentsElement=p}}class _n extends ci{constructor(t,e){const r=new vn(t,{blade:e.blade,viewProps:e.viewProps}),p=new ir;super({blade:e.blade,rackController:r,view:new qe(t,{contentsElement:r.view.element,empty:p.empty,viewProps:e.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new oi(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=p}get pageSet(){return this.pageSet_}add(t,e){this.pageSet_.add(t,e)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}onPageAdd_(t){const e=t.item;O(this.view.itemsElement,e.itemController.view.element,t.index),this.rackController.rack.add(e.contentController,t.index),this.tab.add(e.props.value("selected"))}onPageRemove_(t){const e=t.item;R(e.itemController.view.element),this.rackController.rack.remove(e.contentController),this.tab.remove(e.props.value("selected"))}}const fi={id:"tab",type:"blade",accept(n){const t=Q,e=bt(n,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!e||e.pages.length===0?null:{params:e}},controller(n){const t=new _n(n.document,{blade:n.blade,viewProps:n.viewProps});return n.params.pages.forEach(e=>{const r=new Zi(n.document,{itemProps:F.fromObject({selected:!1,title:e.title}),props:F.fromObject({selected:!1})});t.add(r)}),t},api(n){return n.controller instanceof _n?new Qi(n.controller,n.pool):null}};function sr(n,t){const e=n.accept(t.params);if(!e)return null;const r=Q.optional.boolean(t.params.disabled).value,p=Q.optional.boolean(t.params.hidden).value;return n.controller({blade:Et(),document:t.document,params:Object.assign(Object.assign({},e.params),{disabled:r,hidden:p}),viewProps:we.create({disabled:r,hidden:p})})}class es{constructor(){this.disabled=!1,this.emitter=new q}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class vi{constructor(t,e){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new q,this.interval_=e,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class xe{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((e,r)=>r.constrain(e),t)}}function pt(n,t){if(n instanceof t)return n;if(n instanceof xe){const e=n.constraints.reduce((r,p)=>r||(p instanceof t?p:null),null);if(e)return e}return null}class Ge{constructor(t){this.options=t}constrain(t){const e=this.options;return e.length===0||e.filter(p=>p.value===t).length>0?t:e[0].value}}class Jt{constructor(t){this.maxValue=t.max,this.minValue=t.min}constrain(t){let e=t;return A(this.minValue)||(e=Math.max(e,this.minValue)),A(this.maxValue)||(e=Math.min(e,this.maxValue)),e}}class Lt{constructor(t,e=0){this.step=t,this.origin=e}constrain(t){const e=this.origin%this.step,r=Math.round((t-e)/this.step);return e+r*this.step}}const mi=G("lst");class rr{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.props_=e.props,this.element=t.createElement("div"),this.element.classList.add(mi()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("select");r.classList.add(mi("s")),xt(this.props_,"options",m=>{L(r),m.forEach((C,T)=>{const H=t.createElement("option");H.dataset.index=String(T),H.textContent=C.text,H.value=String(C.value),r.appendChild(H)})}),e.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const p=t.createElement("div");p.classList.add(mi("m")),p.appendChild(z(t,"dropdown")),this.element.appendChild(p),e.value.emitter.on("change",this.onValueChange_),this.value_=e.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class Ne{constructor(t,e){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new rr(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const r=t.currentTarget.selectedOptions.item(0);if(!r)return;const p=Number(r.dataset.index);this.value.rawValue=this.props.get("options")[p].value}}const ns=G("pop");class or{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(ns()),e.viewProps.bindClassModifiers(this.element),te(e.shows,Ct(this.element,ns(void 0,"v")))}}class bi{constructor(t,e){this.shows=tt(!1),this.viewProps=e.viewProps,this.view=new or(t,{shows:this.shows,viewProps:this.viewProps})}}const is=G("txt");class In{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(is()),e.viewProps.bindClassModifiers(this.element),this.props_=e.props,this.props_.emitter.on("change",this.onChange_);const r=t.createElement("input");r.classList.add(is("i")),r.type="text",e.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,e.value.emitter.on("change",this.onChange_),this.value_=e.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class gn{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new In(t,{props:e.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const r=t.currentTarget.value,p=this.parser_(r);A(p)||(this.value.rawValue=p),this.view.refresh()}}function lr(n){return String(n)}function ss(n){return n==="false"?!1:!!n}function rs(n){return lr(n)}class ar{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const cr={"**":(n,t)=>Math.pow(n,t),"*":(n,t)=>n*t,"/":(n,t)=>n/t,"%":(n,t)=>n%t,"+":(n,t)=>n+t,"-":(n,t)=>n-t,"<<":(n,t)=>n<<t,">>":(n,t)=>n>>t,">>>":(n,t)=>n>>>t,"&":(n,t)=>n&t,"^":(n,t)=>n^t,"|":(n,t)=>n|t};class ur{constructor(t,e,r){this.left=e,this.operator=t,this.right=r}evaluate(){const t=cr[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const pr={"+":n=>n,"-":n=>-n,"~":n=>~n};class dr{constructor(t,e){this.operator=t,this.expression=e}evaluate(){const t=pr[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function _i(n){return(t,e)=>{for(let r=0;r<n.length;r++){const p=n[r](t,e);if(p!=="")return p}return""}}function wn(n,t){var e;const r=n.substr(t).match(/^\s+/);return(e=r&&r[0])!==null&&e!==void 0?e:""}function hr(n,t){const e=n.substr(t,1);return e.match(/^[1-9]$/)?e:""}function xn(n,t){var e;const r=n.substr(t).match(/^[0-9]+/);return(e=r&&r[0])!==null&&e!==void 0?e:""}function fr(n,t){const e=xn(n,t);if(e!=="")return e;const r=n.substr(t,1);if(t+=1,r!=="-"&&r!=="+")return"";const p=xn(n,t);return p===""?"":r+p}function Dn(n,t){const e=n.substr(t,1);if(t+=1,e.toLowerCase()!=="e")return"";const r=fr(n,t);return r===""?"":e+r}function os(n,t){const e=n.substr(t,1);if(e==="0")return e;const r=hr(n,t);return t+=r.length,r===""?"":r+xn(n,t)}function vr(n,t){const e=os(n,t);if(t+=e.length,e==="")return"";const r=n.substr(t,1);if(t+=r.length,r!==".")return"";const p=xn(n,t);return t+=p.length,e+r+p+Dn(n,t)}function gi(n,t){const e=n.substr(t,1);if(t+=e.length,e!==".")return"";const r=xn(n,t);return t+=r.length,r===""?"":e+r+Dn(n,t)}function mr(n,t){const e=os(n,t);return t+=e.length,e===""?"":e+Dn(n,t)}const br=_i([vr,gi,mr]);function _r(n,t){var e;const r=n.substr(t).match(/^[01]+/);return(e=r&&r[0])!==null&&e!==void 0?e:""}function Ce(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0b")return"";const r=_r(n,t);return r===""?"":e+r}function gr(n,t){var e;const r=n.substr(t).match(/^[0-7]+/);return(e=r&&r[0])!==null&&e!==void 0?e:""}function wr(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0o")return"";const r=gr(n,t);return r===""?"":e+r}function xr(n,t){var e;const r=n.substr(t).match(/^[0-9a-f]+/i);return(e=r&&r[0])!==null&&e!==void 0?e:""}function Cr(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0x")return"";const r=xr(n,t);return r===""?"":e+r}const yr=_i([Ce,wr,Cr]),ls=_i([yr,br]);function Er(n,t){const e=ls(n,t);return t+=e.length,e===""?null:{evaluable:new ar(e),cursor:t}}function Pr(n,t){const e=n.substr(t,1);if(t+=e.length,e!=="(")return null;const r=ae(n,t);if(!r)return null;t=r.cursor,t+=wn(n,t).length;const p=n.substr(t,1);return t+=p.length,p!==")"?null:{evaluable:r.evaluable,cursor:t}}function Gt(n,t){var e;return(e=Er(n,t))!==null&&e!==void 0?e:Pr(n,t)}function as(n,t){const e=Gt(n,t);if(e)return e;const r=n.substr(t,1);if(t+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const p=as(n,t);return p?(t=p.cursor,{cursor:t,evaluable:new dr(r,p.evaluable)}):null}function kr(n,t,e){e+=wn(t,e).length;const r=n.filter(p=>t.startsWith(p,e))[0];return r?(e+=r.length,e+=wn(t,e).length,{cursor:e,operator:r}):null}function wi(n,t){return(e,r)=>{const p=n(e,r);if(!p)return null;r=p.cursor;let m=p.evaluable;for(;;){const C=kr(t,e,r);if(!C)break;r=C.cursor;const T=n(e,r);if(!T)return null;r=T.cursor,m=new ur(C.operator,m,T.evaluable)}return m?{cursor:r,evaluable:m}:null}}const Vr=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((n,t)=>wi(n,t),as);function ae(n,t){return t+=wn(n,t).length,Vr(n,t)}function cs(n){const t=ae(n,0);return!t||t.cursor+wn(n,t.cursor).length!==n.length?null:t.evaluable}function ce(n){var t;const e=cs(n);return(t=e==null?void 0:e.evaluate())!==null&&t!==void 0?t:null}function xi(n){if(typeof n=="number")return n;if(typeof n=="string"){const t=ce(n);if(!A(t))return t}return 0}function Mr(n){return String(n)}function mt(n){return t=>t.toFixed(Math.max(Math.min(n,20),0))}const Lr=mt(0);function Ye(n){return Lr(n)+"%"}function us(n){return String(n)}function zn(n){return n}function ue(n,t){for(;n.length<t;)n.push(void 0)}function Tr(n){const t=[];return ue(t,n),tt(t)}function Sr(n){const t=n.indexOf(void 0);return t<0?n:n.slice(0,t)}function ps(n,t){const e=[...Sr(n),t];return e.length>n.length?e.splice(0,e.length-n.length):ue(e,n.length),e}function We({primary:n,secondary:t,forward:e,backward:r}){let p=!1;function m(C){p||(p=!0,C(),p=!1)}n.emitter.on("change",C=>{m(()=>{t.setRawValue(e(n,t),C.options)})}),t.emitter.on("change",C=>{m(()=>{n.setRawValue(r(n,t),C.options)}),m(()=>{t.setRawValue(e(n,t),C.options)})}),m(()=>{t.setRawValue(e(n,t),{forceEmit:!1,last:!0})})}function Tt(n,t){const e=n*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+e:t.downKey?-e:0}function ee(n){return{altKey:n.altKey,downKey:n.key==="ArrowDown",shiftKey:n.shiftKey,upKey:n.key==="ArrowUp"}}function pe(n){return{altKey:n.altKey,downKey:n.key==="ArrowLeft",shiftKey:n.shiftKey,upKey:n.key==="ArrowRight"}}function Ci(n){return n==="ArrowUp"||n==="ArrowDown"}function ds(n){return Ci(n)||n==="ArrowLeft"||n==="ArrowRight"}function yi(n,t){var e,r;const p=t.ownerDocument.defaultView,m=t.getBoundingClientRect();return{x:n.pageX-(((e=p&&p.scrollX)!==null&&e!==void 0?e:0)+m.left),y:n.pageY-(((r=p&&p.scrollY)!==null&&r!==void 0?r:0)+m.top)}}class Re{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new q,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var e;t.preventDefault(),(e=t.currentTarget)===null||e===void 0||e.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(yi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(yi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(yi(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const e=t.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-r.left,y:e.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}onTouchMove_(t){const e=t.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-r.left,y:e.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}onTouchEnd_(t){var e;const r=(e=t.targetTouches.item(0))!==null&&e!==void 0?e:this.lastTouch_,p=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(r?{x:r.clientX-p.left,y:r.clientY-p.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function ft(n,t,e,r,p){const m=(n-t)/(e-t);return r+m*(p-r)}function hs(n){return String(n.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function gt(n,t,e){return Math.min(Math.max(n,t),e)}function fs(n,t){return(n%t+t)%t}const Bt=G("txt");class Ar{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Bt(),Bt(void 0,"num")),e.arrayPosition&&this.element.classList.add(Bt(void 0,e.arrayPosition)),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("input");r.classList.add(Bt("i")),r.type="text",e.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=e.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Bt()),this.inputElement.classList.add(Bt("i"));const p=t.createElement("div");p.classList.add(Bt("k")),this.element.appendChild(p),this.knobElement=p;const m=t.createElementNS(Ot,"svg");m.classList.add(Bt("g")),this.knobElement.appendChild(m);const C=t.createElementNS(Ot,"path");C.classList.add(Bt("gb")),m.appendChild(C),this.guideBodyElem_=C;const T=t.createElementNS(Ot,"path");T.classList.add(Bt("gh")),m.appendChild(T),this.guideHeadElem_=T;const H=t.createElement("div");H.classList.add(G("tt")()),this.knobElement.appendChild(H),this.tooltipElem_=H,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(Bt(void 0,"drg"));return}this.element.classList.add(Bt(void 0,"drg"));const e=t.rawValue/this.props_.get("draggingScale"),r=e+(e>0?-1:e<0?1:0),p=gt(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+p},0 L${r},4 L${r+p},8`,`M ${e},-1 L${e},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${e},4`);const m=this.props_.get("formatter");this.tooltipElem_.textContent=m(this.value.rawValue),this.tooltipElem_.style.left=`${e}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class de{constructor(t,e){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.parser_=e.parser,this.props=e.props,this.sliderProps_=(r=e.sliderProps)!==null&&r!==void 0?r:null,this.value=e.value,this.viewProps=e.viewProps,this.dragging_=tt(null),this.view=new Ar(t,{arrayPosition:e.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const p=new Re(this.view.knobElement);p.emitter.on("down",this.onPointerDown_),p.emitter.on("move",this.onPointerMove_),p.emitter.on("up",this.onPointerUp_)}constrainValue_(t){var e,r;const p=(e=this.sliderProps_)===null||e===void 0?void 0:e.get("minValue"),m=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("maxValue");let C=t;return p!==void 0&&(C=Math.max(C,p)),m!==void 0&&(C=Math.min(C,m)),C}onInputChange_(t){const r=t.currentTarget.value,p=this.parser_(r);A(p)||(this.value.rawValue=this.constrainValue_(p)),this.view.refresh()}onInputKeyDown_(t){const e=Tt(this.baseStep_,ee(t));e!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+e),{forceEmit:!1,last:!1})}onInputKeyUp_(t){Tt(this.baseStep_,ee(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const e=t.point.x-t.bounds.width/2;return this.constrainValue_(this.originRawValue_+e*this.props.get("draggingScale"))}onPointerMove_(t){const e=this.computeDraggingValue_(t.data);e!==null&&(this.value.setRawValue(e,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const e=this.computeDraggingValue_(t.data);e!==null&&(this.value.setRawValue(e,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Ei=G("sld");class vs{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Ei()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Ei("t")),e.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const p=t.createElement("div");p.classList.add(Ei("k")),this.trackElement.appendChild(p),this.knobElement=p,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.update_()}update_(){const t=gt(ft(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class Or{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.value=e.value,this.viewProps=e.viewProps,this.props=e.props,this.view=new vs(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Re(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){!t.point||this.value.setRawValue(ft(gt(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),e)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=Tt(this.baseStep_,pe(t));e!==0&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}onKeyUp_(t){Tt(this.baseStep_,pe(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Pi=G("sldtxt");class Yt{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Pi());const r=t.createElement("div");r.classList.add(Pi("s")),this.sliderView_=e.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const p=t.createElement("div");p.classList.add(Pi("t")),this.textView_=e.textView,p.appendChild(this.textView_.element),this.element.appendChild(p)}}class Bn{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.sliderC_=new Or(t,{baseStep:e.baseStep,props:e.sliderProps,value:e.value,viewProps:this.viewProps}),this.textC_=new de(t,{baseStep:e.baseStep,parser:e.parser,props:e.textProps,sliderProps:e.sliderProps,value:e.value,viewProps:e.viewProps}),this.view=new Yt(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Xe(n,t){n.write(t)}function Je(n){const t=Q;if(Array.isArray(n))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(n).value;if(typeof n=="object")return t.required.raw(n).value}function ms(n){if(n==="inline"||n==="popup")return n}function Nt(n){const t=Q;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(n).value}function bs(n){if(Array.isArray(n))return n;const t=[];return Object.keys(n).forEach(e=>{t.push({text:e,value:n[e]})}),t}function ki(n){return A(n)?null:new Ge(bs(n))}function Vi(n){const t=n?pt(n,Ge):null;return t?t.options:null}function Nr(n){const t=n?pt(n,Lt):null;return t?t.step:null}function Fn(n,t){const e=n&&pt(n,Lt);return e?hs(e.step):Math.max(hs(t),2)}function Ze(n){const t=Nr(n);return t!=null?t:1}function Qe(n,t){var e;const r=n&&pt(n,Lt),p=Math.abs((e=r==null?void 0:r.step)!==null&&e!==void 0?e:t);return p===0?.1:Math.pow(10,Math.floor(Math.log10(p))-1)}const jn=G("ckb");class Rr{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(jn()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("label");r.classList.add(jn("l")),this.element.appendChild(r);const p=t.createElement("input");p.classList.add(jn("i")),p.type="checkbox",r.appendChild(p),this.inputElement=p,e.viewProps.bindDisabled(this.inputElement);const m=t.createElement("div");m.classList.add(jn("w")),r.appendChild(m);const C=z(t,"check");m.appendChild(C),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class Ir{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Rr(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const e=t.currentTarget;this.value.rawValue=e.checked}}function Cn(n){const t=[],e=ki(n.options);return e&&t.push(e),new xe(t)}const Dr={id:"input-bool",type:"input",accept:(n,t)=>{if(typeof n!="boolean")return null;const r=bt(t,{options:Q.optional.custom(Je)});return r?{initialValue:n,params:r}:null},binding:{reader:n=>ss,constraint:n=>Cn(n.params),writer:n=>Xe},controller:n=>{var t;const e=n.document,r=n.value,p=n.constraint;return p&&pt(p,Ge)?new Ne(e,{props:F.fromObject({options:(t=Vi(p))!==null&&t!==void 0?t:[]}),value:r,viewProps:n.viewProps}):new Ir(e,{value:r,viewProps:n.viewProps})}},Ie=G("col");class Mi{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Ie()),e.foldable.bindExpandedClass(this.element,Ie(void 0,"expanded")),xt(e.foldable,"completed",Ct(this.element,Ie(void 0,"cpl")));const r=t.createElement("div");r.classList.add(Ie("h")),this.element.appendChild(r);const p=t.createElement("div");p.classList.add(Ie("s")),r.appendChild(p),this.swatchElement=p;const m=t.createElement("div");if(m.classList.add(Ie("t")),r.appendChild(m),this.textElement=m,e.pickerLayout==="inline"){const C=t.createElement("div");C.classList.add(Ie("p")),this.element.appendChild(C),this.pickerElement=C}else this.pickerElement=null}}function zr(n,t,e){const r=gt(n/255,0,1),p=gt(t/255,0,1),m=gt(e/255,0,1),C=Math.max(r,p,m),T=Math.min(r,p,m),H=C-T;let W=0,at=0;const ct=(T+C)/2;return H!==0&&(at=H/(1-Math.abs(C+T-1)),r===C?W=(p-m)/H:p===C?W=2+(m-r)/H:W=4+(r-p)/H,W=W/6+(W<0?1:0)),[W*360,at*100,ct*100]}function Li(n,t,e){const r=(n%360+360)%360,p=gt(t/100,0,1),m=gt(e/100,0,1),C=(1-Math.abs(2*m-1))*p,T=C*(1-Math.abs(r/60%2-1)),H=m-C/2;let W,at,ct;return r>=0&&r<60?[W,at,ct]=[C,T,0]:r>=60&&r<120?[W,at,ct]=[T,C,0]:r>=120&&r<180?[W,at,ct]=[0,C,T]:r>=180&&r<240?[W,at,ct]=[0,T,C]:r>=240&&r<300?[W,at,ct]=[T,0,C]:[W,at,ct]=[C,0,T],[(W+H)*255,(at+H)*255,(ct+H)*255]}function Br(n,t,e){const r=gt(n/255,0,1),p=gt(t/255,0,1),m=gt(e/255,0,1),C=Math.max(r,p,m),T=Math.min(r,p,m),H=C-T;let W;H===0?W=0:C===r?W=60*(((p-m)/H%6+6)%6):C===p?W=60*((m-r)/H+2):W=60*((r-p)/H+4);const at=C===0?0:H/C,ct=C;return[W,at*100,ct*100]}function _s(n,t,e){const r=fs(n,360),p=gt(t/100,0,1),m=gt(e/100,0,1),C=m*p,T=C*(1-Math.abs(r/60%2-1)),H=m-C;let W,at,ct;return r>=0&&r<60?[W,at,ct]=[C,T,0]:r>=60&&r<120?[W,at,ct]=[T,C,0]:r>=120&&r<180?[W,at,ct]=[0,C,T]:r>=180&&r<240?[W,at,ct]=[0,T,C]:r>=240&&r<300?[W,at,ct]=[T,0,C]:[W,at,ct]=[C,0,T],[(W+H)*255,(at+H)*255,(ct+H)*255]}function Fr(n,t,e){const r=e+t*(100-Math.abs(2*e-100))/200;return[n,r!==0?t*(100-Math.abs(2*e-100))/r:0,e+t*(100-Math.abs(2*e-100))/(2*100)]}function jr(n,t,e){const r=100-Math.abs(e*(200-t)/100-100);return[n,r!==0?t*e/r:0,e*(200-t)/(2*100)]}function a(n){return[n[0],n[1],n[2]]}function s(n,t){return[n[0],n[1],n[2],t]}const l={hsl:{hsl:(n,t,e)=>[n,t,e],hsv:Fr,rgb:Li},hsv:{hsl:jr,hsv:(n,t,e)=>[n,t,e],rgb:_s},rgb:{hsl:zr,hsv:Br,rgb:(n,t,e)=>[n,t,e]}};function u(n,t){return[t==="float"?1:n==="rgb"?255:360,t==="float"?1:n==="rgb"?255:100,t==="float"?1:n==="rgb"?255:100]}function v(n,t,e){var r;const p=u(t,e);return[t==="rgb"?gt(n[0],0,p[0]):fs(n[0],p[0]),gt(n[1],0,p[1]),gt(n[2],0,p[2]),gt((r=n[3])!==null&&r!==void 0?r:1,0,1)]}function x(n,t,e,r){const p=u(t,e),m=u(t,r);return n.map((C,T)=>C/p[T]*m[T])}function E(n,t,e){const r=x(n,t.mode,t.type,"int"),p=l[t.mode][e.mode](...r);return x(p,e.mode,"int",e.type)}function I(n,t){return typeof n!="object"||A(n)?!1:t in n&&typeof n[t]=="number"}class j{constructor(t,e,r="int"){this.mode=e,this.type=r,this.comps_=v(t,e,r)}static black(t="int"){return new j([0,0,0],"rgb",t)}static fromObject(t,e="int"){const r="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new j(r,"rgb",e)}static toRgbaObject(t,e="int"){return t.toRgbaObject(e)}static isRgbColorObject(t){return I(t,"r")&&I(t,"g")&&I(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&I(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,e){if(t.mode!==e.mode)return!1;const r=t.comps_,p=e.comps_;for(let m=0;m<r.length;m++)if(r[m]!==p[m])return!1;return!0}getComponents(t,e="int"){return s(E(a(this.comps_),{mode:this.mode,type:this.type},{mode:t!=null?t:this.mode,type:e}),this.comps_[3])}toRgbaObject(t="int"){const e=this.getComponents("rgb",t);return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const wt=G("colp");class he{constructor(t,e){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(wt());const r=t.createElement("div");r.classList.add(wt("hsv"));const p=t.createElement("div");p.classList.add(wt("sv")),this.svPaletteView_=e.svPaletteView,p.appendChild(this.svPaletteView_.element),r.appendChild(p);const m=t.createElement("div");m.classList.add(wt("h")),this.hPaletteView_=e.hPaletteView,m.appendChild(this.hPaletteView_.element),r.appendChild(m),this.element.appendChild(r);const C=t.createElement("div");if(C.classList.add(wt("rgb")),this.textView_=e.textView,C.appendChild(this.textView_.element),this.element.appendChild(C),e.alphaViews){this.alphaViews_={palette:e.alphaViews.palette,text:e.alphaViews.text};const T=t.createElement("div");T.classList.add(wt("a"));const H=t.createElement("div");H.classList.add(wt("ap")),H.appendChild(this.alphaViews_.palette.element),T.appendChild(H);const W=t.createElement("div");W.classList.add(wt("at")),W.appendChild(this.alphaViews_.text.element),T.appendChild(W),this.element.appendChild(T)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(e=>e.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function Ti(n){return n==="int"?"int":n==="float"?"float":void 0}function Si(n){const t=Q;return bt(n,{alpha:t.optional.boolean,color:t.optional.object({alpha:t.optional.boolean,type:t.optional.custom(Ti)}),expanded:t.optional.boolean,picker:t.optional.custom(ms)})}function De(n){return n?.1:1}function yn(n){var t;return(t=n.color)===null||t===void 0?void 0:t.type}function Za(n,t){return n.alpha===t.alpha&&n.mode===t.mode&&n.notation===t.notation&&n.type===t.type}function ne(n,t){const e=n.match(/^(.+)%$/);return Math.min(e?parseFloat(e[1])*.01*t:parseFloat(n),t)}const Qa={deg:n=>n,grad:n=>n*360/400,rad:n=>n*360/(2*Math.PI),turn:n=>n*360};function Go(n){const t=n.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(n);const e=parseFloat(t[1]),r=t[2];return Qa[r](e)}function Yo(n){const t=n.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[ne(t[1],255),ne(t[2],255),ne(t[3],255)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function Wo(n){return t=>{const e=Yo(t);return e?new j(e,"rgb",n):null}}function Xo(n){const t=n.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[ne(t[1],255),ne(t[2],255),ne(t[3],255),ne(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function Jo(n){return t=>{const e=Xo(t);return e?new j(e,"rgb",n):null}}function Zo(n){const t=n.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[Go(t[1]),ne(t[2],100),ne(t[3],100)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function Qo(n){return t=>{const e=Zo(t);return e?new j(e,"hsl",n):null}}function tl(n){const t=n.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[Go(t[1]),ne(t[2],100),ne(t[3],100),ne(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function el(n){return t=>{const e=tl(t);return e?new j(e,"hsl",n):null}}function nl(n){const t=n.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const e=n.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}function tc(n){const t=nl(n);return t?new j(t,"rgb","int"):null}function il(n){const t=n.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),ft(parseInt(t[4]+t[4],16),0,255,0,1)];const e=n.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),ft(parseInt(e[4],16),0,255,0,1)]:null}function ec(n){const t=il(n);return t?new j(t,"rgb","int"):null}function sl(n){const t=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const e=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function rl(n){return t=>{const e=sl(t);return e?new j(e,"rgb",n):null}}function ol(n){const t=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const e=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function ll(n){return t=>{const e=ol(t);return e?new j(e,"rgb",n):null}}const nc=[{parser:nl,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:il,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Yo,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Xo,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Zo,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:tl,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:sl,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:ol,result:{alpha:!0,mode:"rgb",notation:"object"}}];function ic(n){return nc.reduce((t,{parser:e,result:r})=>t||(e(n)?r:null),null)}function $r(n,t="int"){const e=ic(n);return e?e.notation==="hex"&&t!=="float"?Object.assign(Object.assign({},e),{type:"int"}):e.notation==="func"?Object.assign(Object.assign({},e),{type:t}):null:null}const al={int:[tc,ec,Wo("int"),Jo("int"),Qo("int"),el("int"),rl("int"),ll("int")],float:[Wo("float"),Jo("float"),Qo("float"),el("float"),rl("float"),ll("float")]};function sc(n){const t=al[n];return e=>{if(typeof e!="string")return j.black(n);const r=t.reduce((p,m)=>p||m(e),null);return r!=null?r:j.black(n)}}function Kr(n){const t=al[n];return e=>t.reduce((r,p)=>r||p(e),null)}function cl(n){const t=gt(Math.floor(n),0,255).toString(16);return t.length===1?`0${t}`:t}function ul(n,t="#"){const e=a(n.getComponents("rgb")).map(cl).join("");return`${t}${e}`}function Ur(n,t="#"){const e=n.getComponents("rgb"),r=[e[0],e[1],e[2],e[3]*255].map(cl).join("");return`${t}${r}`}function pl(n,t){const e=mt(t==="float"?2:0);return`rgb(${a(n.getComponents("rgb",t)).map(p=>e(p)).join(", ")})`}function rc(n){return t=>pl(t,n)}function gs(n,t){const e=mt(2),r=mt(t==="float"?2:0);return`rgba(${n.getComponents("rgb",t).map((m,C)=>(C===3?e:r)(m)).join(", ")})`}function oc(n){return t=>gs(t,n)}function lc(n){const t=[mt(0),Ye,Ye];return`hsl(${a(n.getComponents("hsl")).map((r,p)=>t[p](r)).join(", ")})`}function ac(n){const t=[mt(0),Ye,Ye,mt(2)];return`hsla(${n.getComponents("hsl").map((r,p)=>t[p](r)).join(", ")})`}function dl(n,t){const e=mt(t==="float"?2:0),r=["r","g","b"];return`{${a(n.getComponents("rgb",t)).map((m,C)=>`${r[C]}: ${e(m)}`).join(", ")}}`}function cc(n){return t=>dl(t,n)}function hl(n,t){const e=mt(2),r=mt(t==="float"?2:0),p=["r","g","b","a"];return`{${n.getComponents("rgb",t).map((C,T)=>{const H=T===3?e:r;return`${p[T]}: ${H(C)}`}).join(", ")}}`}function uc(n){return t=>hl(t,n)}const pc=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:ul},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Ur},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:lc},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:ac},...["int","float"].reduce((n,t)=>[...n,{format:{alpha:!1,mode:"rgb",notation:"func",type:t},stringifier:rc(t)},{format:{alpha:!0,mode:"rgb",notation:"func",type:t},stringifier:oc(t)},{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:cc(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:uc(t)}],[])];function Hr(n){return pc.reduce((t,e)=>t||(Za(e.format,n)?e.stringifier:null),null)}const Ai=G("apl");class dc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ai()),e.viewProps.bindTabIndex(this.element);const r=t.createElement("div");r.classList.add(Ai("b")),this.element.appendChild(r);const p=t.createElement("div");p.classList.add(Ai("c")),r.appendChild(p),this.colorElem_=p;const m=t.createElement("div");m.classList.add(Ai("m")),this.element.appendChild(m),this.markerElem_=m;const C=t.createElement("div");C.classList.add(Ai("p")),this.markerElem_.appendChild(C),this.previewElem_=C,this.update_()}update_(){const t=this.value.rawValue,e=t.getComponents("rgb"),r=new j([e[0],e[1],e[2],0],"rgb"),p=new j([e[0],e[1],e[2],255],"rgb"),m=["to right",gs(r),gs(p)];this.colorElem_.style.background=`linear-gradient(${m.join(",")})`,this.previewElem_.style.backgroundColor=gs(t);const C=ft(e[3],0,1,0,100);this.markerElem_.style.left=`${C}%`}onValueChange_(){this.update_()}}class hc{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new dc(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Re(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const r=t.point.x/t.bounds.width,p=this.value.rawValue,[m,C,T]=p.getComponents("hsv");this.value.setRawValue(new j([m,C,T,r],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=Tt(De(!0),pe(t));if(e===0)return;const r=this.value.rawValue,[p,m,C,T]=r.getComponents("hsv");this.value.setRawValue(new j([p,m,C,T+e],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){Tt(De(!0),pe(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const $n=G("coltxt");function fc(n){const t=n.createElement("select"),e=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(e.reduce((r,p)=>{const m=n.createElement("option");return m.textContent=p.text,m.value=p.value,r.appendChild(m),r},n.createDocumentFragment())),t}class vc{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add($n());const r=t.createElement("div");r.classList.add($n("m")),this.modeElem_=fc(t),this.modeElem_.classList.add($n("ms")),r.appendChild(this.modeSelectElement);const p=t.createElement("div");p.classList.add($n("mm")),p.appendChild(z(t,"dropdown")),r.appendChild(p),this.element.appendChild(r);const m=t.createElement("div");m.classList.add($n("w")),this.element.appendChild(m),this.textsElem_=m,this.textViews_=e.textViews,this.applyTextViews_(),te(e.colorMode,C=>{this.modeElem_.value=C})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){L(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(e=>{const r=t.createElement("div");r.classList.add($n("c")),r.appendChild(e.element),this.textsElem_.appendChild(r)})}}function mc(n){return mt(n==="float"?2:0)}function bc(n,t,e){const r=u(n,t)[e];return new Jt({min:0,max:r})}function qr(n,t,e){return new de(n,{arrayPosition:e===0?"fst":e===3-1?"lst":"mid",baseStep:De(!1),parser:t.parser,props:F.fromObject({draggingScale:t.colorType==="float"?.01:1,formatter:mc(t.colorType)}),value:tt(0,{constraint:bc(t.colorMode,t.colorType,e)}),viewProps:t.viewProps})}class _c{constructor(t,e){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=e.colorType,this.parser_=e.parser,this.value=e.value,this.viewProps=e.viewProps,this.colorMode=tt(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new vc(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const e={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},r=[qr(t,e,0),qr(t,e,1),qr(t,e,2)];return r.forEach((p,m)=>{We({primary:this.value,secondary:p.value,forward:C=>C.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[m],backward:(C,T)=>{const H=this.colorMode.rawValue,W=C.rawValue.getComponents(H,this.colorType_);return W[m]=T.rawValue,new j(s(a(W),W[3]),H,this.colorType_)}})}),r}onModeSelectChange_(t){const e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Gr=G("hpl");class gc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Gr()),e.viewProps.bindTabIndex(this.element);const r=t.createElement("div");r.classList.add(Gr("c")),this.element.appendChild(r);const p=t.createElement("div");p.classList.add(Gr("m")),this.element.appendChild(p),this.markerElem_=p,this.update_()}update_(){const t=this.value.rawValue,[e]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=pl(new j([e,100,100],"hsv"));const r=ft(e,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class wc{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new gc(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Re(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const r=ft(gt(t.point.x,0,t.bounds.width),0,t.bounds.width,0,359),p=this.value.rawValue,[,m,C,T]=p.getComponents("hsv");this.value.setRawValue(new j([r,m,C,T],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=Tt(De(!1),pe(t));if(e===0)return;const r=this.value.rawValue,[p,m,C,T]=r.getComponents("hsv");this.value.setRawValue(new j([p+e,m,C,T],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){Tt(De(!1),pe(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Yr=G("svp"),fl=64;class xc{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Yr()),e.viewProps.bindTabIndex(this.element);const r=t.createElement("canvas");r.height=fl,r.width=fl,r.classList.add(Yr("c")),this.element.appendChild(r),this.canvasElement=r;const p=t.createElement("div");p.classList.add(Yr("m")),this.element.appendChild(p),this.markerElem_=p,this.update_()}update_(){const t=V(this.canvasElement);if(!t)return;const r=this.value.rawValue.getComponents("hsv"),p=this.canvasElement.width,m=this.canvasElement.height,C=t.getImageData(0,0,p,m),T=C.data;for(let at=0;at<m;at++)for(let ct=0;ct<p;ct++){const Be=ft(ct,0,p,0,100),Ni=ft(at,0,m,100,0),Ri=_s(r[0],Be,Ni),qn=(at*p+ct)*4;T[qn]=Ri[0],T[qn+1]=Ri[1],T[qn+2]=Ri[2],T[qn+3]=255}t.putImageData(C,0,0);const H=ft(r[1],0,100,0,100);this.markerElem_.style.left=`${H}%`;const W=ft(r[2],0,100,100,0);this.markerElem_.style.top=`${W}%`}onValueChange_(){this.update_()}}class Cc{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new xc(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Re(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const r=ft(t.point.x,0,t.bounds.width,0,100),p=ft(t.point.y,0,t.bounds.height,100,0),[m,,,C]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new j([m,r,p,C],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){ds(t.key)&&t.preventDefault();const[e,r,p,m]=this.value.rawValue.getComponents("hsv"),C=De(!1),T=Tt(C,pe(t)),H=Tt(C,ee(t));T===0&&H===0||this.value.setRawValue(new j([e,r+T,p+H,m],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const e=De(!1),r=Tt(e,pe(t)),p=Tt(e,ee(t));r===0&&p===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class yc{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.hPaletteC_=new wc(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Cc(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=e.supportsAlpha?{palette:new hc(t,{value:this.value,viewProps:this.viewProps}),text:new de(t,{parser:ce,baseStep:.1,props:F.fromObject({draggingScale:.01,formatter:mt(2)}),value:tt(0,{constraint:new Jt({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&We({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.rawValue.getComponents()[3],backward:(r,p)=>{const m=r.rawValue.getComponents();return m[3]=p.rawValue,new j(m,r.rawValue.mode)}}),this.textC_=new _c(t,{colorType:e.colorType,parser:ce,value:this.value,viewProps:this.viewProps}),this.view=new he(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:e.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Wr=G("colsw");class Ec{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.element=t.createElement("div"),this.element.classList.add(Wr()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("div");r.classList.add(Wr("sw")),this.element.appendChild(r),this.swatchElem_=r;const p=t.createElement("button");p.classList.add(Wr("b")),e.viewProps.bindDisabled(p),this.element.appendChild(p),this.buttonElement=p,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Ur(t)}onValueChange_(){this.update_()}}class Pc{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new Ec(t,{value:this.value,viewProps:this.viewProps})}}class Xr{constructor(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=Ut.create(e.expanded),this.swatchC_=new Pc(t,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new gn(t,{parser:e.parser,props:F.fromObject({formatter:e.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Mi(t,{foldable:this.foldable_,pickerLayout:e.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=e.pickerLayout==="popup"?new bi(t,{viewProps:this.viewProps}):null;const p=new yc(t,{colorType:e.colorType,supportsAlpha:e.supportsAlpha,value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(m=>{m.addEventListener("blur",this.onPopupChildBlur_),m.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(p.view.element),We({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:m=>m.rawValue,backward:(m,C)=>C.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ue(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,r=t.relatedTarget;(!r||!e.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,r=B(t);r&&e.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!w(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function kc(n,t){return j.isColorObject(n)?j.fromObject(n,t):j.black(t)}function Vc(n){return a(n.getComponents("rgb")).reduce((t,e)=>t<<8|Math.floor(e)&255,0)}function Mc(n){return n.getComponents("rgb").reduce((t,e,r)=>{const p=Math.floor(r===3?e*255:e)&255;return t<<8|p},0)>>>0}function Lc(n){return new j([n>>16&255,n>>8&255,n&255],"rgb")}function Tc(n){return new j([n>>24&255,n>>16&255,n>>8&255,ft(n&255,0,255,0,1)],"rgb")}function Sc(n){return typeof n!="number"?j.black():Lc(n)}function Ac(n){return typeof n!="number"?j.black():Tc(n)}function Oc(n){const t=Hr(n);return t?(e,r)=>{Xe(e,t(r))}:null}function Nc(n){const t=n?Mc:Vc;return(e,r)=>{Xe(e,t(r))}}function Rc(n,t,e){const r=t.toRgbaObject(e);n.writeProperty("r",r.r),n.writeProperty("g",r.g),n.writeProperty("b",r.b),n.writeProperty("a",r.a)}function Ic(n,t,e){const r=t.toRgbaObject(e);n.writeProperty("r",r.r),n.writeProperty("g",r.g),n.writeProperty("b",r.b)}function Dc(n,t){return(e,r)=>{n?Rc(e,r,t):Ic(e,r,t)}}function Jr(n){var t;return!!((n==null?void 0:n.alpha)||((t=n==null?void 0:n.color)===null||t===void 0?void 0:t.alpha))}function zc(n){return n?t=>Ur(t,"0x"):t=>ul(t,"0x")}function Bc(n){return"color"in n||"view"in n&&n.view==="color"}const Fc={id:"input-color-number",type:"input",accept:(n,t)=>{if(typeof n!="number"||!Bc(t))return null;const e=Si(t);return e?{initialValue:n,params:e}:null},binding:{reader:n=>Jr(n.params)?Ac:Sc,equals:j.equals,writer:n=>Nc(Jr(n.params))},controller:n=>{const t=Jr(n.params),e="expanded"in n.params?n.params.expanded:void 0,r="picker"in n.params?n.params.picker:void 0;return new Xr(n.document,{colorType:"int",expanded:e!=null?e:!1,formatter:zc(t),parser:Kr("int"),pickerLayout:r!=null?r:"popup",supportsAlpha:t,value:n.value,viewProps:n.viewProps})}};function jc(n){return j.isRgbaColorObject(n)}function $c(n){return t=>kc(t,n)}function Kc(n,t){return e=>n?hl(e,t):dl(e,t)}const Uc={id:"input-color-object",type:"input",accept:(n,t)=>{if(!j.isColorObject(n))return null;const e=Si(t);return e?{initialValue:n,params:e}:null},binding:{reader:n=>$c(yn(n.params)),equals:j.equals,writer:n=>Dc(jc(n.initialValue),yn(n.params))},controller:n=>{var t;const e=j.isRgbaColorObject(n.initialValue),r="expanded"in n.params?n.params.expanded:void 0,p="picker"in n.params?n.params.picker:void 0,m=(t=yn(n.params))!==null&&t!==void 0?t:"int";return new Xr(n.document,{colorType:m,expanded:r!=null?r:!1,formatter:Kc(e,m),parser:Kr(m),pickerLayout:p!=null?p:"popup",supportsAlpha:e,value:n.value,viewProps:n.viewProps})}},Hc={id:"input-color-string",type:"input",accept:(n,t)=>{if(typeof n!="string"||"view"in t&&t.view==="text")return null;const e=$r(n,yn(t));if(!e||!Hr(e))return null;const p=Si(t);return p?{initialValue:n,params:p}:null},binding:{reader:n=>{var t;return sc((t=yn(n.params))!==null&&t!==void 0?t:"int")},equals:j.equals,writer:n=>{const t=$r(n.initialValue,yn(n.params));if(!t)throw K.shouldNeverHappen();const e=Oc(t);if(!e)throw K.notBindable();return e}},controller:n=>{const t=$r(n.initialValue,yn(n.params));if(!t)throw K.shouldNeverHappen();const e=Hr(t);if(!e)throw K.shouldNeverHappen();const r="expanded"in n.params?n.params.expanded:void 0,p="picker"in n.params?n.params.picker:void 0;return new Xr(n.document,{colorType:t.type,expanded:r!=null?r:!1,formatter:e,parser:Kr(t.type),pickerLayout:p!=null?p:"popup",supportsAlpha:t.alpha,value:n.value,viewProps:n.viewProps})}};class tn{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const e=this.asm_.toComponents(t).map((r,p)=>{var m,C;return(C=(m=this.components[p])===null||m===void 0?void 0:m.constrain(r))!==null&&C!==void 0?C:r});return this.asm_.fromComponents(e)}}const vl=G("pndtxt");class qc{constructor(t,e){this.textViews=e.textViews,this.element=t.createElement("div"),this.element.classList.add(vl()),this.textViews.forEach(r=>{const p=t.createElement("div");p.classList.add(vl("a")),p.appendChild(r.element),this.element.appendChild(p)})}}function Gc(n,t,e){return new de(n,{arrayPosition:e===0?"fst":e===t.axes.length-1?"lst":"mid",baseStep:t.axes[e].baseStep,parser:t.parser,props:t.axes[e].textProps,value:tt(0,{constraint:t.axes[e].constraint}),viewProps:t.viewProps})}class Zr{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.acs_=e.axes.map((r,p)=>Gc(t,e,p)),this.acs_.forEach((r,p)=>{We({primary:this.value,secondary:r.value,forward:m=>e.assembly.toComponents(m.rawValue)[p],backward:(m,C)=>{const T=e.assembly.toComponents(m.rawValue);return T[p]=C.rawValue,e.assembly.fromComponents(T)}})}),this.view=new qc(t,{textViews:this.acs_.map(r=>r.view)})}}function ml(n,t){return"step"in n&&!A(n.step)?new Lt(n.step,t):null}function bl(n){return"max"in n&&!A(n.max)||"min"in n&&!A(n.min)?new Jt({max:n.max,min:n.min}):null}function Yc(n,t){const e=[],r=ml(n,t);r&&e.push(r);const p=bl(n);p&&e.push(p);const m=ki(n.options);return m&&e.push(m),new xe(e)}function Wc(n){const t=n?pt(n,Jt):null;return t?[t.minValue,t.maxValue]:[void 0,void 0]}function Xc(n){const[t,e]=Wc(n);return[t!=null?t:0,e!=null?e:100]}const Jc={id:"input-number",type:"input",accept:(n,t)=>{if(typeof n!="number")return null;const e=Q,r=bt(t,{format:e.optional.function,max:e.optional.number,min:e.optional.number,options:e.optional.custom(Je),step:e.optional.number});return r?{initialValue:n,params:r}:null},binding:{reader:n=>xi,constraint:n=>Yc(n.params,n.initialValue),writer:n=>Xe},controller:n=>{var t,e;const r=n.value,p=n.constraint;if(p&&pt(p,Ge))return new Ne(n.document,{props:F.fromObject({options:(t=Vi(p))!==null&&t!==void 0?t:[]}),value:r,viewProps:n.viewProps});const m=(e="format"in n.params?n.params.format:void 0)!==null&&e!==void 0?e:mt(Fn(p,r.rawValue));if(p&&pt(p,Jt)){const[C,T]=Xc(p);return new Bn(n.document,{baseStep:Ze(p),parser:ce,sliderProps:F.fromObject({maxValue:T,minValue:C}),textProps:F.fromObject({draggingScale:Qe(p,r.rawValue),formatter:m}),value:r,viewProps:n.viewProps})}return new de(n.document,{baseStep:Ze(p),parser:ce,props:F.fromObject({draggingScale:Qe(p,r.rawValue),formatter:m}),value:r,viewProps:n.viewProps})}};class en{constructor(t=0,e=0){this.x=t,this.y=e}getComponents(){return[this.x,this.y]}static isObject(t){if(A(t))return!1;const e=t.x,r=t.y;return!(typeof e!="number"||typeof r!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y}toObject(){return{x:this.x,y:this.y}}}const _l={toComponents:n=>n.getComponents(),fromComponents:n=>new en(...n)},Kn=G("p2d");class Zc{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Kn()),e.viewProps.bindClassModifiers(this.element),te(e.expanded,Ct(this.element,Kn(void 0,"expanded")));const r=t.createElement("div");r.classList.add(Kn("h")),this.element.appendChild(r);const p=t.createElement("button");p.classList.add(Kn("b")),p.appendChild(z(t,"p2dpad")),e.viewProps.bindDisabled(p),r.appendChild(p),this.buttonElement=p;const m=t.createElement("div");if(m.classList.add(Kn("t")),r.appendChild(m),this.textElement=m,e.pickerLayout==="inline"){const C=t.createElement("div");C.classList.add(Kn("p")),this.element.appendChild(C),this.pickerElement=C}else this.pickerElement=null}}const nn=G("p2dp");class Qc{constructor(t,e){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=e.invertsY,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(nn()),e.layout==="popup"&&this.element.classList.add(nn(void 0,"p"));const r=t.createElement("div");r.classList.add(nn("p")),e.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const p=t.createElementNS(Ot,"svg");p.classList.add(nn("g")),this.padElement.appendChild(p),this.svgElem_=p;const m=t.createElementNS(Ot,"line");m.classList.add(nn("ax")),m.setAttributeNS(null,"x1","0"),m.setAttributeNS(null,"y1","50%"),m.setAttributeNS(null,"x2","100%"),m.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(m);const C=t.createElementNS(Ot,"line");C.classList.add(nn("ax")),C.setAttributeNS(null,"x1","50%"),C.setAttributeNS(null,"y1","0"),C.setAttributeNS(null,"x2","50%"),C.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(C);const T=t.createElementNS(Ot,"line");T.classList.add(nn("l")),T.setAttributeNS(null,"x1","50%"),T.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(T),this.lineElem_=T;const H=t.createElement("div");H.classList.add(nn("m")),this.padElement.appendChild(H),this.markerElem_=H,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,e]=this.value.rawValue.getComponents(),r=this.maxValue_,p=ft(t,-r,+r,0,100),m=ft(e,-r,+r,0,100),C=this.invertsY_?100-m:m;this.lineElem_.setAttributeNS(null,"x2",`${p}%`),this.lineElem_.setAttributeNS(null,"y2",`${C}%`),this.markerElem_.style.left=`${p}%`,this.markerElem_.style.top=`${C}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function gl(n,t,e){return[Tt(t[0],pe(n)),Tt(t[1],ee(n))*(e?1:-1)]}class tu{constructor(t,e){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.baseSteps_=e.baseSteps,this.maxValue_=e.maxValue,this.invertsY_=e.invertsY,this.view=new Qc(t,{invertsY:this.invertsY_,layout:e.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Re(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const r=this.maxValue_,p=ft(t.point.x,0,t.bounds.width,-r,+r),m=ft(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-r,+r);this.value.setRawValue(new en(p,m),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){ds(t.key)&&t.preventDefault();const[e,r]=gl(t,this.baseSteps_,this.invertsY_);e===0&&r===0||this.value.setRawValue(new en(this.value.rawValue.x+e,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[e,r]=gl(t,this.baseSteps_,this.invertsY_);e===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class eu{constructor(t,e){var r,p;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=Ut.create(e.expanded),this.popC_=e.pickerLayout==="popup"?new bi(t,{viewProps:this.viewProps}):null;const m=new tu(t,{baseSteps:[e.axes[0].baseStep,e.axes[1].baseStep],invertsY:e.invertsY,layout:e.pickerLayout,maxValue:e.maxValue,value:this.value,viewProps:this.viewProps});m.view.allFocusableElements.forEach(C=>{C.addEventListener("blur",this.onPopupChildBlur_),C.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=m,this.textC_=new Zr(t,{assembly:_l,axes:e.axes,parser:e.parser,value:this.value,viewProps:this.viewProps}),this.view=new Zc(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(p=this.view.buttonElement)===null||p===void 0||p.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),We({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:C=>C.rawValue,backward:(C,T)=>T.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Ue(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,r=t.relatedTarget;(!r||!e.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,r=B(t);r&&e.contains(r)||r&&r===this.view.buttonElement&&!w(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}function nu(n){return en.isObject(n)?new en(n.x,n.y):new en}function iu(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y)}function ze(n,t){if(!n)return;const e=[],r=ml(n,t);r&&e.push(r);const p=bl(n);return p&&e.push(p),new xe(e)}function su(n,t){return new tn({assembly:_l,components:[ze("x"in n?n.x:void 0,t.x),ze("y"in n?n.y:void 0,t.y)]})}function wl(n,t){var e,r;const p=n&&pt(n,Jt);if(p)return Math.max(Math.abs((e=p.minValue)!==null&&e!==void 0?e:0),Math.abs((r=p.maxValue)!==null&&r!==void 0?r:0));const m=Ze(n);return Math.max(Math.abs(m)*10,Math.abs(t)*10)}function ru(n,t){const e=t instanceof tn?t.components[0]:void 0,r=t instanceof tn?t.components[1]:void 0,p=wl(e,n.x),m=wl(r,n.y);return Math.max(p,m)}function xl(n,t){return{baseStep:Ze(t),constraint:t,textProps:F.fromObject({draggingScale:Qe(t,n),formatter:mt(Fn(t,n))})}}function ou(n){if(!("y"in n))return!1;const t=n.y;return t&&"inverted"in t?!!t.inverted:!1}const lu={id:"input-point2d",type:"input",accept:(n,t)=>{if(!en.isObject(n))return null;const e=Q,r=bt(t,{expanded:e.optional.boolean,picker:e.optional.custom(ms),x:e.optional.custom(Nt),y:e.optional.object({inverted:e.optional.boolean,max:e.optional.number,min:e.optional.number,step:e.optional.number})});return r?{initialValue:n,params:r}:null},binding:{reader:n=>nu,constraint:n=>su(n.params,n.initialValue),equals:en.equals,writer:n=>iu},controller:n=>{const t=n.document,e=n.value,r=n.constraint;if(!(r instanceof tn))throw K.shouldNeverHappen();const p="expanded"in n.params?n.params.expanded:void 0,m="picker"in n.params?n.params.picker:void 0;return new eu(t,{axes:[xl(e.rawValue.x,r.components[0]),xl(e.rawValue.y,r.components[1])],expanded:p!=null?p:!1,invertsY:ou(n.params),maxValue:ru(e.rawValue,r),parser:ce,pickerLayout:m!=null?m:"popup",value:e,viewProps:n.viewProps})}};class Un{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(A(t))return!1;const e=t.x,r=t.y,p=t.z;return!(typeof e!="number"||typeof r!="number"||typeof p!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Cl={toComponents:n=>n.getComponents(),fromComponents:n=>new Un(...n)};function au(n){return Un.isObject(n)?new Un(n.x,n.y,n.z):new Un}function cu(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y),n.writeProperty("z",t.z)}function uu(n,t){return new tn({assembly:Cl,components:[ze("x"in n?n.x:void 0,t.x),ze("y"in n?n.y:void 0,t.y),ze("z"in n?n.z:void 0,t.z)]})}function Qr(n,t){return{baseStep:Ze(t),constraint:t,textProps:F.fromObject({draggingScale:Qe(t,n),formatter:mt(Fn(t,n))})}}const pu={id:"input-point3d",type:"input",accept:(n,t)=>{if(!Un.isObject(n))return null;const e=Q,r=bt(t,{x:e.optional.custom(Nt),y:e.optional.custom(Nt),z:e.optional.custom(Nt)});return r?{initialValue:n,params:r}:null},binding:{reader:n=>au,constraint:n=>uu(n.params,n.initialValue),equals:Un.equals,writer:n=>cu},controller:n=>{const t=n.value,e=n.constraint;if(!(e instanceof tn))throw K.shouldNeverHappen();return new Zr(n.document,{assembly:Cl,axes:[Qr(t.rawValue.x,e.components[0]),Qr(t.rawValue.y,e.components[1]),Qr(t.rawValue.z,e.components[2])],parser:ce,value:t,viewProps:n.viewProps})}};class Hn{constructor(t=0,e=0,r=0,p=0){this.x=t,this.y=e,this.z=r,this.w=p}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(A(t))return!1;const e=t.x,r=t.y,p=t.z,m=t.w;return!(typeof e!="number"||typeof r!="number"||typeof p!="number"||typeof m!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const yl={toComponents:n=>n.getComponents(),fromComponents:n=>new Hn(...n)};function du(n){return Hn.isObject(n)?new Hn(n.x,n.y,n.z,n.w):new Hn}function hu(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y),n.writeProperty("z",t.z),n.writeProperty("w",t.w)}function fu(n,t){return new tn({assembly:yl,components:[ze("x"in n?n.x:void 0,t.x),ze("y"in n?n.y:void 0,t.y),ze("z"in n?n.z:void 0,t.z),ze("w"in n?n.w:void 0,t.w)]})}function vu(n,t){return{baseStep:Ze(t),constraint:t,textProps:F.fromObject({draggingScale:Qe(t,n),formatter:mt(Fn(t,n))})}}const mu={id:"input-point4d",type:"input",accept:(n,t)=>{if(!Hn.isObject(n))return null;const e=Q,r=bt(t,{x:e.optional.custom(Nt),y:e.optional.custom(Nt),z:e.optional.custom(Nt),w:e.optional.custom(Nt)});return r?{initialValue:n,params:r}:null},binding:{reader:n=>du,constraint:n=>fu(n.params,n.initialValue),equals:Hn.equals,writer:n=>hu},controller:n=>{const t=n.value,e=n.constraint;if(!(e instanceof tn))throw K.shouldNeverHappen();return new Zr(n.document,{assembly:yl,axes:t.rawValue.getComponents().map((r,p)=>vu(r,e.components[p])),parser:ce,value:t,viewProps:n.viewProps})}};function bu(n){const t=[],e=ki(n.options);return e&&t.push(e),new xe(t)}const _u={id:"input-string",type:"input",accept:(n,t)=>{if(typeof n!="string")return null;const r=bt(t,{options:Q.optional.custom(Je)});return r?{initialValue:n,params:r}:null},binding:{reader:n=>us,constraint:n=>bu(n.params),writer:n=>Xe},controller:n=>{var t;const e=n.document,r=n.value,p=n.constraint;return p&&pt(p,Ge)?new Ne(e,{props:F.fromObject({options:(t=Vi(p))!==null&&t!==void 0?t:[]}),value:r,viewProps:n.viewProps}):new gn(e,{parser:m=>m,props:F.fromObject({formatter:zn}),value:r,viewProps:n.viewProps})}},Oi={monitor:{defaultInterval:200,defaultLineCount:3}},El=G("mll");class gu{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(El()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("textarea");r.classList.add(El("i")),r.style.height=`calc(var(--bld-us) * ${e.lineCount})`,r.readOnly=!0,e.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.textareaElem_,e=t.scrollTop===t.scrollHeight-t.clientHeight,r=[];this.value.rawValue.forEach(p=>{p!==void 0&&r.push(this.formatter_(p))}),t.textContent=r.join(`
`),e&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class to{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new gu(t,{formatter:e.formatter,lineCount:e.lineCount,value:this.value,viewProps:this.viewProps})}}const Pl=G("sgl");class wu{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(Pl()),e.viewProps.bindClassModifiers(this.element);const r=t.createElement("input");r.classList.add(Pl("i")),r.readOnly=!0,r.type="text",e.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.value.rawValue,e=t[t.length-1];this.inputElement.value=e!==void 0?this.formatter_(e):""}onValueUpdate_(){this.update_()}}class eo{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new wu(t,{formatter:e.formatter,value:this.value,viewProps:this.viewProps})}}const xu={id:"monitor-bool",type:"monitor",accept:(n,t)=>{if(typeof n!="boolean")return null;const r=bt(t,{lineCount:Q.optional.number});return r?{initialValue:n,params:r}:null},binding:{reader:n=>ss},controller:n=>{var t;return n.value.rawValue.length===1?new eo(n.document,{formatter:rs,value:n.value,viewProps:n.viewProps}):new to(n.document,{formatter:rs,lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:Oi.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}},sn=G("grl");class Cu{constructor(t,e){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(sn()),e.viewProps.bindClassModifiers(this.element),this.formatter_=e.formatter,this.props_=e.props,this.cursor_=e.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=t.createElementNS(Ot,"svg");r.classList.add(sn("g")),r.style.height=`calc(var(--bld-us) * ${e.lineCount})`,this.element.appendChild(r),this.svgElem_=r;const p=t.createElementNS(Ot,"polyline");this.svgElem_.appendChild(p),this.lineElem_=p;const m=t.createElement("div");m.classList.add(sn("t"),G("tt")()),this.element.appendChild(m),this.tooltipElem_=m,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,r=this.props_.get("minValue"),p=this.props_.get("maxValue"),m=[];this.value.rawValue.forEach((at,ct)=>{if(at===void 0)return;const Be=ft(ct,0,e,0,t.width),Ni=ft(at,r,p,t.height,0);m.push([Be,Ni].join(","))}),this.lineElem_.setAttributeNS(null,"points",m.join(" "));const C=this.tooltipElem_,T=this.value.rawValue[this.cursor_.rawValue];if(T===void 0){C.classList.remove(sn("t","a"));return}const H=ft(this.cursor_.rawValue,0,e,0,t.width),W=ft(T,r,p,t.height,0);C.style.left=`${H}px`,C.style.top=`${W}px`,C.textContent=`${this.formatter_(T)}`,C.classList.contains(sn("t","a"))||(C.classList.add(sn("t","a"),sn("t","in")),oe(C),C.classList.remove(sn("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class yu{constructor(t,e){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=e.props,this.value=e.value,this.viewProps=e.viewProps,this.cursor_=tt(-1),this.view=new Cu(t,{cursor:this.cursor_,formatter:e.formatter,lineCount:e.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!w(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new Re(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(t){const e=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(ft(t.offsetX,0,e.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(ft(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function no(n){return"format"in n&&!A(n.format)?n.format:mt(2)}function Eu(n){var t;return n.value.rawValue.length===1?new eo(n.document,{formatter:no(n.params),value:n.value,viewProps:n.viewProps}):new to(n.document,{formatter:no(n.params),lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:Oi.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}function Pu(n){var t,e,r;return new yu(n.document,{formatter:no(n.params),lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:Oi.monitor.defaultLineCount,props:F.fromObject({maxValue:(e="max"in n.params?n.params.max:null)!==null&&e!==void 0?e:100,minValue:(r="min"in n.params?n.params.min:null)!==null&&r!==void 0?r:0}),value:n.value,viewProps:n.viewProps})}function kl(n){return"view"in n&&n.view==="graph"}const ku={id:"monitor-number",type:"monitor",accept:(n,t)=>{if(typeof n!="number")return null;const e=Q,r=bt(t,{format:e.optional.function,lineCount:e.optional.number,max:e.optional.number,min:e.optional.number,view:e.optional.string});return r?{initialValue:n,params:r}:null},binding:{defaultBufferSize:n=>kl(n)?64:1,reader:n=>xi},controller:n=>kl(n.params)?Pu(n):Eu(n)},Vu={id:"monitor-string",type:"monitor",accept:(n,t)=>{if(typeof n!="string")return null;const e=Q,r=bt(t,{lineCount:e.optional.number,multiline:e.optional.boolean});return r?{initialValue:n,params:r}:null},binding:{reader:n=>us},controller:n=>{var t;const e=n.value;return e.rawValue.length>1||"multiline"in n.params&&n.params.multiline?new to(n.document,{formatter:zn,lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:Oi.monitor.defaultLineCount,value:e,viewProps:n.viewProps}):new eo(n.document,{formatter:zn,value:e,viewProps:n.viewProps})}};class Mu{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new q,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function Lu(n,t){const e=n.accept(t.target.read(),t.params);if(A(e))return null;const r=Q,p={target:t.target,initialValue:e.initialValue,params:e.params},m=n.binding.reader(p),C=n.binding.constraint?n.binding.constraint(p):void 0,T=tt(m(e.initialValue),{constraint:C,equals:n.binding.equals}),H=new Mu({reader:m,target:t.target,value:T,writer:n.binding.writer(p)}),W=r.optional.boolean(t.params.disabled).value,at=r.optional.boolean(t.params.hidden).value,ct=n.controller({constraint:C,document:t.document,initialValue:e.initialValue,params:e.params,value:H.value,viewProps:we.create({disabled:W,hidden:at})}),Be=r.optional.string(t.params.label).value;return new qt(t.document,{binding:H,blade:Et(),props:F.fromObject({label:Be!=null?Be:t.target.key}),valueController:ct})}class Tu{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new q,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const e=this.value.rawValue,r=this.reader_(t);this.value.rawValue=ps(e,r),this.emitter.emit("update",{rawValue:r,sender:this})}onTick_(t){this.read()}}function Su(n,t){return t===0?new es:new vi(n,t!=null?t:Oi.monitor.defaultInterval)}function Au(n,t){var e,r,p;const m=Q,C=n.accept(t.target.read(),t.params);if(A(C))return null;const T={target:t.target,initialValue:C.initialValue,params:C.params},H=n.binding.reader(T),W=(r=(e=m.optional.number(t.params.bufferSize).value)!==null&&e!==void 0?e:n.binding.defaultBufferSize&&n.binding.defaultBufferSize(C.params))!==null&&r!==void 0?r:1,at=m.optional.number(t.params.interval).value,ct=new Tu({reader:H,target:t.target,ticker:Su(t.document,at),value:Tr(W)}),Be=m.optional.boolean(t.params.disabled).value,Ni=m.optional.boolean(t.params.hidden).value,Ri=n.controller({document:t.document,params:C.params,value:ct.value,viewProps:we.create({disabled:Be,hidden:Ni})}),qn=(p=m.optional.string(t.params.label).value)!==null&&p!==void 0?p:t.target.key;return new ge(t.document,{binding:ct,blade:Et(),props:F.fromObject({label:qn}),valueController:Ri})}class Ou{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,e,r){const p=e.read();if(A(p))throw new K({context:{key:e.key},type:"nomatchingcontroller"});const m=this.pluginsMap_.inputs.reduce((C,T)=>C!=null?C:Lu(T,{document:t,target:e,params:r}),null);if(m)return m;throw new K({context:{key:e.key},type:"nomatchingcontroller"})}createMonitor(t,e,r){const p=this.pluginsMap_.monitors.reduce((m,C)=>m!=null?m:Au(C,{document:t,params:r,target:e}),null);if(p)return p;throw new K({context:{key:e.key},type:"nomatchingcontroller"})}createBlade(t,e){const r=this.pluginsMap_.blades.reduce((p,m)=>p!=null?p:sr(m,{document:t,params:e}),null);if(!r)throw new K({type:"nomatchingview",context:{params:e}});return r}createBladeApi(t){if(t instanceof qt)return new li(t);if(t instanceof ge)return new Oe(t);if(t instanceof vn)return new fn(t,this);const e=this.pluginsMap_.blades.reduce((r,p)=>r!=null?r:p.api({controller:t,pool:this}),null);if(!e)throw K.shouldNeverHappen();return e}}function Nu(){const n=new Ou;return[lu,pu,mu,_u,Jc,Hc,Uc,Fc,Dr,xu,Vu,ku,st,Qs,Ji,fi].forEach(t=>{n.register(t)}),n}class Vl extends h{constructor(t){super(t),this.emitter_=new q,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new b(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}}class Ml extends h{constructor(t){super(t),this.emitter_=new q,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new b(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}}class Ll extends h{constructor(t){super(t),this.emitter_=new q,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new b(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const r=e.bind(this);return this.emitter_.on(t,p=>{r(p.event)}),this}}const Ru=function(){return{id:"list",type:"blade",accept(n){const t=Q,e=bt(n,{options:t.required.custom(Je),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return e?{params:e}:null},controller(n){const t=new Ne(n.document,{props:F.fromObject({options:bs(n.params.options)}),value:tt(n.params.value),viewProps:n.viewProps});return new He(n.document,{blade:n.blade,props:F.fromObject({label:n.params.label}),valueController:t})},api(n){return!(n.controller instanceof He)||!(n.controller.valueController instanceof Ne)?null:new Vl(n.controller)}}}();function Iu(n){return n.reduce((t,e)=>Object.assign(t,{[e.presetKey]:e.read()}),{})}function Du(n,t){n.forEach(e=>{const r=t[e.presetKey];r!==void 0&&e.write(r)})}class zu extends ai{constructor(t,e){super(t,e)}get element(){return this.controller_.view.element}importPreset(t){const e=this.controller_.rackController.rack.find(qt).map(r=>r.binding.target);Du(e,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(qt).map(e=>e.binding.target);return Iu(t)}refresh(){this.controller_.rackController.rack.find(qt).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(ge).forEach(t=>{t.binding.read()})}}class Bu extends pi{constructor(t,e){super(t,{expanded:e.expanded,blade:e.blade,props:e.props,root:!0,viewProps:e.viewProps})}}const Fu={id:"slider",type:"blade",accept(n){const t=Q,e=bt(n,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return e?{params:e}:null},controller(n){var t,e;const r=(t=n.params.value)!==null&&t!==void 0?t:0,p=new Bn(n.document,{baseStep:1,parser:ce,sliderProps:F.fromObject({maxValue:n.params.max,minValue:n.params.min}),textProps:F.fromObject({draggingScale:Qe(void 0,r),formatter:(e=n.params.format)!==null&&e!==void 0?e:Mr}),value:tt(r),viewProps:n.viewProps});return new He(n.document,{blade:n.blade,props:F.fromObject({label:n.params.label}),valueController:p})},api(n){return!(n.controller instanceof He)||!(n.controller.valueController instanceof Bn)?null:new Ml(n.controller)}},ju=function(){return{id:"text",type:"blade",accept(n){const t=Q,e=bt(n,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return e?{params:e}:null},controller(n){var t;const e=new gn(n.document,{parser:n.params.parse,props:F.fromObject({formatter:(t=n.params.format)!==null&&t!==void 0?t:r=>String(r)}),value:tt(n.params.value),viewProps:n.viewProps});return new He(n.document,{blade:n.blade,props:F.fromObject({label:n.params.label}),valueController:e})},api(n){return!(n.controller instanceof He)||!(n.controller.valueController instanceof gn)?null:new Ll(n.controller)}}}();function $u(n){const t=n.createElement("div");return t.classList.add(G("dfw")()),n.body&&n.body.appendChild(t),t}function Tl(n,t,e){if(n.querySelector(`style[data-tp-style=${t}]`))return;const r=n.createElement("style");r.dataset.tpStyle=t,r.textContent=e,n.head.appendChild(r)}class Ku extends zu{constructor(t){var e,r;const p=t!=null?t:{},m=(e=p.document)!==null&&e!==void 0?e:M(),C=Nu(),T=new Bu(m,{expanded:p.expanded,blade:Et(),props:F.fromObject({title:p.title}),viewProps:we.create()});super(T,C),this.pool_=C,this.containerElem_=(r=p.container)!==null&&r!==void 0?r:$u(m),this.containerElem_.appendChild(this.element),this.doc_=m,this.usesDefaultWrapper_=!p.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw K.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw K.alreadyDisposed();if(this.usesDefaultWrapper_){const e=t.parentElement;e&&e.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(r=>{this.pool_.register(r),this.embedPluginStyle_(r)})}embedPluginStyle_(t){t.css&&Tl(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){Tl(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor transparent;scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:transparent}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:transparent solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #28292e);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #28292e);--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i,.tp-fldv_c>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[Fu,Ru,fi,ju]})}}const Uu=new d("3.1.0");c.BladeApi=h,c.ButtonApi=ot,c.FolderApi=ai,c.InputBindingApi=li,c.ListApi=Vl,c.MonitorBindingApi=Oe,c.Pane=Ku,c.SeparatorApi=di,c.SliderApi=Ml,c.TabApi=Qi,c.TabPageApi=hi,c.TextApi=Ll,c.TpChangeEvent=b,c.VERSION=Uu,Object.defineProperty(c,"__esModule",{value:!0})})})(Eo,Eo.exports);var Os={exports:{}};(function(i,o){(function(c,d){d(o)})(Ja,function(c){class d{constructor(s){this.controller_=s}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(s){this.controller_.viewProps.set("disabled",s)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(s){this.controller_.viewProps.set("hidden",s)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class h{constructor(s){this.target=s}}class f extends h{constructor(s,l,u,v){super(s),this.value=l,this.presetKey=u,this.last=v!=null?v:!0}}function b(a){return a}function g(a){return a==null}const y={alreadydisposed:()=>"View has been already disposed",invalidparams:a=>`Invalid parameters for '${a.name}'`,nomatchingcontroller:a=>`No matching controller for '${a.key}'`,nomatchingview:a=>`No matching view for '${JSON.stringify(a.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:a=>`Property '${a.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class k{constructor(s){var l;this.message=(l=y[s.type](s.context))!==null&&l!==void 0?l:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=s.type}static alreadyDisposed(){return new k({type:"alreadydisposed"})}static notBindable(){return new k({type:"notbindable"})}static propertyNotFound(s){return new k({type:"propertynotfound",context:{name:s}})}static shouldNeverHappen(){return new k({type:"shouldneverhappen"})}}class S{constructor(){this.observers_={}}on(s,l){let u=this.observers_[s];return u||(u=this.observers_[s]=[]),u.push({handler:l}),this}off(s,l){const u=this.observers_[s];return u&&(this.observers_[s]=u.filter(v=>v.handler!==l)),this}emit(s,l){const u=this.observers_[s];!u||u.forEach(v=>{v.handler(l)})}}const A="tp";function D(a){return(l,u)=>[A,"-",a,"v",l?`_${l}`:"",u?`-${u}`:""].join("")}function X(a,s){return l=>s(a(l))}function K(a){return a.rawValue}function J(a,s){a.emitter.on("change",X(K,s)),s(a.rawValue)}function ot(a,s,l){J(a.value(s),l)}function q(a,s,l){l?a.classList.add(s):a.classList.remove(s)}function $t(a,s){return l=>{q(a,s,l)}}function G(a,s){J(a,l=>{s.textContent=l!=null?l:""})}const _t=D("btn");class _e{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(_t()),l.viewProps.bindClassModifiers(this.element);const u=s.createElement("button");u.classList.add(_t("b")),l.viewProps.bindDisabled(u),this.element.appendChild(u),this.buttonElement=u;const v=s.createElement("div");v.classList.add(_t("t")),G(l.props.value("title"),v),this.buttonElement.appendChild(v)}}class te{constructor(s,l){this.emitter=new S,this.onClick_=this.onClick_.bind(this),this.props=l.props,this.viewProps=l.viewProps,this.view=new _e(s,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class xt{constructor(s,l){var u;this.constraint_=l==null?void 0:l.constraint,this.equals_=(u=l==null?void 0:l.equals)!==null&&u!==void 0?u:(v,x)=>v===x,this.emitter=new S,this.rawValue_=s}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(s){this.setRawValue(s,{forceEmit:!1,last:!0})}setRawValue(s,l){const u=l!=null?l:{forceEmit:!1,last:!0},v=this.constraint_?this.constraint_.constrain(s):s;!!this.equals_(this.rawValue_,v)&&!u.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=v,this.emitter.emit("change",{options:u,rawValue:v,sender:this}))}}class ie{constructor(s){this.emitter=new S,this.value_=s}get rawValue(){return this.value_}set rawValue(s){this.setRawValue(s,{forceEmit:!1,last:!0})}setRawValue(s,l){const u=l!=null?l:{forceEmit:!1,last:!0};this.value_===s&&!u.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=s,this.emitter.emit("change",{options:u,rawValue:this.value_,sender:this}))}}function Ct(a,s){const l=s==null?void 0:s.constraint,u=s==null?void 0:s.equals;return!l&&!u?new ie(a):new xt(a,s)}class ht{constructor(s){this.emitter=new S,this.valMap_=s;for(const l in this.valMap_)this.valMap_[l].emitter.on("change",()=>{this.emitter.emit("change",{key:l,sender:this})})}static createCore(s){return Object.keys(s).reduce((u,v)=>Object.assign(u,{[v]:Ct(s[v])}),{})}static fromObject(s){const l=this.createCore(s);return new ht(l)}get(s){return this.valMap_[s].rawValue}set(s,l){this.valMap_[s].rawValue=l}value(s){return this.valMap_[s]}}function se(a,s){const u=Object.keys(s).reduce((v,x)=>{if(v===void 0)return;const E=s[x],I=E(a[x]);return I.succeeded?Object.assign(Object.assign({},v),{[x]:I.value}):void 0},{});return u}function Ke(a,s){return a.reduce((l,u)=>{if(l===void 0)return;const v=s(u);if(!(!v.succeeded||v.value===void 0))return[...l,v.value]},[])}function Te(a){return a===null?!1:typeof a=="object"}function zt(a){return s=>l=>{if(!s&&l===void 0)return{succeeded:!1,value:void 0};if(s&&l===void 0)return{succeeded:!0,value:void 0};const u=a(l);return u!==void 0?{succeeded:!0,value:u}:{succeeded:!1,value:void 0}}}function un(a){return{custom:s=>zt(s)(a),boolean:zt(s=>typeof s=="boolean"?s:void 0)(a),number:zt(s=>typeof s=="number"?s:void 0)(a),string:zt(s=>typeof s=="string"?s:void 0)(a),function:zt(s=>typeof s=="function"?s:void 0)(a),constant:s=>zt(l=>l===s?s:void 0)(a),raw:zt(s=>s)(a),object:s=>zt(l=>{if(!!Te(l))return se(l,s)})(a),array:s=>zt(l=>{if(!!Array.isArray(l))return Ke(l,s)})(a)}}const tt={optional:un(!0),required:un(!1)};function F(a,s){const l=tt.required.object(s)(a);return l.succeeded?l.value:void 0}function ut(a){return a&&a.parentElement&&a.parentElement.removeChild(a),null}function re(){return["veryfirst","first","last","verylast"]}const Se=D(""),yt={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class At{constructor(s){this.parent_=null,this.blade=s.blade,this.view=s.view,this.viewProps=s.viewProps;const l=this.view.element;this.blade.value("positions").emitter.on("change",()=>{re().forEach(u=>{l.classList.remove(Se(void 0,yt[u]))}),this.blade.get("positions").forEach(u=>{l.classList.add(Se(void 0,yt[u]))})}),this.viewProps.handleDispose(()=>{ut(l)})}get parent(){return this.parent_}}const Q="http://www.w3.org/2000/svg";function bt(a){a.offsetHeight}function ri(a,s){const l=a.style.transition;a.style.transition="none",s(),a.style.transition=l}function Kt(a){return a.ontouchstart!==void 0}function Ae(a){for(;a.childNodes.length>0;)a.removeChild(a.childNodes[0])}function pn(a){return a.relatedTarget?a.relatedTarget:"explicitOriginalTarget"in a?a.explicitOriginalTarget:null}const Mt=D("lbl");function Ot(a,s){const l=a.createDocumentFragment();return s.split(`
`).map(v=>a.createTextNode(v)).forEach((v,x)=>{x>0&&l.appendChild(a.createElement("br")),l.appendChild(v)}),l}class oe{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(Mt()),l.viewProps.bindClassModifiers(this.element);const u=s.createElement("div");u.classList.add(Mt("l")),ot(l.props,"label",x=>{g(x)?this.element.classList.add(Mt(void 0,"nol")):(this.element.classList.remove(Mt(void 0,"nol")),Ae(u),u.appendChild(Ot(s,x)))}),this.element.appendChild(u),this.labelElement=u;const v=s.createElement("div");v.classList.add(Mt("v")),this.element.appendChild(v),this.valueElement=v}}class _ extends At{constructor(s,l){const u=l.valueController.viewProps;super(Object.assign(Object.assign({},l),{view:new oe(s,{props:l.props,viewProps:u}),viewProps:u})),this.props=l.props,this.valueController=l.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class w extends At{constructor(s){super(s),this.value=s.value}}class P extends ht{constructor(s){super(s)}static create(s){const l={completed:!0,expanded:s,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},u=ht.createCore(l);return new P(u)}get styleExpanded(){var s;return(s=this.get("temporaryExpanded"))!==null&&s!==void 0?s:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const s=this.get("expandedHeight");return this.get("shouldFixHeight")&&!g(s)?`${s}px`:"auto"}bindExpandedClass(s,l){const u=()=>{this.styleExpanded?s.classList.add(l):s.classList.remove(l)};ot(this,"expanded",u),ot(this,"temporaryExpanded",u)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function M(a){return P.create(a)}function V(a,s){let l=0;return ri(s,()=>{a.set("expandedHeight",null),a.set("temporaryExpanded",!0),bt(s),l=s.clientHeight,a.set("temporaryExpanded",null),bt(s)}),l}function N(a,s){s.style.height=a.styleHeight}function z(a,s){a.value("expanded").emitter.on("beforechange",()=>{a.set("completed",!1),g(a.get("expandedHeight"))&&a.set("expandedHeight",V(a,s)),a.set("shouldFixHeight",!0),bt(s)}),a.emitter.on("change",()=>{N(a,s)}),N(a,s),s.addEventListener("transitionend",l=>{l.propertyName==="height"&&a.cleanUpTransition()})}class O{constructor(s,l){const u=D(l.viewName);this.element=s.createElement("div"),this.element.classList.add(u()),l.viewProps.bindClassModifiers(this.element)}}class R extends w{constructor(s,l){const u=l.valueController.viewProps;super(Object.assign(Object.assign({},l),{value:l.valueController.value,view:new oe(s,{props:l.props,viewProps:u}),viewProps:u})),this.props=l.props,this.valueController=l.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const L=D("");function U(a,s){return $t(a,L(void 0,s))}class B extends ht{constructor(s){super(s)}static create(s){var l,u;const v=s!=null?s:{},x={disabled:(l=v.disabled)!==null&&l!==void 0?l:!1,disposed:!1,hidden:(u=v.hidden)!==null&&u!==void 0?u:!1},E=ht.createCore(x);return new B(E)}bindClassModifiers(s){ot(this,"disabled",U(s,"disabled")),ot(this,"hidden",U(s,"hidden"))}bindDisabled(s){ot(this,"disabled",l=>{s.disabled=l})}bindTabIndex(s){ot(this,"disabled",l=>{s.tabIndex=l?-1:0})}handleDispose(s){this.value("disposed").emitter.on("change",l=>{l&&s()})}}class ${constructor(){this.disabled=!1,this.emitter=new S}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Y{constructor(s,l){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=s,this.emitter=new S,this.interval_=l,this.setTimer_()}get disabled(){return this.disabled_}set disabled(s){this.disabled_=s,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const s=this.doc_.defaultView;s&&s.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const s=this.doc_.defaultView;s&&(this.timerId_=s.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Z{constructor(s){this.constraints=s}constrain(s){return this.constraints.reduce((l,u)=>u.constrain(l),s)}}function it(a,s){if(a instanceof s)return a;if(a instanceof Z){const l=a.constraints.reduce((u,v)=>u||(v instanceof s?v:null),null);if(l)return l}return null}class st{constructor(s){this.maxValue=s.max,this.minValue=s.min}constrain(s){let l=s;return g(this.minValue)||(l=Math.max(l,this.minValue)),g(this.maxValue)||(l=Math.min(l,this.maxValue)),l}}class lt{constructor(s,l=0){this.step=s,this.origin=l}constrain(s){const l=this.origin%this.step,u=Math.round((s-l)/this.step);return l+u*this.step}}const Et=D("pop");class Ut{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(Et()),l.viewProps.bindClassModifiers(this.element),J(l.shows,$t(this.element,Et(void 0,"v")))}}class An{constructor(s,l){this.shows=Ct(!1),this.viewProps=l.viewProps,this.view=new Ut(s,{shows:this.shows,viewProps:this.viewProps})}}const le=D("txt");class Ue{constructor(s,l){this.onChange_=this.onChange_.bind(this),this.element=s.createElement("div"),this.element.classList.add(le()),l.viewProps.bindClassModifiers(this.element),this.props_=l.props,this.props_.emitter.on("change",this.onChange_);const u=s.createElement("input");u.classList.add(le("i")),u.type="text",l.viewProps.bindDisabled(u),this.element.appendChild(u),this.inputElement=u,l.value.emitter.on("change",this.onChange_),this.value_=l.value,this.refresh()}refresh(){const s=this.props_.get("formatter");this.inputElement.value=s(this.value_.rawValue)}onChange_(){this.refresh()}}class Vt{constructor(s,l){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=l.parser,this.props=l.props,this.value=l.value,this.viewProps=l.viewProps,this.view=new Ue(s,{props:l.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(s){const u=s.currentTarget.value,v=this.parser_(u);g(v)||(this.value.rawValue=v),this.view.refresh()}}function Ht(a){return a==="false"?!1:!!a}class On{constructor(s){this.text=s}evaluate(){return Number(this.text)}toString(){return this.text}}const Us={"**":(a,s)=>Math.pow(a,s),"*":(a,s)=>a*s,"/":(a,s)=>a/s,"%":(a,s)=>a%s,"+":(a,s)=>a+s,"-":(a,s)=>a-s,"<<":(a,s)=>a<<s,">>":(a,s)=>a>>s,">>>":(a,s)=>a>>>s,"&":(a,s)=>a&s,"^":(a,s)=>a^s,"|":(a,s)=>a|s};class Hs{constructor(s,l,u){this.left=l,this.operator=s,this.right=u}evaluate(){const s=Us[this.operator];if(!s)throw new Error(`unexpected binary operator: '${this.operator}`);return s(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const oi={"+":a=>a,"-":a=>-a,"~":a=>~a};class li{constructor(s,l){this.operator=s,this.expression=l}evaluate(){const s=oi[this.operator];if(!s)throw new Error(`unexpected unary operator: '${this.operator}`);return s(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function qt(a){return(s,l)=>{for(let u=0;u<a.length;u++){const v=a[u](s,l);if(v!=="")return v}return""}}function Oe(a,s){var l;const u=a.substr(s).match(/^\s+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function ge(a,s){const l=a.substr(s,1);return l.match(/^[1-9]$/)?l:""}function dn(a,s){var l;const u=a.substr(s).match(/^[0-9]+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function hn(a,s){const l=dn(a,s);if(l!=="")return l;const u=a.substr(s,1);if(s+=1,u!=="-"&&u!=="+")return"";const v=dn(a,s);return v===""?"":u+v}function Nn(a,s){const l=a.substr(s,1);if(s+=1,l.toLowerCase()!=="e")return"";const u=hn(a,s);return u===""?"":l+u}function fn(a,s){const l=a.substr(s,1);if(l==="0")return l;const u=ge(a,s);return s+=u.length,u===""?"":u+dn(a,s)}function ai(a,s){const l=fn(a,s);if(s+=l.length,l==="")return"";const u=a.substr(s,1);if(s+=u.length,u!==".")return"";const v=dn(a,s);return s+=v.length,l+u+v+Nn(a,s)}function ci(a,s){const l=a.substr(s,1);if(s+=l.length,l!==".")return"";const u=dn(a,s);return s+=u.length,u===""?"":l+u+Nn(a,s)}function qs(a,s){const l=fn(a,s);return s+=l.length,l===""?"":l+Nn(a,s)}const Gs=qt([ai,ci,qs]);function Ys(a,s){var l;const u=a.substr(s).match(/^[01]+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function Ws(a,s){const l=a.substr(s,2);if(s+=l.length,l.toLowerCase()!=="0b")return"";const u=Ys(a,s);return u===""?"":l+u}function ui(a,s){var l;const u=a.substr(s).match(/^[0-7]+/);return(l=u&&u[0])!==null&&l!==void 0?l:""}function Xs(a,s){const l=a.substr(s,2);if(s+=l.length,l.toLowerCase()!=="0o")return"";const u=ui(a,s);return u===""?"":l+u}function Js(a,s){var l;const u=a.substr(s).match(/^[0-9a-f]+/i);return(l=u&&u[0])!==null&&l!==void 0?l:""}function vn(a,s){const l=a.substr(s,2);if(s+=l.length,l.toLowerCase()!=="0x")return"";const u=Js(a,s);return u===""?"":l+u}const Yi=qt([Ws,Xs,vn]),Zs=qt([Yi,Gs]);function pi(a,s){const l=Zs(a,s);return s+=l.length,l===""?null:{evaluable:new On(l),cursor:s}}function Qs(a,s){const l=a.substr(s,1);if(s+=l.length,l!=="(")return null;const u=Ji(a,s);if(!u)return null;s=u.cursor,s+=Oe(a,s).length;const v=a.substr(s,1);return s+=v.length,v!==")"?null:{evaluable:u.evaluable,cursor:s}}function He(a,s){var l;return(l=pi(a,s))!==null&&l!==void 0?l:Qs(a,s)}function di(a,s){const l=He(a,s);if(l)return l;const u=a.substr(s,1);if(s+=u.length,u!=="+"&&u!=="-"&&u!=="~")return null;const v=di(a,s);return v?(s=v.cursor,{cursor:s,evaluable:new li(u,v.evaluable)}):null}function Wi(a,s,l){l+=Oe(s,l).length;const u=a.filter(v=>s.startsWith(v,l))[0];return u?(l+=u.length,l+=Oe(s,l).length,{cursor:l,operator:u}):null}function tr(a,s){return(l,u)=>{const v=a(l,u);if(!v)return null;u=v.cursor;let x=v.evaluable;for(;;){const E=Wi(s,l,u);if(!E)break;u=E.cursor;const I=a(l,u);if(!I)return null;u=I.cursor,x=new Hs(E.operator,x,I.evaluable)}return x?{cursor:u,evaluable:x}:null}}const Xi=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((a,s)=>tr(a,s),di);function Ji(a,s){return s+=Oe(a,s).length,Xi(a,s)}function er(a){const s=Ji(a,0);return!s||s.cursor+Oe(a,s.cursor).length!==a.length?null:s.evaluable}function mn(a){var s;const l=er(a);return(s=l==null?void 0:l.evaluate())!==null&&s!==void 0?s:null}function we(a){if(typeof a=="number")return a;if(typeof a=="string"){const s=mn(a);if(!g(s))return s}return 0}function Pt(a){return s=>s.toFixed(Math.max(Math.min(a,20),0))}const nr=Pt(0);function Rn(a){return nr(a)+"%"}function Zi(a){return String(a)}function hi(a,s){for(;a.length<s;)a.push(void 0)}function Qi(a){const s=[];return hi(s,a),Ct(s)}function ts(a){const s=a.indexOf(void 0);return s<0?a:a.slice(0,s)}function ir(a,s){const l=[...ts(a),s];return l.length>a.length?l.splice(0,l.length-a.length):hi(l,a.length),l}function bn({primary:a,secondary:s,forward:l,backward:u}){let v=!1;function x(E){v||(v=!0,E(),v=!1)}a.emitter.on("change",E=>{x(()=>{s.setRawValue(l(a,s),E.options)})}),s.emitter.on("change",E=>{x(()=>{a.setRawValue(u(a,s),E.options)}),x(()=>{s.setRawValue(l(a,s),E.options)})}),x(()=>{s.setRawValue(l(a,s),{forceEmit:!1,last:!0})})}function qe(a,s){const l=a*(s.altKey?.1:1)*(s.shiftKey?10:1);return s.upKey?+l:s.downKey?-l:0}function _n(a){return{altKey:a.altKey,downKey:a.key==="ArrowDown",shiftKey:a.shiftKey,upKey:a.key==="ArrowUp"}}function fi(a){return{altKey:a.altKey,downKey:a.key==="ArrowLeft",shiftKey:a.shiftKey,upKey:a.key==="ArrowRight"}}function sr(a){return a==="ArrowUp"||a==="ArrowDown"}function es(a){return sr(a)||a==="ArrowLeft"||a==="ArrowRight"}function vi(a,s){var l,u;const v=s.ownerDocument.defaultView,x=s.getBoundingClientRect();return{x:a.pageX-(((l=v&&v.scrollX)!==null&&l!==void 0?l:0)+x.left),y:a.pageY-(((u=v&&v.scrollY)!==null&&u!==void 0?u:0)+x.top)}}class xe{constructor(s){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=s,this.emitter=new S,s.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),s.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),s.addEventListener("touchend",this.onTouchEnd_),s.addEventListener("mousedown",this.onMouseDown_)}computePosition_(s){const l=this.elem_.getBoundingClientRect();return{bounds:{width:l.width,height:l.height},point:s?{x:s.x,y:s.y}:null}}onMouseDown_(s){var l;s.preventDefault(),(l=s.currentTarget)===null||l===void 0||l.focus();const u=this.elem_.ownerDocument;u.addEventListener("mousemove",this.onDocumentMouseMove_),u.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:s.altKey,data:this.computePosition_(vi(s,this.elem_)),sender:this,shiftKey:s.shiftKey})}onDocumentMouseMove_(s){this.emitter.emit("move",{altKey:s.altKey,data:this.computePosition_(vi(s,this.elem_)),sender:this,shiftKey:s.shiftKey})}onDocumentMouseUp_(s){const l=this.elem_.ownerDocument;l.removeEventListener("mousemove",this.onDocumentMouseMove_),l.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:s.altKey,data:this.computePosition_(vi(s,this.elem_)),sender:this,shiftKey:s.shiftKey})}onTouchStart_(s){s.preventDefault();const l=s.targetTouches.item(0),u=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:s.altKey,data:this.computePosition_(l?{x:l.clientX-u.left,y:l.clientY-u.top}:void 0),sender:this,shiftKey:s.shiftKey}),this.lastTouch_=l}onTouchMove_(s){const l=s.targetTouches.item(0),u=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:s.altKey,data:this.computePosition_(l?{x:l.clientX-u.left,y:l.clientY-u.top}:void 0),sender:this,shiftKey:s.shiftKey}),this.lastTouch_=l}onTouchEnd_(s){var l;const u=(l=s.targetTouches.item(0))!==null&&l!==void 0?l:this.lastTouch_,v=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:s.altKey,data:this.computePosition_(u?{x:u.clientX-v.left,y:u.clientY-v.top}:void 0),sender:this,shiftKey:s.shiftKey})}}function pt(a,s,l,u,v){const x=(a-s)/(l-s);return u+x*(v-u)}function Ge(a){return String(a.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Jt(a,s,l){return Math.min(Math.max(a,s),l)}const Lt=D("txt");class mi{constructor(s,l){this.onChange_=this.onChange_.bind(this),this.props_=l.props,this.props_.emitter.on("change",this.onChange_),this.element=s.createElement("div"),this.element.classList.add(Lt(),Lt(void 0,"num")),l.arrayPosition&&this.element.classList.add(Lt(void 0,l.arrayPosition)),l.viewProps.bindClassModifiers(this.element);const u=s.createElement("input");u.classList.add(Lt("i")),u.type="text",l.viewProps.bindDisabled(u),this.element.appendChild(u),this.inputElement=u,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=l.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Lt()),this.inputElement.classList.add(Lt("i"));const v=s.createElement("div");v.classList.add(Lt("k")),this.element.appendChild(v),this.knobElement=v;const x=s.createElementNS(Q,"svg");x.classList.add(Lt("g")),this.knobElement.appendChild(x);const E=s.createElementNS(Q,"path");E.classList.add(Lt("gb")),x.appendChild(E),this.guideBodyElem_=E;const I=s.createElementNS(Q,"path");I.classList.add(Lt("gh")),x.appendChild(I),this.guideHeadElem_=I;const j=s.createElement("div");j.classList.add(D("tt")()),this.knobElement.appendChild(j),this.tooltipElem_=j,l.value.emitter.on("change",this.onChange_),this.value=l.value,this.refresh()}onDraggingChange_(s){if(s.rawValue===null){this.element.classList.remove(Lt(void 0,"drg"));return}this.element.classList.add(Lt(void 0,"drg"));const l=s.rawValue/this.props_.get("draggingScale"),u=l+(l>0?-1:l<0?1:0),v=Jt(-u,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${u+v},0 L${u},4 L${u+v},8`,`M ${l},-1 L${l},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${l},4`);const x=this.props_.get("formatter");this.tooltipElem_.textContent=x(this.value.rawValue),this.tooltipElem_.style.left=`${l}px`}refresh(){const s=this.props_.get("formatter");this.inputElement.value=s(this.value.rawValue)}onChange_(){this.refresh()}}class rr{constructor(s,l){var u;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=l.baseStep,this.parser_=l.parser,this.props=l.props,this.sliderProps_=(u=l.sliderProps)!==null&&u!==void 0?u:null,this.value=l.value,this.viewProps=l.viewProps,this.dragging_=Ct(null),this.view=new mi(s,{arrayPosition:l.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const v=new xe(this.view.knobElement);v.emitter.on("down",this.onPointerDown_),v.emitter.on("move",this.onPointerMove_),v.emitter.on("up",this.onPointerUp_)}constrainValue_(s){var l,u;const v=(l=this.sliderProps_)===null||l===void 0?void 0:l.get("minValue"),x=(u=this.sliderProps_)===null||u===void 0?void 0:u.get("maxValue");let E=s;return v!==void 0&&(E=Math.max(E,v)),x!==void 0&&(E=Math.min(E,x)),E}onInputChange_(s){const u=s.currentTarget.value,v=this.parser_(u);g(v)||(this.value.rawValue=this.constrainValue_(v)),this.view.refresh()}onInputKeyDown_(s){const l=qe(this.baseStep_,_n(s));l!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+l),{forceEmit:!1,last:!1})}onInputKeyUp_(s){qe(this.baseStep_,_n(s))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(s){if(!s.point)return null;const l=s.point.x-s.bounds.width/2;return this.constrainValue_(this.originRawValue_+l*this.props.get("draggingScale"))}onPointerMove_(s){const l=this.computeDraggingValue_(s.data);l!==null&&(this.value.setRawValue(l,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(s){const l=this.computeDraggingValue_(s.data);l!==null&&(this.value.setRawValue(l,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function Ne(a,s){a.write(s)}function ns(a){const s=a?it(a,lt):null;return s?s.step:null}function or(a,s){const l=a&&it(a,lt);return l?Ge(l.step):Math.max(Ge(s),2)}function bi(a){const s=ns(a);return s!=null?s:1}function is(a,s){var l;const u=a&&it(a,lt),v=Math.abs((l=u==null?void 0:u.step)!==null&&l!==void 0?l:s);return v===0?.1:Math.pow(10,Math.floor(Math.log10(v))-1)}function In(a){return[a[0],a[1],a[2]]}function gn(a){const s=Jt(Math.floor(a),0,255).toString(16);return s.length===1?`0${s}`:s}function lr(a,s="#"){const l=In(a.getComponents("rgb")).map(gn).join("");return`${s}${l}`}function ss(a,s="#"){const l=a.getComponents("rgb"),u=[l[0],l[1],l[2],l[3]*255].map(gn).join("");return`${s}${u}`}function rs(a,s){const l=Pt(s==="float"?2:0);return`rgb(${In(a.getComponents("rgb",s)).map(v=>l(v)).join(", ")})`}function ar(a){return s=>rs(s,a)}function cr(a,s){const l=Pt(2),u=Pt(s==="float"?2:0);return`rgba(${a.getComponents("rgb",s).map((x,E)=>(E===3?l:u)(x)).join(", ")})`}function ur(a){return s=>cr(s,a)}function pr(a){const s=[Pt(0),Rn,Rn];return`hsl(${In(a.getComponents("hsl")).map((u,v)=>s[v](u)).join(", ")})`}function dr(a){const s=[Pt(0),Rn,Rn,Pt(2)];return`hsla(${a.getComponents("hsl").map((u,v)=>s[v](u)).join(", ")})`}function _i(a,s){const l=Pt(s==="float"?2:0),u=["r","g","b"];return`{${In(a.getComponents("rgb",s)).map((x,E)=>`${u[E]}: ${l(x)}`).join(", ")}}`}function wn(a){return s=>_i(s,a)}function hr(a,s){const l=Pt(2),u=Pt(s==="float"?2:0),v=["r","g","b","a"];return`{${a.getComponents("rgb",s).map((E,I)=>{const j=I===3?l:u;return`${v[I]}: ${j(E)}`}).join(", ")}}`}function xn(a){return s=>hr(s,a)}[...["int","float"].reduce((a,s)=>[...a,{format:{alpha:!1,mode:"rgb",notation:"func",type:s},stringifier:ar(s)},{format:{alpha:!0,mode:"rgb",notation:"func",type:s},stringifier:ur(s)},{format:{alpha:!1,mode:"rgb",notation:"object",type:s},stringifier:wn(s)},{format:{alpha:!0,mode:"rgb",notation:"object",type:s},stringifier:xn(s)}],[])];class fr{constructor(s){this.components=s.components,this.asm_=s.assembly}constrain(s){const l=this.asm_.toComponents(s).map((u,v)=>{var x,E;return(E=(x=this.components[v])===null||x===void 0?void 0:x.constrain(u))!==null&&E!==void 0?E:u});return this.asm_.fromComponents(l)}}const Dn=D("pndtxt");class os{constructor(s,l){this.textViews=l.textViews,this.element=s.createElement("div"),this.element.classList.add(Dn()),this.textViews.forEach(u=>{const v=s.createElement("div");v.classList.add(Dn("a")),v.appendChild(u.element),this.element.appendChild(v)})}}function vr(a,s,l){return new rr(a,{arrayPosition:l===0?"fst":l===s.axes.length-1?"lst":"mid",baseStep:s.axes[l].baseStep,parser:s.parser,props:s.axes[l].textProps,value:Ct(0,{constraint:s.axes[l].constraint}),viewProps:s.viewProps})}class gi{constructor(s,l){this.value=l.value,this.viewProps=l.viewProps,this.acs_=l.axes.map((u,v)=>vr(s,l,v)),this.acs_.forEach((u,v)=>{bn({primary:this.value,secondary:u.value,forward:x=>l.assembly.toComponents(x.rawValue)[v],backward:(x,E)=>{const I=l.assembly.toComponents(x.rawValue);return I[v]=E.rawValue,l.assembly.fromComponents(I)}})}),this.view=new os(s,{textViews:this.acs_.map(u=>u.view)})}}function mr(a,s){return"step"in a&&!g(a.step)?new lt(a.step,s):null}function br(a){return"max"in a&&!g(a.max)||"min"in a&&!g(a.min)?new st({max:a.max,min:a.min}):null}const _r={monitor:{defaultInterval:200,defaultLineCount:3}},Ce=D("grl");class gr{constructor(s,l){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=s.createElement("div"),this.element.classList.add(Ce()),l.viewProps.bindClassModifiers(this.element),this.formatter_=l.formatter,this.props_=l.props,this.cursor_=l.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const u=s.createElementNS(Q,"svg");u.classList.add(Ce("g")),u.style.height=`calc(var(--bld-us) * ${l.lineCount})`,this.element.appendChild(u),this.svgElem_=u;const v=s.createElementNS(Q,"polyline");this.svgElem_.appendChild(v),this.lineElem_=v;const x=s.createElement("div");x.classList.add(Ce("t"),D("tt")()),this.element.appendChild(x),this.tooltipElem_=x,l.value.emitter.on("change",this.onValueUpdate_),this.value=l.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const s=this.svgElem_.getBoundingClientRect(),l=this.value.rawValue.length-1,u=this.props_.get("minValue"),v=this.props_.get("maxValue"),x=[];this.value.rawValue.forEach((he,Ti)=>{if(he===void 0)return;const Si=pt(Ti,0,l,0,s.width),De=pt(he,u,v,s.height,0);x.push([Si,De].join(","))}),this.lineElem_.setAttributeNS(null,"points",x.join(" "));const E=this.tooltipElem_,I=this.value.rawValue[this.cursor_.rawValue];if(I===void 0){E.classList.remove(Ce("t","a"));return}const j=pt(this.cursor_.rawValue,0,l,0,s.width),wt=pt(I,u,v,s.height,0);E.style.left=`${j}px`,E.style.top=`${wt}px`,E.textContent=`${this.formatter_(I)}`,E.classList.contains(Ce("t","a"))||(E.classList.add(Ce("t","a"),Ce("t","in")),bt(E),E.classList.remove(Ce("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class wr{constructor(s,l){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=l.props,this.value=l.value,this.viewProps=l.viewProps,this.cursor_=Ct(-1),this.view=new gr(s,{cursor:this.cursor_,formatter:l.formatter,lineCount:l.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!Kt(s))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const u=new xe(this.view.element);u.emitter.on("down",this.onGraphPointerDown_),u.emitter.on("move",this.onGraphPointerMove_),u.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(s){const l=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(pt(s.offsetX,0,l.width,0,this.value.rawValue.length))}onGraphPointerDown_(s){this.onGraphPointerMove_(s)}onGraphPointerMove_(s){if(!s.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(pt(s.data.point.x,0,s.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}class xr{constructor(s){this.controller_=s}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(s){this.controller_.viewProps.set("disabled",s)}get title(){var s;return(s=this.controller_.props.get("title"))!==null&&s!==void 0?s:""}set title(s){this.controller_.props.set("title",s)}on(s,l){const u=l.bind(this);return this.controller_.emitter.on(s,()=>{u(new h(this))}),this}}class Cr extends h{constructor(s,l,u){super(s),this.cell=l,this.index=u}}class yr extends d{constructor(s){super(s),this.cellToApiMap_=new Map,this.emitter_=new S;const l=this.controller_.valueController;l.cellControllers.forEach((u,v)=>{const x=new xr(u);this.cellToApiMap_.set(u,x),u.emitter.on("click",()=>{const E=v%l.size[0],I=Math.floor(v/l.size[0]);this.emitter_.emit("click",{event:new Cr(this,x,[E,I])})})})}cell(s,l){const u=this.controller_.valueController,v=u.cellControllers[l*u.size[0]+s];return this.cellToApiMap_.get(v)}on(s,l){const u=l.bind(this);return this.emitter_.on(s,v=>{u(v.event)}),this}}class ls{constructor(s,l){this.size=l.size;const[u,v]=this.size,x=[];for(let E=0;E<v;E++)for(let I=0;I<u;I++){const j=new te(s,{props:ht.fromObject(Object.assign({},l.cellConfig(I,E))),viewProps:B.create()});x.push(j)}this.cellCs_=x,this.viewProps=B.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(E=>{E.viewProps.set("disposed",!0)})}),this.view=new O(s,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${u}, 1fr)`,this.cellCs_.forEach(E=>{this.view.element.appendChild(E.view.element)})}get cellControllers(){return this.cellCs_}}const Er={id:"buttongrid",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(a){const s=tt,l=F(a,{cells:s.required.function,size:s.required.array(s.required.number),view:s.required.constant("buttongrid"),label:s.optional.string});return l?{params:l}:null},controller(a){return new _(a.document,{blade:a.blade,props:ht.fromObject({label:a.params.label}),valueController:new ls(a.document,{cellConfig:a.params.cells,size:a.params.size})})},api(a){return!(a.controller instanceof _)||!(a.controller.valueController instanceof ls)?null:new yr(a.controller)}};class Pr extends d{get label(){return this.controller_.props.get("label")}set label(s){this.controller_.props.set("label",s)}get value(){return this.controller_.valueController.value.rawValue}set value(s){this.controller_.valueController.value.rawValue=s}on(s,l){const u=l.bind(this);return this.controller_.valueController.value.emitter.on(s,v=>{u(new f(this,v.rawValue,void 0,v.options.last))}),this}}function Gt(a,s,l){return a*(1-l)+s*l}const as=20,kr=.001,wi=100;function Vr(a,s){let l=.25,u=.5,v=-1;for(let x=0;x<as;x++){const[E,I]=a.curve(u);if(u+=l*(E<s?1:-1),v=I,l*=.5,Math.abs(s-E)<kr)break}return v}class ae{constructor(s=0,l=0,u=1,v=1){this.cache_=[],this.comps_=[s,l,u,v]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(s){return g(s)||!Array.isArray(s)?!1:typeof s[0]=="number"&&typeof s[1]=="number"&&typeof s[2]=="number"&&typeof s[3]=="number"}static equals(s,l){return s.x1===l.x1&&s.y1===l.y1&&s.x2===l.x2&&s.y2===l.y2}curve(s){const l=Gt(0,this.x1,s),u=Gt(0,this.y1,s),v=Gt(this.x1,this.x2,s),x=Gt(this.y1,this.y2,s),E=Gt(this.x2,1,s),I=Gt(this.y2,1,s),j=Gt(l,v,s),wt=Gt(u,x,s),he=Gt(v,E,s),Ti=Gt(x,I,s);return[Gt(j,he,s),Gt(wt,Ti,s)]}y(s){if(this.cache_.length===0){const l=[];for(let u=0;u<wi;u++)l.push(Vr(this,pt(u,0,wi-1,0,1)));this.cache_=l}return this.cache_[Math.round(pt(Jt(s,0,1),0,1,0,wi-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const cs={toComponents:a=>a.toObject(),fromComponents:a=>new ae(...a)};function ce(a){const s=Pt(2);return`cubic-bezier(${a.toObject().map(u=>s(u)).join(", ")})`}const xi=[0,.5,.5,1];function Mr(a){const s=a.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!s)return new ae(...xi);const l=[s[1],s[2],s[3],s[4]].reduce((u,v)=>{if(!u)return null;const x=Number(v);return isNaN(x)?null:[...u,x]},[]);return new ae(...l!=null?l:xi)}const mt=D("cbz");class Lr{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(mt()),l.viewProps.bindClassModifiers(this.element),l.foldable.bindExpandedClass(this.element,mt(void 0,"expanded")),ot(l.foldable,"completed",$t(this.element,mt(void 0,"cpl")));const u=s.createElement("div");u.classList.add(mt("h")),this.element.appendChild(u);const v=s.createElement("button");v.classList.add(mt("b")),l.viewProps.bindDisabled(v);const x=s.createElementNS(Q,"svg");x.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',v.appendChild(x),u.appendChild(v),this.buttonElement=v;const E=s.createElement("div");if(E.classList.add(mt("t")),u.appendChild(E),this.textElement=E,l.pickerLayout==="inline"){const I=s.createElement("div");I.classList.add(mt("p")),this.element.appendChild(I),this.pickerElement=I}else this.pickerElement=null}}const Ye=D("cbzp");class us{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(Ye()),l.viewProps.bindClassModifiers(this.element);const u=s.createElement("div");u.classList.add(Ye("g")),this.element.appendChild(u),this.graphElement=u;const v=s.createElement("div");v.classList.add(Ye("t")),this.element.appendChild(v),this.textElement=v}}function zn(a,s){const l=new MutationObserver(v=>{for(const x of v)x.type==="childList"&&x.addedNodes.forEach(E=>{!E.contains(E)||(s(),l.disconnect())})}),u=a.ownerDocument;l.observe(u.body,{attributes:!0,childList:!0,subtree:!0})}const ue=D("cbzg");function Tr(a,s){return l=>s(a(l))}class Sr{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(ue()),l.viewProps.bindClassModifiers(this.element),l.viewProps.bindTabIndex(this.element);const u=s.createElement("div");u.classList.add(ue("p")),this.element.appendChild(u),this.previewElement=u;const v=s.createElementNS(Q,"svg");v.classList.add(ue("g")),this.element.appendChild(v),this.svgElem_=v;const x=s.createElementNS(Q,"path");x.classList.add(ue("u")),this.svgElem_.appendChild(x),this.guideElem_=x;const E=s.createElementNS(Q,"polyline");E.classList.add(ue("l")),this.svgElem_.appendChild(E),this.lineElem_=E,this.handleElems_=[s.createElement("div"),s.createElement("div")],this.handleElems_.forEach(I=>{I.classList.add(ue("h")),this.element.appendChild(I)}),this.vectorElems_=[s.createElementNS(Q,"line"),s.createElementNS(Q,"line")],this.vectorElems_.forEach(I=>{I.classList.add(ue("v")),this.svgElem_.appendChild(I)}),this.value_=l.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=l.selection,this.handleElems_.forEach((I,j)=>{J(this.sel_,Tr(wt=>wt===j,$t(I,ue("h","sel"))))}),zn(this.element,()=>{this.refresh()})}getVertMargin_(s){return s*.25}valueToPosition(s,l){const u=this.element.getBoundingClientRect(),v=u.width,x=u.height,E=this.getVertMargin_(x);return{x:pt(s,0,1,0,v),y:pt(l,0,1,x-E,E)}}positionToValue(s,l){const u=this.element.getBoundingClientRect(),v=u.width,x=u.height,E=this.getVertMargin_(x);return{x:Jt(pt(s,0,v,0,1),0,1),y:pt(l,x-E,E,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(x=>{const E=this.valueToPosition(0,x),I=this.valueToPosition(1,x);return[`M ${E.x},${E.y}`,`L ${I.x},${I.y}`].join(" ")}).join(" "));const s=this.value_.rawValue,l=[];let u=0;for(;;){const x=this.valueToPosition(...s.curve(u));if(l.push([x.x,x.y].join(",")),u>=1)break;u=Math.min(u+.05,1)}this.lineElem_.setAttributeNS(null,"points",l.join(" "));const v=s.toObject();[0,1].forEach(x=>{const E=this.valueToPosition(x,x),I=this.valueToPosition(v[x*2],v[x*2+1]),j=this.vectorElems_[x];j.setAttributeNS(null,"x1",String(E.x)),j.setAttributeNS(null,"y1",String(E.y)),j.setAttributeNS(null,"x2",String(I.x)),j.setAttributeNS(null,"y2",String(I.y));const wt=this.handleElems_[x];wt.style.left=`${I.x}px`,wt.style.top=`${I.y}px`})}onValueChange_(){this.refresh()}}const ps=24,We=400,Tt=1e3,ee=D("cbzprv");class pe{constructor(s,l){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=s.createElement("div"),this.element.classList.add(ee()),l.viewProps.bindClassModifiers(this.element);const u=s.createElementNS(Q,"svg");u.classList.add(ee("g")),this.element.appendChild(u),this.svgElem_=u;const v=s.createElementNS(Q,"path");v.classList.add(ee("t")),this.svgElem_.appendChild(v),this.ticksElem_=v;const x=s.createElement("div");x.classList.add(ee("m")),this.element.appendChild(x),this.markerElem_=x,this.value_=l.value,this.value_.emitter.on("change",this.onValueChange_),l.viewProps.handleDispose(this.onDispose_),zn(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(ee("m","a")),this.startTime_=new Date().getTime()+We,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(ee("m","a"))}onDispose_(){this.stop()}updateMarker_(s){const l=this.value_.rawValue.y(Jt(s,0,1));this.markerElem_.style.left=`${l*100}%`}refresh(){const s=this.svgElem_.getBoundingClientRect(),l=s.width,u=s.height,v=[],x=this.value_.rawValue;for(let E=0;E<ps;E++){const I=pt(E,0,ps-1,0,1),j=pt(x.y(I),0,1,0,l);v.push(`M ${j},0 v${u}`)}this.ticksElem_.setAttributeNS(null,"d",v.join(" "))}onTimer_(){if(this.startTime_===null)return;const s=new Date().getTime()-this.startTime_,l=s/Tt;this.updateMarker_(l),s>Tt+We&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function Ci(a,s,l,u){const v=l-a,x=u-s;return Math.sqrt(v*v+x*x)}function ds(a,s,l,u){const v=Ci(a,s,l,u),x=Math.atan2(u-s,l-a),E=Math.round(x/(Math.PI/4))*Math.PI/4;return{x:a+Math.cos(E)*v,y:s+Math.sin(E)*v}}class yi{constructor(s,l){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=l.baseStep,this.value=l.value,this.sel_=Ct(0),this.viewProps=l.viewProps,this.view=new Sr(s,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new pe(s,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",v=>{v.stopImmediatePropagation(),v.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const u=new xe(this.view.element);u.emitter.on("down",this.onPointerDown_),u.emitter.on("move",this.onPointerMove_),u.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(s,l,u){const v=this.sel_.rawValue,x=this.value.rawValue.toObject(),E=this.view.positionToValue(s.x,s.y),I=l?ds(v,v,E.x,E.y):E;x[v*2]=I.x,x[v*2+1]=I.y,this.value.setRawValue(new ae(...x),u)}onPointerDown_(s){const l=s.data;if(!l.point)return;const u=this.value.rawValue,v=this.view.valueToPosition(u.x1,u.y1),x=Ci(l.point.x,l.point.y,v.x,v.y),E=this.view.valueToPosition(u.x2,u.y2),I=Ci(l.point.x,l.point.y,E.x,E.y);this.sel_.rawValue=x<=I?0:1,this.updateValue_(l.point,s.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(s){const l=s.data;!l.point||this.updateValue_(l.point,s.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(s){const l=s.data;!l.point||this.updateValue_(l.point,s.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(s){es(s.key)&&s.preventDefault();const l=this.sel_.rawValue,u=this.value.rawValue.toObject();u[l*2]+=qe(this.baseStep_,fi(s)),u[l*2+1]+=qe(this.baseStep_,_n(s)),this.value.setRawValue(new ae(...u),{forceEmit:!1,last:!1})}onKeyUp_(s){es(s.key)&&s.preventDefault();const l=qe(this.baseStep_,fi(s)),u=qe(this.baseStep_,_n(s));l===0&&u===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Re{constructor(s,l){this.value=l.value,this.viewProps=l.viewProps,this.view=new us(s,{viewProps:this.viewProps}),this.gc_=new yi(s,{baseStep:l.axis.baseStep,value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const u=Object.assign(Object.assign({},l.axis),{constraint:new st({max:1,min:0})}),v=Object.assign(Object.assign({},l.axis),{constraint:void 0});this.tc_=new gi(s,{assembly:cs,axes:[u,v,u,v],parser:mn,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(s=>s.inputElement)]}refresh(){this.gc_.refresh()}}class ft{constructor(s,l){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=l.value,this.viewProps=l.viewProps,this.foldable_=M(l.expanded),this.view=new Lr(s,{foldable:this.foldable_,pickerLayout:l.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Vt(s,{parser:Mr,props:ht.fromObject({formatter:ce}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=l.pickerLayout==="popup"?new An(s,{viewProps:this.viewProps}):null;const u=new Re(s,{axis:l.axis,value:this.value,viewProps:this.viewProps});u.allFocusableElements.forEach(v=>{v.addEventListener("blur",this.onPopupChildBlur_),v.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=u,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),J(this.popC_.shows,v=>{v&&u.refresh()}),bn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:v=>v.rawValue,backward:(v,x)=>x.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),z(this.foldable_,this.view.pickerElement))}onButtonBlur_(s){if(!this.popC_)return;const l=s.relatedTarget;(!l||!this.popC_.view.element.contains(l))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(s){if(!this.popC_)return;const l=this.popC_.view.element,u=pn(s);u&&l.contains(u)||u&&u===this.view.buttonElement&&!Kt(l.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(s){!this.popC_||s.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function hs(){return new fr({assembly:cs,components:[0,1,2,3].map(a=>a%2===0?new st({min:0,max:1}):void 0)})}const gt={id:"cubic-bezier",type:"blade",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept(a){const s=tt,l=F(a,{value:s.required.array(s.required.number),view:s.required.constant("cubicbezier"),expanded:s.optional.boolean,label:s.optional.string,picker:s.optional.custom(u=>u==="inline"||u==="popup"?u:void 0)});return l?{params:l}:null},controller(a){var s,l;const u=new ae(...a.params.value),v=Ct(u,{constraint:hs(),equals:ae.equals}),x=new ft(a.document,{axis:{baseStep:.1,textProps:ht.fromObject({draggingScale:.01,formatter:Pt(2)})},expanded:(s=a.params.expanded)!==null&&s!==void 0?s:!1,pickerLayout:(l=a.params.picker)!==null&&l!==void 0?l:"popup",value:v,viewProps:a.viewProps});return new R(a.document,{blade:a.blade,props:ht.fromObject({label:a.params.label}),valueController:x})},api(a){return!(a.controller instanceof R)||!(a.controller.valueController instanceof ft)?null:new Pr(a.controller)}};class fs extends d{begin(){this.controller_.valueController.begin()}end(){this.controller_.valueController.end()}}const Bt=20;class Ar{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(s){this.start_=s.getTime()}calculateFps_(s){if(this.timestamps_.length===0)return null;const l=this.timestamps_[0];return 1e3*(this.frameCount_-l.frameCount)/(s-l.time)}compactTimestamps_(){if(this.timestamps_.length<=Bt)return;const s=this.timestamps_.length-Bt;this.timestamps_.splice(0,s);const l=this.timestamps_[0].frameCount;this.timestamps_.forEach(u=>{u.frameCount-=l}),this.frameCount_-=l}end(s){if(this.start_===null)return;const l=s.getTime();this.duration_=l-this.start_,this.start_=null,this.fps_=this.calculateFps_(l),this.timestamps_.push({frameCount:this.frameCount_,time:l}),++this.frameCount_,this.compactTimestamps_()}}const de=D("fps");class Ei{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(de()),l.viewProps.bindClassModifiers(this.element),this.graphElement=s.createElement("div"),this.graphElement.classList.add(de("g")),this.element.appendChild(this.graphElement);const u=s.createElement("div");u.classList.add(de("l")),this.element.appendChild(u);const v=s.createElement("span");v.classList.add(de("v")),v.textContent="--",u.appendChild(v),this.valueElement=v;const x=s.createElement("span");x.classList.add(de("u")),x.textContent="FPS",u.appendChild(x)}}class vs{constructor(s,l){this.stopwatch_=new Ar,this.onTick_=this.onTick_.bind(this),this.ticker_=l.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=l.value,this.viewProps=l.viewProps,this.view=new Ei(s,{viewProps:this.viewProps}),this.graphC_=new wr(s,{formatter:Pt(0),lineCount:l.lineCount,props:ht.fromObject({maxValue:l.maxValue,minValue:l.minValue}),value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const s=this.stopwatch_.fps;if(s!==null){const l=this.value_.rawValue;this.value_.rawValue=ir(l,s),this.view.valueElement.textContent=s.toFixed(0)}}}function Or(a,s){return s===0?new $:new Y(a,s!=null?s:_r.monitor.defaultInterval)}const Pi={id:"fpsgraph",type:"blade",accept(a){const s=tt,l=F(a,{view:s.required.constant("fpsgraph"),interval:s.optional.number,label:s.optional.string,lineCount:s.optional.number,max:s.optional.number,min:s.optional.number});return l?{params:l}:null},controller(a){var s,l,u,v;const x=(s=a.params.interval)!==null&&s!==void 0?s:500;return new _(a.document,{blade:a.blade,props:ht.fromObject({label:a.params.label}),valueController:new vs(a.document,{lineCount:(l=a.params.lineCount)!==null&&l!==void 0?l:2,maxValue:(u=a.params.max)!==null&&u!==void 0?u:90,minValue:(v=a.params.min)!==null&&v!==void 0?v:0,ticker:Or(a.document,x),value:Qi(80),viewProps:a.viewProps})})},api(a){return!(a.controller instanceof _)||!(a.controller.valueController instanceof vs)?null:new fs(a.controller)}};class Yt{constructor(s,l){this.min=s,this.max=l}static isObject(s){if(typeof s!="object"||s===null)return!1;const l=s.min,u=s.max;return!(typeof l!="number"||typeof u!="number")}static equals(s,l){return s.min===l.min&&s.max===l.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const Bn={fromComponents:a=>new Yt(a[0],a[1]),toComponents:a=>[a.min,a.max]};class Xe{constructor(s){this.edge=s}constrain(s){var l,u,v,x,E,I,j,wt;if(s.min<=s.max)return new Yt((u=(l=this.edge)===null||l===void 0?void 0:l.constrain(s.min))!==null&&u!==void 0?u:s.min,(x=(v=this.edge)===null||v===void 0?void 0:v.constrain(s.max))!==null&&x!==void 0?x:s.max);const he=(s.min+s.max)/2;return new Yt((I=(E=this.edge)===null||E===void 0?void 0:E.constrain(he))!==null&&I!==void 0?I:he,(wt=(j=this.edge)===null||j===void 0?void 0:j.constrain(he))!==null&&wt!==void 0?wt:he)}}const Je=D("rsltxt");class ms{constructor(s,l){this.sliderView_=l.sliderView,this.textView_=l.textView,this.element=s.createElement("div"),this.element.classList.add(Je());const u=s.createElement("div");u.classList.add(Je("s")),u.appendChild(this.sliderView_.element),this.element.appendChild(u);const v=s.createElement("div");v.classList.add(Je("t")),v.appendChild(this.textView_.element),this.element.appendChild(v)}}const Nt=D("rsl");class bs{constructor(s,l){this.maxValue_=l.maxValue,this.minValue_=l.minValue,this.element=s.createElement("div"),this.element.classList.add(Nt()),l.viewProps.bindClassModifiers(this.element),this.value_=l.value,this.value_.emitter.on("change",this.onValueChange_.bind(this));const u=s.createElement("div");u.classList.add(Nt("t")),this.element.appendChild(u),this.trackElement=u;const v=s.createElement("div");v.classList.add(Nt("b")),u.appendChild(v),this.barElement=v;const x=["min","max"].map(E=>{const I=s.createElement("div");return I.classList.add(Nt("k"),Nt("k",E)),u.appendChild(I),I});this.knobElements=[x[0],x[1]],this.update()}valueToX_(s){return Jt(pt(s,this.minValue_,this.maxValue_,0,1),0,1)*100}update(){const s=this.value_.rawValue;s.length===0?this.element.classList.add(Nt(void 0,"zero")):this.element.classList.remove(Nt(void 0,"zero"));const l=[this.valueToX_(s.min),this.valueToX_(s.max)];this.barElement.style.left=`${l[0]}%`,this.barElement.style.right=`${100-l[1]}%`,this.knobElements.forEach((u,v)=>{u.style.left=`${l[v]}%`})}onValueChange_(){this.update()}}class ki{constructor(s,l){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.maxValue_=l.maxValue,this.minValue_=l.minValue,this.viewProps=l.viewProps,this.value=l.value,this.view=new bs(s,{maxValue:l.maxValue,minValue:l.minValue,value:this.value,viewProps:l.viewProps});const u=new xe(this.view.trackElement);u.emitter.on("down",this.onPointerDown_),u.emitter.on("move",this.onPointerMove_),u.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(s){if(!s.point)return null;const l=(s.point.x+this.ofs_())/s.bounds.width;return pt(l,0,1,this.minValue_,this.maxValue_)}onPointerDown_(s){if(!s.data.point)return;const l=s.data.point.x/s.data.bounds.width,u=this.value.rawValue,v=pt(u.min,this.minValue_,this.maxValue_,0,1),x=pt(u.max,this.minValue_,this.maxValue_,0,1);Math.abs(x-l)<=.025?this.grabbing_="max":Math.abs(v-l)<=.025?this.grabbing_="min":l>=v&&l<=x?(this.grabbing_="length",this.grabOffset_=pt(l-v,0,1,0,this.maxValue_-this.minValue_)):l<v?(this.grabbing_="min",this.onPointerMove_(s)):l>x&&(this.grabbing_="max",this.onPointerMove_(s))}applyPointToValue_(s,l){const u=this.valueFromData_(s);if(u!==null){if(this.grabbing_==="min")this.value.setRawValue(new Yt(u,this.value.rawValue.max),l);else if(this.grabbing_==="max")this.value.setRawValue(new Yt(this.value.rawValue.min,u),l);else if(this.grabbing_==="length"){const v=this.value.rawValue.length;let x=u-this.grabOffset_,E=x+v;x<this.minValue_?(x=this.minValue_,E=this.minValue_+v):E>this.maxValue_&&(x=this.maxValue_-v,E=this.maxValue_),this.value.setRawValue(new Yt(x,E),l)}}}onPointerMove_(s){this.applyPointToValue_(s.data,{forceEmit:!1,last:!1})}onPointerUp_(s){this.applyPointToValue_(s.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Vi{constructor(s,l){this.value=l.value,this.viewProps=l.viewProps,this.sc_=new ki(s,l);const u={baseStep:l.baseStep,constraint:l.constraint,textProps:ht.fromObject({draggingScale:l.draggingScale,formatter:l.formatter})};this.tc_=new gi(s,{assembly:Bn,axes:[u,u],parser:l.parser,value:this.value,viewProps:l.viewProps}),this.view=new ms(s,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function Nr(a){return Yt.isObject(a)?new Yt(a.min,a.max):new Yt(0,0)}function Fn(a,s){a.writeProperty("max",s.max),a.writeProperty("min",s.min)}function Ze(a){const s=[],l=br(a);l&&s.push(l);const u=mr(a);return u&&s.push(u),new Xe(new Z(s))}const Qe={id:"input-interval",type:"input",css:'.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us)*5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',accept:(a,s)=>{if(!Yt.isObject(a))return null;const l=tt,u=F(s,{format:l.optional.function,max:l.optional.number,min:l.optional.number,step:l.optional.number});return u?{initialValue:new Yt(a.min,a.max),params:u}:null},binding:{reader:a=>Nr,constraint:a=>Ze(a.params),equals:Yt.equals,writer:a=>Fn},controller(a){var s;const l=a.value,u=a.constraint;if(!(u instanceof Xe))throw k.shouldNeverHappen();const v=(l.rawValue.min+l.rawValue.max)/2,x=(s=a.params.format)!==null&&s!==void 0?s:Pt(or(u.edge,v)),E=u.edge&&it(u.edge,st);if((E==null?void 0:E.minValue)!==void 0&&(E==null?void 0:E.maxValue)!==void 0)return new Vi(a.document,{baseStep:bi(u.edge),constraint:u.edge,draggingScale:is(E,v),formatter:x,maxValue:E.maxValue,minValue:E.minValue,parser:mn,value:l,viewProps:a.viewProps});const I={baseStep:bi(u.edge),constraint:u.edge,textProps:ht.fromObject({draggingScale:v,formatter:x})};return new gi(a.document,{assembly:Bn,axes:[I,I],parser:mn,value:l,viewProps:a.viewProps})}};class jn{constructor(s){this.controller_=s}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(s){this.controller_.viewProps.set("disabled",s)}get title(){var s;return(s=this.controller_.props.get("title"))!==null&&s!==void 0?s:""}set title(s){this.controller_.props.set("title",s)}}class Rr extends f{constructor(s,l,u,v,x){super(s,v,x),this.cell=l,this.index=u}}class Ir extends d{constructor(s){super(s),this.cellToApiMap_=new Map,this.controller_.valueController.cellControllers.forEach(u=>{const v=new jn(u);this.cellToApiMap_.set(u,v)})}get value(){return this.controller_.value}cell(s,l){const u=this.controller_.valueController,v=u.cellControllers[l*u.size[0]+s];return this.cellToApiMap_.get(v)}on(s,l){const u=l.bind(this);this.controller_.value.emitter.on(s,v=>{const x=this.controller_.valueController,E=x.findCellByValue(v.rawValue);if(!E)return;const I=this.cellToApiMap_.get(E);if(!I)return;const j=x.cellControllers.indexOf(E);u(new Rr(this,I,[j%x.size[0],Math.floor(j/x.size[0])],v.rawValue,void 0))})}}const Cn=D("rad");class Dr{constructor(s,l){this.element=s.createElement("div"),this.element.classList.add(Cn()),l.viewProps.bindClassModifiers(this.element);const u=s.createElement("label");u.classList.add(Cn("l")),this.element.appendChild(u);const v=s.createElement("input");v.classList.add(Cn("i")),v.name=l.name,v.type="radio",l.viewProps.bindDisabled(v),u.appendChild(v),this.inputElement=v;const x=s.createElement("div");x.classList.add(Cn("b")),u.appendChild(x);const E=s.createElement("div");E.classList.add(Cn("t")),x.appendChild(E),ot(l.props,"title",I=>{E.textContent=I})}}class Ie{constructor(s,l){this.props=l.props,this.viewProps=l.viewProps,this.view=new Dr(s,{name:l.name,props:this.props,viewProps:this.viewProps})}}class Mi{constructor(s,l){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=l.size;const[u,v]=this.size;for(let x=0;x<v;x++)for(let E=0;E<u;E++){const I=new Ie(s,{name:l.groupName,props:ht.fromObject(Object.assign({},l.cellConfig(E,x))),viewProps:B.create()});this.cellCs_.push(I),this.cellValues_.push(l.cellConfig(E,x).value)}this.value=l.value,J(this.value,x=>{const E=this.findCellByValue(x);!E||(E.view.inputElement.checked=!0)}),this.viewProps=B.create(),this.view=new O(s,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${u}, 1fr)`,this.cellCs_.forEach(x=>{x.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(x.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(s){const l=this.cellValues_.findIndex(u=>u===s);return l<0?null:this.cellCs_[l]}onCellInputChange_(s){const l=s.currentTarget,u=this.cellCs_.findIndex(v=>v.view.inputElement===l);u<0||(this.value.rawValue=this.cellValues_[u])}}const zr=function(){return{id:"radiogrid",type:"blade",accept(a){const s=tt,l=F(a,{cells:s.required.function,groupName:s.required.string,size:s.required.array(s.required.number),value:s.required.raw,view:s.required.constant("radiogrid"),label:s.optional.string});return l?{params:l}:null},controller(a){return new R(a.document,{blade:a.blade,props:ht.fromObject({label:a.params.label}),valueController:new Mi(a.document,{groupName:a.params.groupName,cellConfig:a.params.cells,size:a.params.size,value:Ct(a.params.value)})})},api(a){return!(a.controller instanceof R)||!(a.controller.valueController instanceof Mi)?null:new Ir(a.controller)}}}();function Li(a){return{id:"input-radiogrid",type:"input",accept(s,l){if(!a.isType(s))return null;const u=tt,v=F(l,{cells:u.required.function,groupName:u.required.string,size:u.required.array(u.required.number),view:u.required.constant("radiogrid")});return v?{initialValue:s,params:v}:null},binding:a.binding,controller:s=>new Mi(s.document,{cellConfig:s.params.cells,groupName:s.params.groupName,size:s.params.size,value:s.value})}}const Br=Li({isType:a=>typeof a=="number",binding:{reader:a=>we,writer:a=>Ne}}),_s=Li({isType:a=>typeof a=="string",binding:{reader:a=>Zi,writer:a=>Ne}}),Fr=Li({isType:a=>typeof a=="boolean",binding:{reader:a=>Ht,writer:a=>Ne}}),jr=[Er,gt,Pi,Qe,zr,Fr,Br,_s];c.CubicBezier=ae,c.plugins=jr,Object.defineProperty(c,"__esModule",{value:!0})})})(Os,Os.exports);const Nh=Oh(Os.exports),Rh=Hu({__proto__:null,default:Nh},[Os.exports]);/*!
 * v-tweakpane v0.1.1
 * (c) 2022 Vinayak Kulkarni
 * @license MIT
 */const Ih=jo({name:"VTweakpane",props:{pane:{type:Object,default:()=>{},required:!0}},emits:["on-pane-created"],setup(i,{emit:o}){const c=mo(null),d=mo(null);return Ia(()=>{Va(()=>{c.value instanceof Element&&(d.value=new Eo.exports.Pane({container:c.value,title:i.pane.title,expanded:i.pane.expanded}),d.value.registerPlugin(Rh),o("on-pane-created",d.value))})}),{el:c}}}),Dh=(i,o)=>{const c=i.__vccOpts||i;for(const[d,h]of o)c[d]=h;return c},zh={class:"w-full h-full"},Bh={ref:"el"};function Fh(i,o,c,d,h,f){return Jn(),Fi("main",zh,[Zt("div",Bh,null,512)])}const jh=Dh(Ih,[["render",Fh]]),$h=jo({components:{VTweakpane:jh,VGithubIcon:Ah},setup(){return{state:mo({pane:{title:"My Awesome Pane",inputs:[{factor:123,title:"hello",color:"#0f0"}]}})}}});const Kh=(i,o)=>{const c=i.__vccOpts||i;for(const[d,h]of o)c[d]=h;return c},Uh={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},Hh=Zt("div",{class:"absolute bottom-4 right-4"},[Zt("a",{href:"https://app.netlify.com/sites/v-tweakpane/deploys","aria-label":"View deploys on Netlify",target:"_blank",rel:"noopener noreferrer",class:"gray-400"},[Zt("img",{src:"https://www.netlify.com/img/global/badges/netlify-color-accent.svg",alt:"Deploys by Netlify"})])],-1);function qh(i,o,c,d,h,f){const b=$l("v-github-icon"),g=$l("v-tweakpane");return Jn(),Fi(Pe,null,[Xt(b,{url:"https://github.com/vinayakkulkarni/v-tweakpane"}),Zt("section",Uh,[Xt(g,{class:"p-4",pane:i.state.pane},null,8,["pane"]),Xt(g,{class:"p-4",pane:i.state.pane},null,8,["pane"]),Xt(g,{class:"p-4",pane:i.state.pane},null,8,["pane"]),Xt(g,{class:"p-4",pane:i.state.pane},null,8,["pane"])]),Hh],64)}const Gh=Kh($h,[["render",qh]]);_h(Gh).mount("#app");
